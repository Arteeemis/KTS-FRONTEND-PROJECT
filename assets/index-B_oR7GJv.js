var aI=Object.defineProperty;var sI=(n,e,t)=>e in n?aI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Kn=(n,e,t)=>sI(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function oI(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var gg={exports:{}},fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function lI(){if(e1)return fc;e1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var h in s)h!=="key"&&(l[h]=s[h])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return fc.Fragment=e,fc.jsx=t,fc.jsxs=t,fc}var t1;function uI(){return t1||(t1=1,gg.exports=lI()),gg.exports}var P=uI(),yg={exports:{}},hc={},vg={exports:{}},_g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function cI(){return n1||(n1=1,function(n){function e(ae,ye){var pe=ae.length;ae.push(ye);e:for(;0<pe;){var Ve=pe-1>>>1,B=ae[Ve];if(0<s(B,ye))ae[Ve]=ye,ae[pe]=B,pe=Ve;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var ye=ae[0],pe=ae.pop();if(pe!==ye){ae[0]=pe;e:for(var Ve=0,B=ae.length,le=B>>>1;Ve<le;){var me=2*(Ve+1)-1,de=ae[me],we=me+1,Pe=ae[we];if(0>s(de,pe))we<B&&0>s(Pe,de)?(ae[Ve]=Pe,ae[we]=pe,Ve=we):(ae[Ve]=de,ae[me]=pe,Ve=me);else if(we<B&&0>s(Pe,pe))ae[Ve]=Pe,ae[we]=pe,Ve=we;else break e}}return ye}function s(ae,ye){var pe=ae.sortIndex-ye.sortIndex;return pe!==0?pe:ae.id-ye.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],g=[],v=1,b=null,T=3,w=!1,O=!1,z=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Z(ae){for(var ye=t(g);ye!==null;){if(ye.callback===null)i(g);else if(ye.startTime<=ae)i(g),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(g)}}function N(ae){if(z=!1,Z(ae),!O)if(t(p)!==null)O=!0,re||(re=!0,U());else{var ye=t(g);ye!==null&&Me(N,ye.startTime-ae)}}var re=!1,D=-1,A=5,I=-1;function x(){return R?!0:!(n.unstable_now()-I<A)}function j(){if(R=!1,re){var ae=n.unstable_now();I=ae;var ye=!0;try{e:{O=!1,z&&(z=!1,k(D),D=-1),w=!0;var pe=T;try{t:{for(Z(ae),b=t(p);b!==null&&!(b.expirationTime>ae&&x());){var Ve=b.callback;if(typeof Ve=="function"){b.callback=null,T=b.priorityLevel;var B=Ve(b.expirationTime<=ae);if(ae=n.unstable_now(),typeof B=="function"){b.callback=B,Z(ae),ye=!0;break t}b===t(p)&&i(p),Z(ae)}else i(p);b=t(p)}if(b!==null)ye=!0;else{var le=t(g);le!==null&&Me(N,le.startTime-ae),ye=!1}}break e}finally{b=null,T=pe,w=!1}ye=void 0}}finally{ye?U():re=!1}}}var U;if(typeof G=="function")U=function(){G(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Xe=V.port2;V.port1.onmessage=j,U=function(){Xe.postMessage(null)}}else U=function(){M(j,0)};function Me(ae,ye){D=M(function(){ae(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(ae){switch(T){case 1:case 2:case 3:var ye=3;break;default:ye=T}var pe=T;T=ye;try{return ae()}finally{T=pe}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(ae,ye){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var pe=T;T=ae;try{return ye()}finally{T=pe}},n.unstable_scheduleCallback=function(ae,ye,pe){var Ve=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ve+pe:Ve):pe=Ve,ae){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=pe+B,ae={id:v++,callback:ye,priorityLevel:ae,startTime:pe,expirationTime:B,sortIndex:-1},pe>Ve?(ae.sortIndex=pe,e(g,ae),t(p)===null&&ae===t(g)&&(z?(k(D),D=-1):z=!0,Me(N,pe-Ve))):(ae.sortIndex=B,e(p,ae),O||w||(O=!0,re||(re=!0,U()))),ae},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(ae){var ye=T;return function(){var pe=T;T=ye;try{return ae.apply(this,arguments)}finally{T=pe}}}}(_g)),_g}var r1;function fI(){return r1||(r1=1,vg.exports=cI()),vg.exports}var Eg={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function hI(){if(i1)return Ze;i1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function R(B,le,me){this.props=B,this.context=le,this.refs=z,this.updater=me||w}R.prototype.isReactComponent={},R.prototype.setState=function(B,le){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,le,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=R.prototype;function k(B,le,me){this.props=B,this.context=le,this.refs=z,this.updater=me||w}var G=k.prototype=new M;G.constructor=k,O(G,R.prototype),G.isPureReactComponent=!0;var Z=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function D(B,le,me,de,we,Pe){return me=Pe.ref,{$$typeof:n,type:B,key:le,ref:me!==void 0?me:null,props:Pe}}function A(B,le){return D(B.type,le,void 0,void 0,void 0,B.props)}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function x(B){var le={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return le[me]})}var j=/\/+/g;function U(B,le){return typeof B=="object"&&B!==null&&B.key!=null?x(""+B.key):le.toString(36)}function V(){}function Xe(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(V,V):(B.status="pending",B.then(function(le){B.status==="pending"&&(B.status="fulfilled",B.value=le)},function(le){B.status==="pending"&&(B.status="rejected",B.reason=le)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Me(B,le,me,de,we){var Pe=typeof B;(Pe==="undefined"||Pe==="boolean")&&(B=null);var De=!1;if(B===null)De=!0;else switch(Pe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(B.$$typeof){case n:case e:De=!0;break;case v:return De=B._init,Me(De(B._payload),le,me,de,we)}}if(De)return we=we(B),De=de===""?"."+U(B,0):de,Z(we)?(me="",De!=null&&(me=De.replace(j,"$&/")+"/"),Me(we,le,me,"",function(Qe){return Qe})):we!=null&&(I(we)&&(we=A(we,me+(we.key==null||B&&B.key===we.key?"":(""+we.key).replace(j,"$&/")+"/")+De)),le.push(we)),1;De=0;var Pt=de===""?".":de+":";if(Z(B))for(var rt=0;rt<B.length;rt++)de=B[rt],Pe=Pt+U(de,rt),De+=Me(de,le,me,Pe,we);else if(rt=T(B),typeof rt=="function")for(B=rt.call(B),rt=0;!(de=B.next()).done;)de=de.value,Pe=Pt+U(de,rt++),De+=Me(de,le,me,Pe,we);else if(Pe==="object"){if(typeof B.then=="function")return Me(Xe(B),le,me,de,we);throw le=String(B),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return De}function ae(B,le,me){if(B==null)return B;var de=[],we=0;return Me(B,de,"","",function(Pe){return le.call(me,Pe,we++)}),de}function ye(B){if(B._status===-1){var le=B._result;le=le(),le.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=le)}if(B._status===1)return B._result.default;throw B._result}var pe=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Ve(){}return Ze.Children={map:ae,forEach:function(B,le,me){ae(B,function(){le.apply(this,arguments)},me)},count:function(B){var le=0;return ae(B,function(){le++}),le},toArray:function(B){return ae(B,function(le){return le})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ze.Component=R,Ze.Fragment=t,Ze.Profiler=s,Ze.PureComponent=k,Ze.StrictMode=i,Ze.Suspense=p,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(B){return N.H.useMemoCache(B)}},Ze.cache=function(B){return function(){return B.apply(null,arguments)}},Ze.cloneElement=function(B,le,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var de=O({},B.props),we=B.key,Pe=void 0;if(le!=null)for(De in le.ref!==void 0&&(Pe=void 0),le.key!==void 0&&(we=""+le.key),le)!re.call(le,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&le.ref===void 0||(de[De]=le[De]);var De=arguments.length-2;if(De===1)de.children=me;else if(1<De){for(var Pt=Array(De),rt=0;rt<De;rt++)Pt[rt]=arguments[rt+2];de.children=Pt}return D(B.type,we,void 0,void 0,Pe,de)},Ze.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Ze.createElement=function(B,le,me){var de,we={},Pe=null;if(le!=null)for(de in le.key!==void 0&&(Pe=""+le.key),le)re.call(le,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(we[de]=le[de]);var De=arguments.length-2;if(De===1)we.children=me;else if(1<De){for(var Pt=Array(De),rt=0;rt<De;rt++)Pt[rt]=arguments[rt+2];we.children=Pt}if(B&&B.defaultProps)for(de in De=B.defaultProps,De)we[de]===void 0&&(we[de]=De[de]);return D(B,Pe,void 0,void 0,null,we)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(B){return{$$typeof:h,render:B}},Ze.isValidElement=I,Ze.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:ye}},Ze.memo=function(B,le){return{$$typeof:g,type:B,compare:le===void 0?null:le}},Ze.startTransition=function(B){var le=N.T,me={};N.T=me;try{var de=B(),we=N.S;we!==null&&we(me,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(Ve,pe)}catch(Pe){pe(Pe)}finally{N.T=le}},Ze.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ze.use=function(B){return N.H.use(B)},Ze.useActionState=function(B,le,me){return N.H.useActionState(B,le,me)},Ze.useCallback=function(B,le){return N.H.useCallback(B,le)},Ze.useContext=function(B){return N.H.useContext(B)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(B,le){return N.H.useDeferredValue(B,le)},Ze.useEffect=function(B,le,me){var de=N.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(B,le)},Ze.useId=function(){return N.H.useId()},Ze.useImperativeHandle=function(B,le,me){return N.H.useImperativeHandle(B,le,me)},Ze.useInsertionEffect=function(B,le){return N.H.useInsertionEffect(B,le)},Ze.useLayoutEffect=function(B,le){return N.H.useLayoutEffect(B,le)},Ze.useMemo=function(B,le){return N.H.useMemo(B,le)},Ze.useOptimistic=function(B,le){return N.H.useOptimistic(B,le)},Ze.useReducer=function(B,le,me){return N.H.useReducer(B,le,me)},Ze.useRef=function(B){return N.H.useRef(B)},Ze.useState=function(B){return N.H.useState(B)},Ze.useSyncExternalStore=function(B,le,me){return N.H.useSyncExternalStore(B,le,me)},Ze.useTransition=function(){return N.H.useTransition()},Ze.version="19.1.0",Ze}var a1;function Vd(){return a1||(a1=1,Eg.exports=hI()),Eg.exports}var bg={exports:{}},rr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function dI(){if(s1)return rr;s1=1;var n=Vd();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rr.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},rr.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},rr.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},rr.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},rr.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=h(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:w}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:T,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rr.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},rr.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=h(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rr.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=h(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},rr.requestFormReset=function(p){i.d.r(p)},rr.unstable_batchedUpdates=function(p,g){return p(g)},rr.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},rr.useFormStatus=function(){return c.H.useHostTransitionStatus()},rr.version="19.1.0",rr}var o1;function OS(){if(o1)return bg.exports;o1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bg.exports=dI(),bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1;function pI(){if(l1)return hc;l1=1;var n=fI(),e=Vd(),t=OS();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function p(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return h(d),r;if(m===u)return h(d),a;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=m;else{for(var E=!1,S=d.child;S;){if(S===o){E=!0,o=d,u=m;break}if(S===u){E=!0,u=d,o=m;break}S=S.sibling}if(!E){for(S=m.child;S;){if(S===o){E=!0,o=m,u=d;break}if(S===u){E=!0,u=m,o=d;break}S=S.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),G=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function Xe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case R:return"Profiler";case z:return"StrictMode";case N:return"Suspense";case re:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case G:return(r.displayName||"Context")+".Provider";case k:return(r._context.displayName||"Context")+".Consumer";case Z:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:Xe(r.type)||"Memo";case A:a=r._payload,r=r._init;try{return Xe(r(a))}catch{}}return null}var Me=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ve=[],B=-1;function le(r){return{current:r}}function me(r){0>B||(r.current=Ve[B],Ve[B]=null,B--)}function de(r,a){B++,Ve[B]=r.current,r.current=a}var we=le(null),Pe=le(null),De=le(null),Pt=le(null);function rt(r,a){switch(de(De,a),de(Pe,r),de(we,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Cb(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Cb(a),r=Ob(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}me(we),de(we,r)}function Qe(){me(we),me(Pe),me(De)}function ze(r){r.memoizedState!==null&&de(Pt,r);var a=we.current,o=Ob(a,r.type);a!==o&&(de(Pe,r),de(we,o))}function mt(r){Pe.current===r&&(me(we),me(Pe)),Pt.current===r&&(me(Pt),sc._currentValue=pe)}var lt=Object.prototype.hasOwnProperty,ht=n.unstable_scheduleCallback,Ht=n.unstable_cancelCallback,hn=n.unstable_shouldYield,Xt=n.unstable_requestPaint,Mt=n.unstable_now,Dn=n.unstable_getCurrentPriorityLevel,pr=n.unstable_ImmediatePriority,Bn=n.unstable_UserBlockingPriority,qt=n.unstable_NormalPriority,Zn=n.unstable_LowPriority,Jn=n.unstable_IdlePriority,er=n.log,lr=n.unstable_setDisableYieldValue,gt=null,dt=null;function _n(r){if(typeof er=="function"&&lr(r),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(gt,r)}catch{}}var Wt=Math.clz32?Math.clz32:Ur,zn=Math.log,Wi=Math.LN2;function Ur(r){return r>>>=0,r===0?32:31-(zn(r)/Wi|0)|0}var jr=256,br=4194304;function En(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function X(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,m=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?d=En(u):(E&=S,E!==0?d=En(E):o||(o=S&~r,o!==0&&(d=En(o))))):(S=u&~m,S!==0?d=En(S):E!==0?d=En(E):o||(o=u&~r,o!==0&&(d=En(o)))),d===0?0:a!==0&&a!==d&&(a&m)===0&&(m=d&-d,o=a&-a,m>=o||m===32&&(o&4194048)!==0)?a:d}function J(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function We(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var r=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),r}function vt(){var r=br;return br<<=1,(br&62914560)===0&&(br=4194304),r}function ke(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function ln(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Nn(r,a,o,u,d,m){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,L=r.expirationTimes,W=r.hiddenUpdates;for(o=E&~o;0<o;){var se=31-Wt(o),ce=1<<se;S[se]=0,L[se]=-1;var ee=W[se];if(ee!==null)for(W[se]=null,se=0;se<ee.length;se++){var te=ee[se];te!==null&&(te.lane&=-536870913)}o&=~ce}u!==0&&Vt(r,u,0),m!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~a))}function Vt(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-Wt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function tr(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-Wt(o),d=1<<u;d&a|r[u]&a&&(r[u]|=a),o&=~d}}function mr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function q(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function H(){var r=ye.p;return r!==0?r:(r=window.event,r===void 0?32:Kb(r.type))}function ne(r,a){var o=ye.p;try{return ye.p=r,a()}finally{ye.p=o}}var oe=Math.random().toString(36).slice(2),ge="__reactFiber$"+oe,be="__reactProps$"+oe,Ae="__reactContainer$"+oe,Se="__reactEvents$"+oe,Ie="__reactListeners$"+oe,_e="__reactHandles$"+oe,Oe="__reactResources$"+oe,Ne="__reactMarker$"+oe;function $e(r){delete r[ge],delete r[be],delete r[Se],delete r[Ie],delete r[_e]}function pt(r){var a=r[ge];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Ae]||o[ge]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=xb(r);r!==null;){if(o=r[ge])return o;r=xb(r)}return a}r=o,o=r.parentNode}return null}function Ot(r){if(r=r[ge]||r[Ae]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function _t(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Je(r){var a=r[Oe];return a||(a=r[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ge(r){r[Ne]=!0}var bn=new Set,qn={};function en(r,a){tn(r,a),tn(r+"Capture",a)}function tn(r,a){for(qn[r]=a,r=0;r<a.length;r++)bn.add(a[r])}var qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ei={},ur={};function Zi(r){return lt.call(ur,r)?!0:lt.call(Ei,r)?!1:qa.test(r)?ur[r]=!0:(Ei[r]=!0,!1)}function Tr(r,a,o){if(Zi(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function it(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function Et(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var Br,bi;function Dt(r){if(Br===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Br=a&&a[1]||"",bi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Br+r+bi}var wr=!1;function Ji(r,a){if(!r||wr)return"";wr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var ee=te}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(te){ee=te}r.call(ce.prototype)}}else{try{throw Error()}catch(te){ee=te}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],S=m[1];if(E&&S){var L=E.split(`
`),W=S.split(`
`);for(d=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(u===L.length||d===W.length)for(u=L.length-1,d=W.length-1;1<=u&&0<=d&&L[u]!==W[d];)d--;for(;1<=u&&0<=d;u--,d--)if(L[u]!==W[d]){if(u!==1||d!==1)do if(u--,d--,0>d||L[u]!==W[d]){var se=`
`+L[u].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=u&&0<=d);break}}}finally{wr=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Dt(o):""}function zs(r){switch(r.tag){case 26:case 27:case 5:return Dt(r.type);case 16:return Dt("Lazy");case 13:return Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return Ji(r.type,!1);case 11:return Ji(r.type.render,!1);case 1:return Ji(r.type,!0);case 31:return Dt("Activity");default:return""}}function zo(r){try{var a="";do a+=zs(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function pu(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ep(r){var a=pu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return d.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function qo(r){r._valueTracker||(r._valueTracker=Ep(r))}function mu(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=pu(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function qs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var bp=/[\n"\\]/g;function dn(r){return r.replace(bp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Sr(r,a,o,u,d,m,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+cr(a)):r.value!==""+cr(a)&&(r.value=""+cr(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Fa(r,E,cr(a)):o!=null?Fa(r,E,cr(o)):u!=null&&r.removeAttribute("value"),d==null&&m!=null&&(r.defaultChecked=!!m),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+cr(S):r.removeAttribute("name")}function Fs(r,a,o,u,d,m,E,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),a!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||a!=null))return;o=o!=null?""+cr(o):"",a=a!=null?""+cr(a):o,S||a===r.value||(r.value=a),r.defaultValue=a}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Fa(r,a,o){a==="number"&&qs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ea(r,a,o,u){if(r=r.options,a){a={};for(var d=0;d<o.length;d++)a["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=a.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+cr(o),a=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}a!==null||r[d].disabled||(a=r[d])}a!==null&&(a.selected=!0)}}function Ut(r,a,o){if(a!=null&&(a=""+cr(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+cr(o):""}function Hs(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(Me(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=cr(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function zr(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var $s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pf(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||$s.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function gu(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in a)u=a[d],a.hasOwnProperty(d)&&o[d]!==u&&pf(r,d,u)}else for(var m in a)a.hasOwnProperty(m)&&pf(r,m,a[m])}function yu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(r){return wp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ta=null;function qr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var na=null,ra=null;function vu(r){var a=Ot(r);if(a&&(r=a.stateNode)){var o=r[be]||null;e:switch(r=a.stateNode,a.type){case"input":if(Sr(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+dn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var d=u[be]||null;if(!d)throw Error(i(90));Sr(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&mu(u)}break e;case"textarea":Ut(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&ea(r,!!o.multiple,a,!1)}}}var Ti=!1;function mf(r,a,o){if(Ti)return r(a,o);Ti=!0;try{var u=r(a);return u}finally{if(Ti=!1,(na!==null||ra!==null)&&(lh(),na&&(a=na,r=ra,ra=na=null,vu(a),r)))for(a=0;a<r.length;a++)vu(r[a])}}function Gs(r,a){var o=r.stateNode;if(o===null)return null;var u=o[be]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(oi)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Fr=!1}var wi=null,Ha=null,ia=null;function _u(){if(ia)return ia;var r,a=Ha,o=a.length,u,d="value"in wi?wi.value:wi.textContent,m=d.length;for(r=0;r<o&&a[r]===d[r];r++);var E=o-r;for(u=1;u<=E&&a[o-u]===d[m-u];u++);return ia=d.slice(r,1<u?1-u:void 0)}function Si(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ai(){return!0}function Eu(){return!1}function xn(r){function a(o,u,d,m,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ai:Eu,this.isPropagationStopped=Eu,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),a}var Nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=xn(Nt),Qs=v({},Nt,{view:0,detail:0}),gf=xn(Qs),$o,Go,Ri,Ys=v({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ri&&(Ri&&r.type==="mousemove"?($o=r.screenX-Ri.screenX,Go=r.screenY-Ri.screenY):Go=$o=0,Ri=r),$o)},movementY:function(r){return"movementY"in r?r.movementY:Go}}),Hr=xn(Ys),yf=v({},Ys,{dataTransfer:0}),Sp=xn(yf),Xs=v({},Qs,{relatedTarget:0}),Ko=xn(Xs),bu=v({},Nt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qo=xn(bu),vf=v({},Nt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Yo=xn(vf),Ap=v({},Nt,{data:0}),Tu=xn(Ap),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ef={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ef[r])?!!a[r]:!1}function Zs(){return wu}var bf=v({},Qs,{key:function(r){if(r.key){var a=Ws[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Si(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?_f[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(r){return r.type==="keypress"?Si(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Si(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Xo=xn(bf),Tf=v({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=xn(Tf),aa=v({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),wf=xn(aa),Sf=v({},Nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Af=xn(Sf),Rf=v({},Ys,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Wo=xn(Rf),fr=v({},Nt,{newState:0,oldState:0}),Cf=xn(fr),Of=[9,13,27,32],Ci=oi&&"CompositionEvent"in window,f=null;oi&&"documentMode"in document&&(f=document.documentMode);var y=oi&&"TextEvent"in window&&!f,_=oi&&(!Ci||f&&8<f&&11>=f),C=" ",Q=!1;function ie(r,a){switch(r){case"keyup":return Of.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var bt=!1;function Tn(r,a){switch(r){case"compositionend":return ve(a);case"keypress":return a.which!==32?null:(Q=!0,C);case"textInput":return r=a.data,r===C&&Q?null:r;default:return null}}function Tt(r,a){if(bt)return r==="compositionend"||!Ci&&ie(r,a)?(r=_u(),ia=Ha=wi=null,bt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _&&a.locale!=="ko"?null:a.data;default:return null}}var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Pn[r.type]:a==="textarea"}function sa(r,a,o,u){na?ra?ra.push(u):ra=[u]:na=u,a=ph(a,"onChange"),0<a.length&&(o=new Ho("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var Fn=null,Oi=null;function Au(r){Tb(r,0)}function If(r){var a=_t(r);if(mu(a))return r}function F_(r,a){if(r==="change")return a}var H_=!1;if(oi){var Rp;if(oi){var Cp="oninput"in document;if(!Cp){var $_=document.createElement("div");$_.setAttribute("oninput","return;"),Cp=typeof $_.oninput=="function"}Rp=Cp}else Rp=!1;H_=Rp&&(!document.documentMode||9<document.documentMode)}function G_(){Fn&&(Fn.detachEvent("onpropertychange",K_),Oi=Fn=null)}function K_(r){if(r.propertyName==="value"&&If(Oi)){var a=[];sa(a,Oi,r,qr(r)),mf(Au,a)}}function VC(r,a,o){r==="focusin"?(G_(),Fn=a,Oi=o,Fn.attachEvent("onpropertychange",K_)):r==="focusout"&&G_()}function LC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return If(Oi)}function kC(r,a){if(r==="click")return If(a)}function UC(r,a){if(r==="input"||r==="change")return If(a)}function jC(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Ar=typeof Object.is=="function"?Object.is:jC;function Ru(r,a){if(Ar(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!lt.call(a,d)||!Ar(r[d],a[d]))return!1}return!0}function Q_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Y_(r,a){var o=Q_(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Q_(o)}}function X_(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?X_(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function W_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=qs(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=qs(r.document)}return a}function Op(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var BC=oi&&"documentMode"in document&&11>=document.documentMode,Zo=null,Ip=null,Cu=null,Dp=!1;function Z_(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Dp||Zo==null||Zo!==qs(u)||(u=Zo,"selectionStart"in u&&Op(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Cu&&Ru(Cu,u)||(Cu=u,u=ph(Ip,"onSelect"),0<u.length&&(a=new Ho("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=Zo)))}function Js(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Jo={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},Np={},J_={};oi&&(J_=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function eo(r){if(Np[r])return Np[r];if(!Jo[r])return r;var a=Jo[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in J_)return Np[r]=a[o];return r}var e0=eo("animationend"),t0=eo("animationiteration"),n0=eo("animationstart"),zC=eo("transitionrun"),qC=eo("transitionstart"),FC=eo("transitioncancel"),r0=eo("transitionend"),i0=new Map,xp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xp.push("scrollEnd");function li(r,a){i0.set(r,a),en(a,[r])}var a0=new WeakMap;function $r(r,a){if(typeof r=="object"&&r!==null){var o=a0.get(r);return o!==void 0?o:(a={value:r,source:a,stack:zo(a)},a0.set(r,a),a)}return{value:r,source:a,stack:zo(a)}}var Gr=[],el=0,Pp=0;function Df(){for(var r=el,a=Pp=el=0;a<r;){var o=Gr[a];Gr[a++]=null;var u=Gr[a];Gr[a++]=null;var d=Gr[a];Gr[a++]=null;var m=Gr[a];if(Gr[a++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}m!==0&&s0(o,d,m)}}function Nf(r,a,o,u){Gr[el++]=r,Gr[el++]=a,Gr[el++]=o,Gr[el++]=u,Pp|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Mp(r,a,o,u){return Nf(r,a,o,u),xf(r)}function tl(r,a){return Nf(r,null,null,a),xf(r)}function s0(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(d=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,d&&a!==null&&(d=31-Wt(o),r=m.hiddenUpdates,u=r[d],u===null?r[d]=[a]:u.push(a),a.lane=o|536870912),m):null}function xf(r){if(50<Zu)throw Zu=0,Bm=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var nl={};function HC(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(r,a,o,u){return new HC(r,a,o,u)}function Vp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function oa(r,a){var o=r.alternate;return o===null?(o=Rr(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function o0(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Pf(r,a,o,u,d,m){var E=0;if(u=r,typeof r=="function")Vp(r)&&(E=1);else if(typeof r=="string")E=GO(r,o,we.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Rr(31,o,a,d),r.elementType=I,r.lanes=m,r;case O:return to(o.children,d,m,a);case z:E=8,d|=24;break;case R:return r=Rr(12,o,a,d|2),r.elementType=R,r.lanes=m,r;case N:return r=Rr(13,o,a,d),r.elementType=N,r.lanes=m,r;case re:return r=Rr(19,o,a,d),r.elementType=re,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case G:E=10;break e;case k:E=9;break e;case Z:E=11;break e;case D:E=14;break e;case A:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=Rr(E,o,a,d),a.elementType=r,a.type=u,a.lanes=m,a}function to(r,a,o,u){return r=Rr(7,r,u,a),r.lanes=o,r}function Lp(r,a,o){return r=Rr(6,r,null,a),r.lanes=o,r}function kp(r,a,o){return a=Rr(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var rl=[],il=0,Mf=null,Vf=0,Kr=[],Qr=0,no=null,la=1,ua="";function ro(r,a){rl[il++]=Vf,rl[il++]=Mf,Mf=r,Vf=a}function l0(r,a,o){Kr[Qr++]=la,Kr[Qr++]=ua,Kr[Qr++]=no,no=r;var u=la;r=ua;var d=32-Wt(u)-1;u&=~(1<<d),o+=1;var m=32-Wt(a)+d;if(30<m){var E=d-d%5;m=(u&(1<<E)-1).toString(32),u>>=E,d-=E,la=1<<32-Wt(a)+d|o<<d|u,ua=m+r}else la=1<<m|o<<d|u,ua=r}function Up(r){r.return!==null&&(ro(r,1),l0(r,1,0))}function jp(r){for(;r===Mf;)Mf=rl[--il],rl[il]=null,Vf=rl[--il],rl[il]=null;for(;r===no;)no=Kr[--Qr],Kr[Qr]=null,ua=Kr[--Qr],Kr[Qr]=null,la=Kr[--Qr],Kr[Qr]=null}var hr=null,sn=null,It=!1,io=null,Ii=!1,Bp=Error(i(519));function ao(r){var a=Error(i(418,""));throw Du($r(a,r)),Bp}function u0(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[ge]=r,a[be]=u,o){case"dialog":st("cancel",a),st("close",a);break;case"iframe":case"object":case"embed":st("load",a);break;case"video":case"audio":for(o=0;o<ec.length;o++)st(ec[o],a);break;case"source":st("error",a);break;case"img":case"image":case"link":st("error",a),st("load",a);break;case"details":st("toggle",a);break;case"input":st("invalid",a),Fs(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),qo(a);break;case"select":st("invalid",a);break;case"textarea":st("invalid",a),Hs(a,u.value,u.defaultValue,u.children),qo(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||Rb(a.textContent,o)?(u.popover!=null&&(st("beforetoggle",a),st("toggle",a)),u.onScroll!=null&&st("scroll",a),u.onScrollEnd!=null&&st("scrollend",a),u.onClick!=null&&(a.onclick=mh),a=!0):a=!1,a||ao(r)}function c0(r){for(hr=r.return;hr;)switch(hr.tag){case 5:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:hr=hr.return}}function Ou(r){if(r!==hr)return!1;if(!It)return c0(r),It=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ng(r.type,r.memoizedProps)),o=!o),o&&sn&&ao(r),c0(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){sn=ci(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}sn=null}}else a===27?(a=sn,ss(r.type)?(r=sg,sg=null,sn=r):sn=a):sn=hr?ci(r.stateNode.nextSibling):null;return!0}function Iu(){sn=hr=null,It=!1}function f0(){var r=io;return r!==null&&(vr===null?vr=r:vr.push.apply(vr,r),io=null),r}function Du(r){io===null?io=[r]:io.push(r)}var zp=le(null),so=null,ca=null;function $a(r,a,o){de(zp,a._currentValue),a._currentValue=o}function fa(r){r._currentValue=zp.current,me(zp)}function qp(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function Fp(r,a,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var m=d.dependencies;if(m!==null){var E=d.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=d;for(var L=0;L<a.length;L++)if(S.context===a[L]){m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),qp(m.return,o,r),u||(E=null);break e}m=S.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),qp(E,o,r),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===r){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Nu(r,a,o,u){r=null;for(var d=a,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=d.type;Ar(d.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(d===Pt.current){if(E=d.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(sc):r=[sc])}d=d.return}r!==null&&Fp(a,r,o,u),a.flags|=262144}function Lf(r){for(r=r.firstContext;r!==null;){if(!Ar(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function oo(r){so=r,ca=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function nr(r){return h0(so,r)}function kf(r,a){return so===null&&oo(r),h0(r,a)}function h0(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},ca===null){if(r===null)throw Error(i(308));ca=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else ca=ca.next=a;return o}var $C=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},GC=n.unstable_scheduleCallback,KC=n.unstable_NormalPriority,Sn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hp(){return{controller:new $C,data:new Map,refCount:0}}function xu(r){r.refCount--,r.refCount===0&&GC(KC,function(){r.controller.abort()})}var Pu=null,$p=0,al=0,sl=null;function QC(r,a){if(Pu===null){var o=Pu=[];$p=0,al=Km(),sl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $p++,a.then(d0,d0),a}function d0(){if(--$p===0&&Pu!==null){sl!==null&&(sl.status="fulfilled");var r=Pu;Pu=null,al=0,sl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function YC(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var d=0;d<o.length;d++)(0,o[d])(a)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var p0=ae.S;ae.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&QC(r,a),p0!==null&&p0(r,a)};var lo=le(null);function Gp(){var r=lo.current;return r!==null?r:$t.pooledCache}function Uf(r,a){a===null?de(lo,lo.current):de(lo,a.pool)}function m0(){var r=Gp();return r===null?null:{parent:Sn._currentValue,pool:r}}var Mu=Error(i(460)),g0=Error(i(474)),jf=Error(i(542)),Kp={then:function(){}};function y0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Bf(){}function v0(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(Bf,Bf),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,E0(r),r;default:if(typeof a.status=="string")a.then(Bf,Bf);else{if(r=$t,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=u}},function(u){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,E0(r),r}throw Vu=a,Mu}}var Vu=null;function _0(){if(Vu===null)throw Error(i(459));var r=Vu;return Vu=null,r}function E0(r){if(r===Mu||r===jf)throw Error(i(483))}var Ga=!1;function Qp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yp(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ka(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Qa(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Lt&2)!==0){var d=u.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a,a=xf(r),s0(r,null,o),a}return Nf(r,u,a,o),xf(r)}function Lu(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,tr(r,o)}}function Xp(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?d=m=a:m=m.next=a}else d=m=a;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var Wp=!1;function ku(){if(Wp){var r=sl;if(r!==null)throw r}}function Uu(r,a,o,u){Wp=!1;var d=r.updateQueue;Ga=!1;var m=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var L=S,W=L.next;L.next=null,E===null?m=W:E.next=W,E=L;var se=r.alternate;se!==null&&(se=se.updateQueue,S=se.lastBaseUpdate,S!==E&&(S===null?se.firstBaseUpdate=W:S.next=W,se.lastBaseUpdate=L))}if(m!==null){var ce=d.baseState;E=0,se=W=L=null,S=m;do{var ee=S.lane&-536870913,te=ee!==S.lane;if(te?(wt&ee)===ee:(u&ee)===ee){ee!==0&&ee===al&&(Wp=!0),se!==null&&(se=se.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var qe=r,Ue=S;ee=a;var zt=o;switch(Ue.tag){case 1:if(qe=Ue.payload,typeof qe=="function"){ce=qe.call(zt,ce,ee);break e}ce=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Ue.payload,ee=typeof qe=="function"?qe.call(zt,ce,ee):qe,ee==null)break e;ce=v({},ce,ee);break e;case 2:Ga=!0}}ee=S.callback,ee!==null&&(r.flags|=64,te&&(r.flags|=8192),te=d.callbacks,te===null?d.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:S.tag,payload:S.payload,callback:S.callback,next:null},se===null?(W=se=te,L=ce):se=se.next=te,E|=ee;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;te=S,S=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);se===null&&(L=ce),d.baseState=L,d.firstBaseUpdate=W,d.lastBaseUpdate=se,m===null&&(d.shared.lanes=0),ns|=E,r.lanes=E,r.memoizedState=ce}}function b0(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function T0(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)b0(o[r],a)}var ol=le(null),zf=le(0);function w0(r,a){r=va,de(zf,r),de(ol,a),va=r|a.baseLanes}function Zp(){de(zf,va),de(ol,ol.current)}function Jp(){va=zf.current,me(ol),me(zf)}var Ya=0,et=null,jt=null,pn=null,qf=!1,ll=!1,uo=!1,Ff=0,ju=0,ul=null,XC=0;function un(){throw Error(i(321))}function em(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Ar(r[o],a[o]))return!1;return!0}function tm(r,a,o,u,d,m){return Ya=m,et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ae.H=r===null||r.memoizedState===null?sE:oE,uo=!1,m=o(u,d),uo=!1,ll&&(m=A0(a,o,u,d)),S0(r),m}function S0(r){ae.H=Yf;var a=jt!==null&&jt.next!==null;if(Ya=0,pn=jt=et=null,qf=!1,ju=0,ul=null,a)throw Error(i(300));r===null||Mn||(r=r.dependencies,r!==null&&Lf(r)&&(Mn=!0))}function A0(r,a,o,u){et=r;var d=0;do{if(ll&&(ul=null),ju=0,ll=!1,25<=d)throw Error(i(301));if(d+=1,pn=jt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}ae.H=rO,m=a(o,u)}while(ll);return m}function WC(){var r=ae.H,a=r.useState()[0];return a=typeof a.then=="function"?Bu(a):a,r=r.useState()[0],(jt!==null?jt.memoizedState:null)!==r&&(et.flags|=1024),a}function nm(){var r=Ff!==0;return Ff=0,r}function rm(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function im(r){if(qf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}qf=!1}Ya=0,pn=jt=et=null,ll=!1,ju=Ff=0,ul=null}function gr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?et.memoizedState=pn=r:pn=pn.next=r,pn}function mn(){if(jt===null){var r=et.alternate;r=r!==null?r.memoizedState:null}else r=jt.next;var a=pn===null?et.memoizedState:pn.next;if(a!==null)pn=a,jt=r;else{if(r===null)throw et.alternate===null?Error(i(467)):Error(i(310));jt=r,r={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},pn===null?et.memoizedState=pn=r:pn=pn.next=r}return pn}function am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bu(r){var a=ju;return ju+=1,ul===null&&(ul=[]),r=v0(ul,r,a),a=et,(pn===null?a.memoizedState:pn.next)===null&&(a=a.alternate,ae.H=a===null||a.memoizedState===null?sE:oE),r}function Hf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Bu(r);if(r.$$typeof===G)return nr(r)}throw Error(i(438,String(r)))}function sm(r){var a=null,o=et.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=et.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=am(),et.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=x;return a.index++,o}function ha(r,a){return typeof a=="function"?a(r):a}function $f(r){var a=mn();return om(a,jt,r)}function om(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,m=u.pending;if(m!==null){if(d!==null){var E=d.next;d.next=m.next,m.next=E}a.baseQueue=d=m,u.pending=null}if(m=r.baseState,d===null)r.memoizedState=m;else{a=d.next;var S=E=null,L=null,W=a,se=!1;do{var ce=W.lane&-536870913;if(ce!==W.lane?(wt&ce)===ce:(Ya&ce)===ce){var ee=W.revertLane;if(ee===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ce===al&&(se=!0);else if((Ya&ee)===ee){W=W.next,ee===al&&(se=!0);continue}else ce={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(S=L=ce,E=m):L=L.next=ce,et.lanes|=ee,ns|=ee;ce=W.action,uo&&o(m,ce),m=W.hasEagerState?W.eagerState:o(m,ce)}else ee={lane:ce,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(S=L=ee,E=m):L=L.next=ee,et.lanes|=ce,ns|=ce;W=W.next}while(W!==null&&W!==a);if(L===null?E=m:L.next=S,!Ar(m,r.memoizedState)&&(Mn=!0,se&&(o=sl,o!==null)))throw o;r.memoizedState=m,r.baseState=E,r.baseQueue=L,u.lastRenderedState=m}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function lm(r){var a=mn(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,m=a.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do m=r(m,E.action),E=E.next;while(E!==d);Ar(m,a.memoizedState)||(Mn=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),o.lastRenderedState=m}return[m,u]}function R0(r,a,o){var u=et,d=mn(),m=It;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=a();var E=!Ar((jt||d).memoizedState,o);E&&(d.memoizedState=o,Mn=!0),d=d.queue;var S=I0.bind(null,u,d,r);if(zu(2048,8,S,[r]),d.getSnapshot!==a||E||pn!==null&&pn.memoizedState.tag&1){if(u.flags|=2048,cl(9,Gf(),O0.bind(null,u,d,o,a),null),$t===null)throw Error(i(349));m||(Ya&124)!==0||C0(u,a,o)}return o}function C0(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=et.updateQueue,a===null?(a=am(),et.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function O0(r,a,o,u){a.value=o,a.getSnapshot=u,D0(a)&&N0(r)}function I0(r,a,o){return o(function(){D0(a)&&N0(r)})}function D0(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Ar(r,o)}catch{return!0}}function N0(r){var a=tl(r,2);a!==null&&Nr(a,r,2)}function um(r){var a=gr();if(typeof r=="function"){var o=r;if(r=o(),uo){_n(!0);try{o()}finally{_n(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:r},a}function x0(r,a,o,u){return r.baseState=o,om(r,jt,typeof u=="function"?u:ha)}function ZC(r,a,o,u,d){if(Qf(r))throw Error(i(485));if(r=a.action,r!==null){var m={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};ae.T!==null?o(!0):m.isTransition=!1,u(m),o=a.pending,o===null?(m.next=a.pending=m,P0(a,m)):(m.next=o.next,a.pending=o.next=m)}}function P0(r,a){var o=a.action,u=a.payload,d=r.state;if(a.isTransition){var m=ae.T,E={};ae.T=E;try{var S=o(d,u),L=ae.S;L!==null&&L(E,S),M0(r,a,S)}catch(W){cm(r,a,W)}finally{ae.T=m}}else try{m=o(d,u),M0(r,a,m)}catch(W){cm(r,a,W)}}function M0(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){V0(r,a,u)},function(u){return cm(r,a,u)}):V0(r,a,o)}function V0(r,a,o){a.status="fulfilled",a.value=o,L0(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,P0(r,o)))}function cm(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,L0(a),a=a.next;while(a!==u)}r.action=null}function L0(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function k0(r,a){return a}function U0(r,a){if(It){var o=$t.formState;if(o!==null){e:{var u=et;if(It){if(sn){t:{for(var d=sn,m=Ii;d.nodeType!==8;){if(!m){d=null;break t}if(d=ci(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){sn=ci(d.nextSibling),u=d.data==="F!";break e}}ao(u)}u=!1}u&&(a=o[0])}}return o=gr(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k0,lastRenderedState:a},o.queue=u,o=rE.bind(null,et,u),u.dispatch=o,u=um(!1),m=mm.bind(null,et,!1,u.queue),u=gr(),d={state:a,dispatch:null,action:r,pending:null},u.queue=d,o=ZC.bind(null,et,d,m,o),d.dispatch=o,u.memoizedState=r,[a,o,!1]}function j0(r){var a=mn();return B0(a,jt,r)}function B0(r,a,o){if(a=om(r,a,k0)[0],r=$f(ha)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Bu(a)}catch(E){throw E===Mu?jf:E}else u=a;a=mn();var d=a.queue,m=d.dispatch;return o!==a.memoizedState&&(et.flags|=2048,cl(9,Gf(),JC.bind(null,d,o),null)),[u,m,r]}function JC(r,a){r.action=a}function z0(r){var a=mn(),o=jt;if(o!==null)return B0(a,o,r);mn(),a=a.memoizedState,o=mn();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function cl(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=et.updateQueue,a===null&&(a=am(),et.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function Gf(){return{destroy:void 0,resource:void 0}}function q0(){return mn().memoizedState}function Kf(r,a,o,u){var d=gr();u=u===void 0?null:u,et.flags|=r,d.memoizedState=cl(1|a,Gf(),o,u)}function zu(r,a,o,u){var d=mn();u=u===void 0?null:u;var m=d.memoizedState.inst;jt!==null&&u!==null&&em(u,jt.memoizedState.deps)?d.memoizedState=cl(a,m,o,u):(et.flags|=r,d.memoizedState=cl(1|a,m,o,u))}function F0(r,a){Kf(8390656,8,r,a)}function H0(r,a){zu(2048,8,r,a)}function $0(r,a){return zu(4,2,r,a)}function G0(r,a){return zu(4,4,r,a)}function K0(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Q0(r,a,o){o=o!=null?o.concat([r]):null,zu(4,4,K0.bind(null,a,r),o)}function fm(){}function Y0(r,a){var o=mn();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&em(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function X0(r,a){var o=mn();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&em(a,u[1]))return u[0];if(u=r(),uo){_n(!0);try{r()}finally{_n(!1)}}return o.memoizedState=[u,a],u}function hm(r,a,o){return o===void 0||(Ya&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=JE(),et.lanes|=r,ns|=r,o)}function W0(r,a,o,u){return Ar(o,a)?o:ol.current!==null?(r=hm(r,o,u),Ar(r,a)||(Mn=!0),r):(Ya&42)===0?(Mn=!0,r.memoizedState=o):(r=JE(),et.lanes|=r,ns|=r,a)}function Z0(r,a,o,u,d){var m=ye.p;ye.p=m!==0&&8>m?m:8;var E=ae.T,S={};ae.T=S,mm(r,!1,a,o);try{var L=d(),W=ae.S;if(W!==null&&W(S,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var se=YC(L,u);qu(r,a,se,Dr(r))}else qu(r,a,u,Dr(r))}catch(ce){qu(r,a,{then:function(){},status:"rejected",reason:ce},Dr())}finally{ye.p=m,ae.T=E}}function eO(){}function dm(r,a,o,u){if(r.tag!==5)throw Error(i(476));var d=J0(r).queue;Z0(r,d,a,pe,o===null?eO:function(){return eE(r),o(u)})}function J0(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:pe},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function eE(r){var a=J0(r).next.queue;qu(r,a,{},Dr())}function pm(){return nr(sc)}function tE(){return mn().memoizedState}function nE(){return mn().memoizedState}function tO(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=Dr();r=Ka(o);var u=Qa(a,r,o);u!==null&&(Nr(u,a,o),Lu(u,a,o)),a={cache:Hp()},r.payload=a;return}a=a.return}}function nO(r,a,o){var u=Dr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Qf(r)?iE(a,o):(o=Mp(r,a,o,u),o!==null&&(Nr(o,r,u),aE(o,a,u)))}function rE(r,a,o){var u=Dr();qu(r,a,o,u)}function qu(r,a,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Qf(r))iE(a,d);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var E=a.lastRenderedState,S=m(E,o);if(d.hasEagerState=!0,d.eagerState=S,Ar(S,E))return Nf(r,a,d,0),$t===null&&Df(),!1}catch{}finally{}if(o=Mp(r,a,d,u),o!==null)return Nr(o,r,u),aE(o,a,u),!0}return!1}function mm(r,a,o,u){if(u={lane:2,revertLane:Km(),action:u,hasEagerState:!1,eagerState:null,next:null},Qf(r)){if(a)throw Error(i(479))}else a=Mp(r,o,u,2),a!==null&&Nr(a,r,2)}function Qf(r){var a=r.alternate;return r===et||a!==null&&a===et}function iE(r,a){ll=qf=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function aE(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,tr(r,o)}}var Yf={readContext:nr,use:Hf,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un},sE={readContext:nr,use:Hf,useCallback:function(r,a){return gr().memoizedState=[r,a===void 0?null:a],r},useContext:nr,useEffect:F0,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,Kf(4194308,4,K0.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Kf(4194308,4,r,a)},useInsertionEffect:function(r,a){Kf(4,2,r,a)},useMemo:function(r,a){var o=gr();a=a===void 0?null:a;var u=r();if(uo){_n(!0);try{r()}finally{_n(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=gr();if(o!==void 0){var d=o(a);if(uo){_n(!0);try{o(a)}finally{_n(!1)}}}else d=a;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=nO.bind(null,et,r),[u.memoizedState,r]},useRef:function(r){var a=gr();return r={current:r},a.memoizedState=r},useState:function(r){r=um(r);var a=r.queue,o=rE.bind(null,et,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:fm,useDeferredValue:function(r,a){var o=gr();return hm(o,r,a)},useTransition:function(){var r=um(!1);return r=Z0.bind(null,et,r.queue,!0,!1),gr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=et,d=gr();if(It){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),$t===null)throw Error(i(349));(wt&124)!==0||C0(u,a,o)}d.memoizedState=o;var m={value:o,getSnapshot:a};return d.queue=m,F0(I0.bind(null,u,m,r),[r]),u.flags|=2048,cl(9,Gf(),O0.bind(null,u,m,o,a),null),o},useId:function(){var r=gr(),a=$t.identifierPrefix;if(It){var o=ua,u=la;o=(u&~(1<<32-Wt(u)-1)).toString(32)+o,a="«"+a+"R"+o,o=Ff++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=XC++,a="«"+a+"r"+o.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:pm,useFormState:U0,useActionState:U0,useOptimistic:function(r){var a=gr();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=mm.bind(null,et,!0,o),o.dispatch=a,[r,a]},useMemoCache:sm,useCacheRefresh:function(){return gr().memoizedState=tO.bind(null,et)}},oE={readContext:nr,use:Hf,useCallback:Y0,useContext:nr,useEffect:H0,useImperativeHandle:Q0,useInsertionEffect:$0,useLayoutEffect:G0,useMemo:X0,useReducer:$f,useRef:q0,useState:function(){return $f(ha)},useDebugValue:fm,useDeferredValue:function(r,a){var o=mn();return W0(o,jt.memoizedState,r,a)},useTransition:function(){var r=$f(ha)[0],a=mn().memoizedState;return[typeof r=="boolean"?r:Bu(r),a]},useSyncExternalStore:R0,useId:tE,useHostTransitionStatus:pm,useFormState:j0,useActionState:j0,useOptimistic:function(r,a){var o=mn();return x0(o,jt,r,a)},useMemoCache:sm,useCacheRefresh:nE},rO={readContext:nr,use:Hf,useCallback:Y0,useContext:nr,useEffect:H0,useImperativeHandle:Q0,useInsertionEffect:$0,useLayoutEffect:G0,useMemo:X0,useReducer:lm,useRef:q0,useState:function(){return lm(ha)},useDebugValue:fm,useDeferredValue:function(r,a){var o=mn();return jt===null?hm(o,r,a):W0(o,jt.memoizedState,r,a)},useTransition:function(){var r=lm(ha)[0],a=mn().memoizedState;return[typeof r=="boolean"?r:Bu(r),a]},useSyncExternalStore:R0,useId:tE,useHostTransitionStatus:pm,useFormState:z0,useActionState:z0,useOptimistic:function(r,a){var o=mn();return jt!==null?x0(o,jt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:sm,useCacheRefresh:nE},fl=null,Fu=0;function Xf(r){var a=Fu;return Fu+=1,fl===null&&(fl=[]),v0(fl,r,a)}function Hu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Wf(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function lE(r){var a=r._init;return a(r._payload)}function uE(r){function a($,F){if(r){var Y=$.deletions;Y===null?($.deletions=[F],$.flags|=16):Y.push(F)}}function o($,F){if(!r)return null;for(;F!==null;)a($,F),F=F.sibling;return null}function u($){for(var F=new Map;$!==null;)$.key!==null?F.set($.key,$):F.set($.index,$),$=$.sibling;return F}function d($,F){return $=oa($,F),$.index=0,$.sibling=null,$}function m($,F,Y){return $.index=Y,r?(Y=$.alternate,Y!==null?(Y=Y.index,Y<F?($.flags|=67108866,F):Y):($.flags|=67108866,F)):($.flags|=1048576,F)}function E($){return r&&$.alternate===null&&($.flags|=67108866),$}function S($,F,Y,ue){return F===null||F.tag!==6?(F=Lp(Y,$.mode,ue),F.return=$,F):(F=d(F,Y),F.return=$,F)}function L($,F,Y,ue){var Ce=Y.type;return Ce===O?se($,F,Y.props.children,ue,Y.key):F!==null&&(F.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===A&&lE(Ce)===F.type)?(F=d(F,Y.props),Hu(F,Y),F.return=$,F):(F=Pf(Y.type,Y.key,Y.props,null,$.mode,ue),Hu(F,Y),F.return=$,F)}function W($,F,Y,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=kp(Y,$.mode,ue),F.return=$,F):(F=d(F,Y.children||[]),F.return=$,F)}function se($,F,Y,ue,Ce){return F===null||F.tag!==7?(F=to(Y,$.mode,ue,Ce),F.return=$,F):(F=d(F,Y),F.return=$,F)}function ce($,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Lp(""+F,$.mode,Y),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return Y=Pf(F.type,F.key,F.props,null,$.mode,Y),Hu(Y,F),Y.return=$,Y;case w:return F=kp(F,$.mode,Y),F.return=$,F;case A:var ue=F._init;return F=ue(F._payload),ce($,F,Y)}if(Me(F)||U(F))return F=to(F,$.mode,Y,null),F.return=$,F;if(typeof F.then=="function")return ce($,Xf(F),Y);if(F.$$typeof===G)return ce($,kf($,F),Y);Wf($,F)}return null}function ee($,F,Y,ue){var Ce=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ce!==null?null:S($,F,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===Ce?L($,F,Y,ue):null;case w:return Y.key===Ce?W($,F,Y,ue):null;case A:return Ce=Y._init,Y=Ce(Y._payload),ee($,F,Y,ue)}if(Me(Y)||U(Y))return Ce!==null?null:se($,F,Y,ue,null);if(typeof Y.then=="function")return ee($,F,Xf(Y),ue);if(Y.$$typeof===G)return ee($,F,kf($,Y),ue);Wf($,Y)}return null}function te($,F,Y,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return $=$.get(Y)||null,S(F,$,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case T:return $=$.get(ue.key===null?Y:ue.key)||null,L(F,$,ue,Ce);case w:return $=$.get(ue.key===null?Y:ue.key)||null,W(F,$,ue,Ce);case A:var nt=ue._init;return ue=nt(ue._payload),te($,F,Y,ue,Ce)}if(Me(ue)||U(ue))return $=$.get(Y)||null,se(F,$,ue,Ce,null);if(typeof ue.then=="function")return te($,F,Y,Xf(ue),Ce);if(ue.$$typeof===G)return te($,F,Y,kf(F,ue),Ce);Wf(F,ue)}return null}function qe($,F,Y,ue){for(var Ce=null,nt=null,xe=F,je=F=0,Ln=null;xe!==null&&je<Y.length;je++){xe.index>je?(Ln=xe,xe=null):Ln=xe.sibling;var Rt=ee($,xe,Y[je],ue);if(Rt===null){xe===null&&(xe=Ln);break}r&&xe&&Rt.alternate===null&&a($,xe),F=m(Rt,F,je),nt===null?Ce=Rt:nt.sibling=Rt,nt=Rt,xe=Ln}if(je===Y.length)return o($,xe),It&&ro($,je),Ce;if(xe===null){for(;je<Y.length;je++)xe=ce($,Y[je],ue),xe!==null&&(F=m(xe,F,je),nt===null?Ce=xe:nt.sibling=xe,nt=xe);return It&&ro($,je),Ce}for(xe=u(xe);je<Y.length;je++)Ln=te(xe,$,je,Y[je],ue),Ln!==null&&(r&&Ln.alternate!==null&&xe.delete(Ln.key===null?je:Ln.key),F=m(Ln,F,je),nt===null?Ce=Ln:nt.sibling=Ln,nt=Ln);return r&&xe.forEach(function(fs){return a($,fs)}),It&&ro($,je),Ce}function Ue($,F,Y,ue){if(Y==null)throw Error(i(151));for(var Ce=null,nt=null,xe=F,je=F=0,Ln=null,Rt=Y.next();xe!==null&&!Rt.done;je++,Rt=Y.next()){xe.index>je?(Ln=xe,xe=null):Ln=xe.sibling;var fs=ee($,xe,Rt.value,ue);if(fs===null){xe===null&&(xe=Ln);break}r&&xe&&fs.alternate===null&&a($,xe),F=m(fs,F,je),nt===null?Ce=fs:nt.sibling=fs,nt=fs,xe=Ln}if(Rt.done)return o($,xe),It&&ro($,je),Ce;if(xe===null){for(;!Rt.done;je++,Rt=Y.next())Rt=ce($,Rt.value,ue),Rt!==null&&(F=m(Rt,F,je),nt===null?Ce=Rt:nt.sibling=Rt,nt=Rt);return It&&ro($,je),Ce}for(xe=u(xe);!Rt.done;je++,Rt=Y.next())Rt=te(xe,$,je,Rt.value,ue),Rt!==null&&(r&&Rt.alternate!==null&&xe.delete(Rt.key===null?je:Rt.key),F=m(Rt,F,je),nt===null?Ce=Rt:nt.sibling=Rt,nt=Rt);return r&&xe.forEach(function(iI){return a($,iI)}),It&&ro($,je),Ce}function zt($,F,Y,ue){if(typeof Y=="object"&&Y!==null&&Y.type===O&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var Ce=Y.key;F!==null;){if(F.key===Ce){if(Ce=Y.type,Ce===O){if(F.tag===7){o($,F.sibling),ue=d(F,Y.props.children),ue.return=$,$=ue;break e}}else if(F.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===A&&lE(Ce)===F.type){o($,F.sibling),ue=d(F,Y.props),Hu(ue,Y),ue.return=$,$=ue;break e}o($,F);break}else a($,F);F=F.sibling}Y.type===O?(ue=to(Y.props.children,$.mode,ue,Y.key),ue.return=$,$=ue):(ue=Pf(Y.type,Y.key,Y.props,null,$.mode,ue),Hu(ue,Y),ue.return=$,$=ue)}return E($);case w:e:{for(Ce=Y.key;F!==null;){if(F.key===Ce)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){o($,F.sibling),ue=d(F,Y.children||[]),ue.return=$,$=ue;break e}else{o($,F);break}else a($,F);F=F.sibling}ue=kp(Y,$.mode,ue),ue.return=$,$=ue}return E($);case A:return Ce=Y._init,Y=Ce(Y._payload),zt($,F,Y,ue)}if(Me(Y))return qe($,F,Y,ue);if(U(Y)){if(Ce=U(Y),typeof Ce!="function")throw Error(i(150));return Y=Ce.call(Y),Ue($,F,Y,ue)}if(typeof Y.then=="function")return zt($,F,Xf(Y),ue);if(Y.$$typeof===G)return zt($,F,kf($,Y),ue);Wf($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(o($,F.sibling),ue=d(F,Y),ue.return=$,$=ue):(o($,F),ue=Lp(Y,$.mode,ue),ue.return=$,$=ue),E($)):o($,F)}return function($,F,Y,ue){try{Fu=0;var Ce=zt($,F,Y,ue);return fl=null,Ce}catch(xe){if(xe===Mu||xe===jf)throw xe;var nt=Rr(29,xe,null,$.mode);return nt.lanes=ue,nt.return=$,nt}finally{}}}var hl=uE(!0),cE=uE(!1),Yr=le(null),Di=null;function Xa(r){var a=r.alternate;de(An,An.current&1),de(Yr,r),Di===null&&(a===null||ol.current!==null||a.memoizedState!==null)&&(Di=r)}function fE(r){if(r.tag===22){if(de(An,An.current),de(Yr,r),Di===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Di=r)}}else Wa()}function Wa(){de(An,An.current),de(Yr,Yr.current)}function da(r){me(Yr),Di===r&&(Di=null),me(An)}var An=le(0);function Zf(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ag(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function gm(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:v({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var ym={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=Dr(),d=Ka(u);d.payload=a,o!=null&&(d.callback=o),a=Qa(r,d,u),a!==null&&(Nr(a,r,u),Lu(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=Dr(),d=Ka(u);d.tag=1,d.payload=a,o!=null&&(d.callback=o),a=Qa(r,d,u),a!==null&&(Nr(a,r,u),Lu(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=Dr(),u=Ka(o);u.tag=2,a!=null&&(u.callback=a),a=Qa(r,u,o),a!==null&&(Nr(a,r,o),Lu(a,r,o))}};function hE(r,a,o,u,d,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):a.prototype&&a.prototype.isPureReactComponent?!Ru(o,u)||!Ru(d,m):!0}function dE(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&ym.enqueueReplaceState(a,a.state,null)}function co(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Jf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function pE(r){Jf(r)}function mE(r){console.error(r)}function gE(r){Jf(r)}function eh(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function yE(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function vm(r,a,o){return o=Ka(o),o.tag=3,o.payload={element:null},o.callback=function(){eh(r,a)},o}function vE(r){return r=Ka(r),r.tag=3,r}function _E(r,a,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=u.value;r.payload=function(){return d(m)},r.callback=function(){yE(a,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){yE(a,o,u),typeof d!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function iO(r,a,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Nu(a,o,d,!0),o=Yr.current,o!==null){switch(o.tag){case 13:return Di===null?qm():o.alternate===null&&on===0&&(on=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Kp?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Hm(r,u,d)),!1;case 22:return o.flags|=65536,u===Kp?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Hm(r,u,d)),!1}throw Error(i(435,o.tag))}return Hm(r,u,d),qm(),!1}if(It)return a=Yr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,u!==Bp&&(r=Error(i(422),{cause:u}),Du($r(r,o)))):(u!==Bp&&(a=Error(i(423),{cause:u}),Du($r(a,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=$r(u,o),d=vm(r.stateNode,u,d),Xp(r,d),on!==4&&(on=2)),!1;var m=Error(i(520),{cause:u});if(m=$r(m,o),Wu===null?Wu=[m]:Wu.push(m),on!==4&&(on=2),a===null)return!0;u=$r(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=vm(o.stateNode,u,r),Xp(o,r),!1;case 1:if(a=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(rs===null||!rs.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=vE(d),_E(d,r,o,u),Xp(o,d),!1}o=o.return}while(o!==null);return!1}var EE=Error(i(461)),Mn=!1;function Hn(r,a,o,u){a.child=r===null?cE(a,null,o,u):hl(a,r.child,o,u)}function bE(r,a,o,u,d){o=o.render;var m=a.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return oo(a),u=tm(r,a,o,E,m,d),S=nm(),r!==null&&!Mn?(rm(r,a,d),pa(r,a,d)):(It&&S&&Up(a),a.flags|=1,Hn(r,a,u,d),a.child)}function TE(r,a,o,u,d){if(r===null){var m=o.type;return typeof m=="function"&&!Vp(m)&&m.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=m,wE(r,a,m,u,d)):(r=Pf(o.type,null,u,a,a.mode,d),r.ref=a.ref,r.return=a,a.child=r)}if(m=r.child,!Rm(r,d)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ru,o(E,u)&&r.ref===a.ref)return pa(r,a,d)}return a.flags|=1,r=oa(m,u),r.ref=a.ref,r.return=a,a.child=r}function wE(r,a,o,u,d){if(r!==null){var m=r.memoizedProps;if(Ru(m,u)&&r.ref===a.ref)if(Mn=!1,a.pendingProps=u=m,Rm(r,d))(r.flags&131072)!==0&&(Mn=!0);else return a.lanes=r.lanes,pa(r,a,d)}return _m(r,a,o,u,d)}function SE(r,a,o){var u=a.pendingProps,d=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,r!==null){for(d=a.child=r.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;a.childLanes=m&~u}else a.childLanes=0,a.child=null;return AE(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Uf(a,m!==null?m.cachePool:null),m!==null?w0(a,m):Zp(),fE(a);else return a.lanes=a.childLanes=536870912,AE(r,a,m!==null?m.baseLanes|o:o,o)}else m!==null?(Uf(a,m.cachePool),w0(a,m),Wa(),a.memoizedState=null):(r!==null&&Uf(a,null),Zp(),Wa());return Hn(r,a,d,o),a.child}function AE(r,a,o,u){var d=Gp();return d=d===null?null:{parent:Sn._currentValue,pool:d},a.memoizedState={baseLanes:o,cachePool:d},r!==null&&Uf(a,null),Zp(),fE(a),r!==null&&Nu(r,a,u,!0),null}function th(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function _m(r,a,o,u,d){return oo(a),o=tm(r,a,o,u,void 0,d),u=nm(),r!==null&&!Mn?(rm(r,a,d),pa(r,a,d)):(It&&u&&Up(a),a.flags|=1,Hn(r,a,o,d),a.child)}function RE(r,a,o,u,d,m){return oo(a),a.updateQueue=null,o=A0(a,u,o,d),S0(r),u=nm(),r!==null&&!Mn?(rm(r,a,m),pa(r,a,m)):(It&&u&&Up(a),a.flags|=1,Hn(r,a,o,m),a.child)}function CE(r,a,o,u,d){if(oo(a),a.stateNode===null){var m=nl,E=o.contextType;typeof E=="object"&&E!==null&&(m=nr(E)),m=new o(u,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ym,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=u,m.state=a.memoizedState,m.refs={},Qp(a),E=o.contextType,m.context=typeof E=="object"&&E!==null?nr(E):nl,m.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(gm(a,o,E,u),m.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&ym.enqueueReplaceState(m,m.state,null),Uu(a,u,m,d),ku(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){m=a.stateNode;var S=a.memoizedProps,L=co(o,S);m.props=L;var W=m.context,se=o.contextType;E=nl,typeof se=="object"&&se!==null&&(E=nr(se));var ce=o.getDerivedStateFromProps;se=typeof ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,se||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||W!==E)&&dE(a,m,u,E),Ga=!1;var ee=a.memoizedState;m.state=ee,Uu(a,u,m,d),ku(),W=a.memoizedState,S||ee!==W||Ga?(typeof ce=="function"&&(gm(a,o,ce,u),W=a.memoizedState),(L=Ga||hE(a,o,L,u,ee,W,E))?(se||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=W),m.props=u,m.state=W,m.context=E,u=L):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{m=a.stateNode,Yp(r,a),E=a.memoizedProps,se=co(o,E),m.props=se,ce=a.pendingProps,ee=m.context,W=o.contextType,L=nl,typeof W=="object"&&W!==null&&(L=nr(W)),S=o.getDerivedStateFromProps,(W=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ce||ee!==L)&&dE(a,m,u,L),Ga=!1,ee=a.memoizedState,m.state=ee,Uu(a,u,m,d),ku();var te=a.memoizedState;E!==ce||ee!==te||Ga||r!==null&&r.dependencies!==null&&Lf(r.dependencies)?(typeof S=="function"&&(gm(a,o,S,u),te=a.memoizedState),(se=Ga||hE(a,o,se,u,ee,te,L)||r!==null&&r.dependencies!==null&&Lf(r.dependencies))?(W||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,te,L),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,te,L)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=te),m.props=u,m.state=te,m.context=L,u=se):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(a.flags|=1024),u=!1)}return m=u,th(r,a),u=(a.flags&128)!==0,m||u?(m=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,r!==null&&u?(a.child=hl(a,r.child,null,d),a.child=hl(a,null,o,d)):Hn(r,a,o,d),a.memoizedState=m.state,r=a.child):r=pa(r,a,d),r}function OE(r,a,o,u){return Iu(),a.flags|=256,Hn(r,a,o,u),a.child}var Em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bm(r){return{baseLanes:r,cachePool:m0()}}function Tm(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Xr),r}function IE(r,a,o){var u=a.pendingProps,d=!1,m=(a.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(An.current&2)!==0),E&&(d=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(It){if(d?Xa(a):Wa(),It){var S=sn,L;if(L=S){e:{for(L=S,S=Ii;L.nodeType!==8;){if(!S){S=null;break e}if(L=ci(L.nextSibling),L===null){S=null;break e}}S=L}S!==null?(a.memoizedState={dehydrated:S,treeContext:no!==null?{id:la,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},L=Rr(18,null,null,0),L.stateNode=S,L.return=a,a.child=L,hr=a,sn=null,L=!0):L=!1}L||ao(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return ag(S)?a.lanes=32:a.lanes=536870912,null;da(a)}return S=u.children,u=u.fallback,d?(Wa(),d=a.mode,S=nh({mode:"hidden",children:S},d),u=to(u,d,o,null),S.return=a,u.return=a,S.sibling=u,a.child=S,d=a.child,d.memoizedState=bm(o),d.childLanes=Tm(r,E,o),a.memoizedState=Em,u):(Xa(a),wm(a,S))}if(L=r.memoizedState,L!==null&&(S=L.dehydrated,S!==null)){if(m)a.flags&256?(Xa(a),a.flags&=-257,a=Sm(r,a,o)):a.memoizedState!==null?(Wa(),a.child=r.child,a.flags|=128,a=null):(Wa(),d=u.fallback,S=a.mode,u=nh({mode:"visible",children:u.children},S),d=to(d,S,o,null),d.flags|=2,u.return=a,d.return=a,u.sibling=d,a.child=u,hl(a,r.child,null,o),u=a.child,u.memoizedState=bm(o),u.childLanes=Tm(r,E,o),a.memoizedState=Em,a=d);else if(Xa(a),ag(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var W=E.dgst;E=W,u=Error(i(419)),u.stack="",u.digest=E,Du({value:u,source:null,stack:null}),a=Sm(r,a,o)}else if(Mn||Nu(r,a,o,!1),E=(o&r.childLanes)!==0,Mn||E){if(E=$t,E!==null&&(u=o&-o,u=(u&42)!==0?1:mr(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==L.retryLane))throw L.retryLane=u,tl(r,u),Nr(E,r,u),EE;S.data==="$?"||qm(),a=Sm(r,a,o)}else S.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=L.treeContext,sn=ci(S.nextSibling),hr=a,It=!0,io=null,Ii=!1,r!==null&&(Kr[Qr++]=la,Kr[Qr++]=ua,Kr[Qr++]=no,la=r.id,ua=r.overflow,no=a),a=wm(a,u.children),a.flags|=4096);return a}return d?(Wa(),d=u.fallback,S=a.mode,L=r.child,W=L.sibling,u=oa(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,W!==null?d=oa(W,d):(d=to(d,S,o,null),d.flags|=2),d.return=a,u.return=a,u.sibling=d,a.child=u,u=d,d=a.child,S=r.child.memoizedState,S===null?S=bm(o):(L=S.cachePool,L!==null?(W=Sn._currentValue,L=L.parent!==W?{parent:W,pool:W}:L):L=m0(),S={baseLanes:S.baseLanes|o,cachePool:L}),d.memoizedState=S,d.childLanes=Tm(r,E,o),a.memoizedState=Em,u):(Xa(a),o=r.child,r=o.sibling,o=oa(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=o,a.memoizedState=null,o)}function wm(r,a){return a=nh({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function nh(r,a){return r=Rr(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Sm(r,a,o){return hl(a,r.child,null,o),r=wm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function DE(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),qp(r.return,a,o)}function Am(r,a,o,u,d){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=d)}function NE(r,a,o){var u=a.pendingProps,d=u.revealOrder,m=u.tail;if(Hn(r,a,u.children,o),u=An.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&DE(r,o,a);else if(r.tag===19)DE(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(de(An,u),d){case"forwards":for(o=a.child,d=null;o!==null;)r=o.alternate,r!==null&&Zf(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=a.child,a.child=null):(d=o.sibling,o.sibling=null),Am(a,!1,d,o,m);break;case"backwards":for(o=null,d=a.child,a.child=null;d!==null;){if(r=d.alternate,r!==null&&Zf(r)===null){a.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Am(a,!0,o,null,m);break;case"together":Am(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function pa(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),ns|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(Nu(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=oa(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=oa(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function Rm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Lf(r)))}function aO(r,a,o){switch(a.tag){case 3:rt(a,a.stateNode.containerInfo),$a(a,Sn,r.memoizedState.cache),Iu();break;case 27:case 5:ze(a);break;case 4:rt(a,a.stateNode.containerInfo);break;case 10:$a(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Xa(a),a.flags|=128,null):(o&a.child.childLanes)!==0?IE(r,a,o):(Xa(a),r=pa(r,a,o),r!==null?r.sibling:null);Xa(a);break;case 19:var d=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Nu(r,a,o,!1),u=(o&a.childLanes)!==0),d){if(u)return NE(r,a,o);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),de(An,An.current),u)break;return null;case 22:case 23:return a.lanes=0,SE(r,a,o);case 24:$a(a,Sn,r.memoizedState.cache)}return pa(r,a,o)}function xE(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Mn=!0;else{if(!Rm(r,o)&&(a.flags&128)===0)return Mn=!1,aO(r,a,o);Mn=(r.flags&131072)!==0}else Mn=!1,It&&(a.flags&1048576)!==0&&l0(a,Vf,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,d=u._init;if(u=d(u._payload),a.type=u,typeof u=="function")Vp(u)?(r=co(u,r),a.tag=1,a=CE(null,a,u,r,o)):(a.tag=0,a=_m(null,a,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===Z){a.tag=11,a=bE(null,a,u,r,o);break e}else if(d===D){a.tag=14,a=TE(null,a,u,r,o);break e}}throw a=Xe(u)||u,Error(i(306,a,""))}}return a;case 0:return _m(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,d=co(u,a.pendingProps),CE(r,a,u,d,o);case 3:e:{if(rt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var m=a.memoizedState;d=m.element,Yp(r,a),Uu(a,u,null,o);var E=a.memoizedState;if(u=E.cache,$a(a,Sn,u),u!==m.cache&&Fp(a,[Sn],o,!0),ku(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=OE(r,a,u,o);break e}else if(u!==d){d=$r(Error(i(424)),a),Du(d),a=OE(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(sn=ci(r.firstChild),hr=a,It=!0,io=null,Ii=!0,o=cE(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Iu(),u===d){a=pa(r,a,o);break e}Hn(r,a,u,o)}a=a.child}return a;case 26:return th(r,a),r===null?(o=Lb(a.type,null,a.pendingProps,null))?a.memoizedState=o:It||(o=a.type,r=a.pendingProps,u=gh(De.current).createElement(o),u[ge]=a,u[be]=r,Gn(u,o,r),Ge(u),a.stateNode=u):a.memoizedState=Lb(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return ze(a),r===null&&It&&(u=a.stateNode=Pb(a.type,a.pendingProps,De.current),hr=a,Ii=!0,d=sn,ss(a.type)?(sg=d,sn=ci(u.firstChild)):sn=d),Hn(r,a,a.pendingProps.children,o),th(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&It&&((d=u=sn)&&(u=PO(u,a.type,a.pendingProps,Ii),u!==null?(a.stateNode=u,hr=a,sn=ci(u.firstChild),Ii=!1,d=!0):d=!1),d||ao(a)),ze(a),d=a.type,m=a.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,ng(d,m)?u=null:E!==null&&ng(d,E)&&(a.flags|=32),a.memoizedState!==null&&(d=tm(r,a,WC,null,null,o),sc._currentValue=d),th(r,a),Hn(r,a,u,o),a.child;case 6:return r===null&&It&&((r=o=sn)&&(o=MO(o,a.pendingProps,Ii),o!==null?(a.stateNode=o,hr=a,sn=null,r=!0):r=!1),r||ao(a)),null;case 13:return IE(r,a,o);case 4:return rt(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=hl(a,null,u,o):Hn(r,a,u,o),a.child;case 11:return bE(r,a,a.type,a.pendingProps,o);case 7:return Hn(r,a,a.pendingProps,o),a.child;case 8:return Hn(r,a,a.pendingProps.children,o),a.child;case 12:return Hn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,$a(a,a.type,u.value),Hn(r,a,u.children,o),a.child;case 9:return d=a.type._context,u=a.pendingProps.children,oo(a),d=nr(d),u=u(d),a.flags|=1,Hn(r,a,u,o),a.child;case 14:return TE(r,a,a.type,a.pendingProps,o);case 15:return wE(r,a,a.type,a.pendingProps,o);case 19:return NE(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=nh(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=oa(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return SE(r,a,o);case 24:return oo(a),u=nr(Sn),r===null?(d=Gp(),d===null&&(d=$t,m=Hp(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),a.memoizedState={parent:u,cache:d},Qp(a),$a(a,Sn,d)):((r.lanes&o)!==0&&(Yp(r,a),Uu(a,null,null,o),ku()),d=r.memoizedState,m=a.memoizedState,d.parent!==u?(d={parent:u,cache:u},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),$a(a,Sn,u)):(u=m.cache,$a(a,Sn,u),u!==d.cache&&Fp(a,[Sn],o,!0))),Hn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ma(r){r.flags|=4}function PE(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!zb(a)){if(a=Yr.current,a!==null&&((wt&4194048)===wt?Di!==null:(wt&62914560)!==wt&&(wt&536870912)===0||a!==Di))throw Vu=Kp,g0;r.flags|=8192}}function rh(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?vt():536870912,r.lanes|=a,gl|=a)}function $u(r,a){if(!It)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function nn(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function sO(r,a,o){var u=a.pendingProps;switch(jp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(a),null;case 1:return nn(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),fa(Sn),Qe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ou(a)?ma(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,f0())),nn(a),null;case 26:return o=a.memoizedState,r===null?(ma(a),o!==null?(nn(a),PE(a,o)):(nn(a),a.flags&=-16777217)):o?o!==r.memoizedState?(ma(a),nn(a),PE(a,o)):(nn(a),a.flags&=-16777217):(r.memoizedProps!==u&&ma(a),nn(a),a.flags&=-16777217),null;case 27:mt(a),o=De.current;var d=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ma(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return nn(a),null}r=we.current,Ou(a)?u0(a):(r=Pb(d,u,o),a.stateNode=r,ma(a))}return nn(a),null;case 5:if(mt(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ma(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return nn(a),null}if(r=we.current,Ou(a))u0(a);else{switch(d=gh(De.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[ge]=a,r[be]=u;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=r;e:switch(Gn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ma(a)}}return nn(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&ma(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=De.current,Ou(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,d=hr,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[ge]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Rb(r.nodeValue,o)),r||ao(a)}else r=gh(r).createTextNode(u),r[ge]=a,a.stateNode=r}return nn(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Ou(a),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[ge]=a}else Iu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nn(a),d=!1}else d=f0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(da(a),a):(da(a),null)}if(da(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),rh(a,a.updateQueue),nn(a),null;case 4:return Qe(),r===null&&Wm(a.stateNode.containerInfo),nn(a),null;case 10:return fa(a.type),nn(a),null;case 19:if(me(An),d=a.memoizedState,d===null)return nn(a),null;if(u=(a.flags&128)!==0,m=d.rendering,m===null)if(u)$u(d,!1);else{if(on!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(m=Zf(r),m!==null){for(a.flags|=128,$u(d,!1),r=m.updateQueue,a.updateQueue=r,rh(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)o0(o,r),o=o.sibling;return de(An,An.current&1|2),a.child}r=r.sibling}d.tail!==null&&Mt()>sh&&(a.flags|=128,u=!0,$u(d,!1),a.lanes=4194304)}else{if(!u)if(r=Zf(m),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,rh(a,r),$u(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!It)return nn(a),null}else 2*Mt()-d.renderingStartTime>sh&&o!==536870912&&(a.flags|=128,u=!0,$u(d,!1),a.lanes=4194304);d.isBackwards?(m.sibling=a.child,a.child=m):(r=d.last,r!==null?r.sibling=m:a.child=m,d.last=m)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Mt(),a.sibling=null,r=An.current,de(An,u?r&1|2:r&1),a):(nn(a),null);case 22:case 23:return da(a),Jp(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(nn(a),a.subtreeFlags&6&&(a.flags|=8192)):nn(a),o=a.updateQueue,o!==null&&rh(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&me(lo),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),fa(Sn),nn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function oO(r,a){switch(jp(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return fa(Sn),Qe(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return mt(a),null;case 13:if(da(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Iu()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return me(An),null;case 4:return Qe(),null;case 10:return fa(a.type),null;case 22:case 23:return da(a),Jp(),r!==null&&me(lo),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return fa(Sn),null;case 25:return null;default:return null}}function ME(r,a){switch(jp(a),a.tag){case 3:fa(Sn),Qe();break;case 26:case 27:case 5:mt(a);break;case 4:Qe();break;case 13:da(a);break;case 19:me(An);break;case 10:fa(a.type);break;case 22:case 23:da(a),Jp(),r!==null&&me(lo);break;case 24:fa(Sn)}}function Gu(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==d)}}catch(S){Ft(a,a.return,S)}}function Za(r,a,o){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&r)===r){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,d=a;var L=o,W=S;try{W()}catch(se){Ft(d,L,se)}}}u=u.next}while(u!==m)}}catch(se){Ft(a,a.return,se)}}function VE(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{T0(a,o)}catch(u){Ft(r,r.return,u)}}}function LE(r,a,o){o.props=co(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Ft(r,a,u)}}function Ku(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){Ft(r,a,d)}}function Ni(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Ft(r,a,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ft(r,a,d)}else o.current=null}function kE(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Ft(r,r.return,d)}}function Cm(r,a,o){try{var u=r.stateNode;OO(u,r.type,o,a),u[be]=a}catch(d){Ft(r,r.return,d)}}function UE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ss(r.type)||r.tag===4}function Om(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||UE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ss(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Im(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=mh));else if(u!==4&&(u===27&&ss(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(Im(r,a,o),r=r.sibling;r!==null;)Im(r,a,o),r=r.sibling}function ih(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&ss(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(ih(r,a,o),r=r.sibling;r!==null;)ih(r,a,o),r=r.sibling}function jE(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Gn(a,u,o),a[ge]=r,a[be]=o}catch(m){Ft(r,r.return,m)}}var ga=!1,cn=!1,Dm=!1,BE=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function lO(r,a){if(r=r.containerInfo,eg=Th,r=W_(r),Op(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,S=-1,L=-1,W=0,se=0,ce=r,ee=null;t:for(;;){for(var te;ce!==o||d!==0&&ce.nodeType!==3||(S=E+d),ce!==m||u!==0&&ce.nodeType!==3||(L=E+u),ce.nodeType===3&&(E+=ce.nodeValue.length),(te=ce.firstChild)!==null;)ee=ce,ce=te;for(;;){if(ce===r)break t;if(ee===o&&++W===d&&(S=E),ee===m&&++se===u&&(L=E),(te=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=te}o=S===-1||L===-1?null:{start:S,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(tg={focusedElem:r,selectionRange:o},Th=!1,Vn=a;Vn!==null;)if(a=Vn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Vn=r;else for(;Vn!==null;){switch(a=Vn,m=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=a,d=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var qe=co(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(qe,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ue){Ft(o,o.return,Ue)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)ig(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ig(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Vn=r;break}Vn=a.return}}function zE(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ja(r,o),u&4&&Gu(5,o);break;case 1:if(Ja(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(E){Ft(o,o.return,E)}else{var d=co(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(d,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){Ft(o,o.return,E)}}u&64&&VE(o),u&512&&Ku(o,o.return);break;case 3:if(Ja(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{T0(r,a)}catch(E){Ft(o,o.return,E)}}break;case 27:a===null&&u&4&&jE(o);case 26:case 5:Ja(r,o),a===null&&u&4&&kE(o),u&512&&Ku(o,o.return);break;case 12:Ja(r,o);break;case 13:Ja(r,o),u&4&&HE(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=yO.bind(null,o),VO(r,o))));break;case 22:if(u=o.memoizedState!==null||ga,!u){a=a!==null&&a.memoizedState!==null||cn,d=ga;var m=cn;ga=u,(cn=a)&&!m?es(r,o,(o.subtreeFlags&8772)!==0):Ja(r,o),ga=d,cn=m}break;case 30:break;default:Ja(r,o)}}function qE(r){var a=r.alternate;a!==null&&(r.alternate=null,qE(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&$e(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Zt=null,yr=!1;function ya(r,a,o){for(o=o.child;o!==null;)FE(r,a,o),o=o.sibling}function FE(r,a,o){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(gt,o)}catch{}switch(o.tag){case 26:cn||Ni(o,a),ya(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:cn||Ni(o,a);var u=Zt,d=yr;ss(o.type)&&(Zt=o.stateNode,yr=!1),ya(r,a,o),nc(o.stateNode),Zt=u,yr=d;break;case 5:cn||Ni(o,a);case 6:if(u=Zt,d=yr,Zt=null,ya(r,a,o),Zt=u,yr=d,Zt!==null)if(yr)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(o.stateNode)}catch(m){Ft(o,a,m)}else try{Zt.removeChild(o.stateNode)}catch(m){Ft(o,a,m)}break;case 18:Zt!==null&&(yr?(r=Zt,Nb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),cc(r)):Nb(Zt,o.stateNode));break;case 4:u=Zt,d=yr,Zt=o.stateNode.containerInfo,yr=!0,ya(r,a,o),Zt=u,yr=d;break;case 0:case 11:case 14:case 15:cn||Za(2,o,a),cn||Za(4,o,a),ya(r,a,o);break;case 1:cn||(Ni(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&LE(o,a,u)),ya(r,a,o);break;case 21:ya(r,a,o);break;case 22:cn=(u=cn)||o.memoizedState!==null,ya(r,a,o),cn=u;break;default:ya(r,a,o)}}function HE(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{cc(r)}catch(o){Ft(a,a.return,o)}}function uO(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new BE),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new BE),a;default:throw Error(i(435,r.tag))}}function Nm(r,a){var o=uO(r);a.forEach(function(u){var d=vO.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function Cr(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],m=r,E=a,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(ss(S.type)){Zt=S.stateNode,yr=!1;break e}break;case 5:Zt=S.stateNode,yr=!1;break e;case 3:case 4:Zt=S.stateNode.containerInfo,yr=!0;break e}S=S.return}if(Zt===null)throw Error(i(160));FE(m,E,d),Zt=null,yr=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)$E(a,r),a=a.sibling}var ui=null;function $E(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Cr(a,r),Or(r),u&4&&(Za(3,r,r.return),Gu(3,r),Za(5,r,r.return));break;case 1:Cr(a,r),Or(r),u&512&&(cn||o===null||Ni(o,o.return)),u&64&&ga&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ui;if(Cr(a,r),Or(r),u&512&&(cn||o===null||Ni(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ne]||m[ge]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(u),d.head.insertBefore(m,d.querySelector("head > title"))),Gn(m,u,o),m[ge]=r,Ge(m),u=m;break e;case"link":var E=jb("link","href",d).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(m=E[S],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}m=d.createElement(u),Gn(m,u,o),d.head.appendChild(m);break;case"meta":if(E=jb("meta","content",d).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(m=E[S],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}m=d.createElement(u),Gn(m,u,o),d.head.appendChild(m);break;default:throw Error(i(468,u))}m[ge]=r,Ge(m),u=m}r.stateNode=u}else Bb(d,r.type,r.stateNode);else r.stateNode=Ub(d,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Bb(d,r.type,r.stateNode):Ub(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Cm(r,r.memoizedProps,o.memoizedProps)}break;case 27:Cr(a,r),Or(r),u&512&&(cn||o===null||Ni(o,o.return)),o!==null&&u&4&&Cm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Cr(a,r),Or(r),u&512&&(cn||o===null||Ni(o,o.return)),r.flags&32){d=r.stateNode;try{zr(d,"")}catch(te){Ft(r,r.return,te)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,Cm(r,d,o!==null?o.memoizedProps:d)),u&1024&&(Dm=!0);break;case 6:if(Cr(a,r),Or(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(te){Ft(r,r.return,te)}}break;case 3:if(_h=null,d=ui,ui=yh(a.containerInfo),Cr(a,r),ui=d,Or(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{cc(a.containerInfo)}catch(te){Ft(r,r.return,te)}Dm&&(Dm=!1,GE(r));break;case 4:u=ui,ui=yh(r.stateNode.containerInfo),Cr(a,r),Or(r),ui=u;break;case 12:Cr(a,r),Or(r);break;case 13:Cr(a,r),Or(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(km=Mt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Nm(r,u)));break;case 22:d=r.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,W=ga,se=cn;if(ga=W||d,cn=se||L,Cr(a,r),cn=se,ga=W,Or(r),u&8192)e:for(a=r.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(o===null||L||ga||cn||fo(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){L=o=a;try{if(m=L.stateNode,d)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=L.stateNode;var ce=L.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;S.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Ft(L,L.return,te)}}}else if(a.tag===6){if(o===null){L=a;try{L.stateNode.nodeValue=d?"":L.memoizedProps}catch(te){Ft(L,L.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Nm(r,o))));break;case 19:Cr(a,r),Or(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Nm(r,u)));break;case 30:break;case 21:break;default:Cr(a,r),Or(r)}}function Or(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(UE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,m=Om(r);ih(r,m,d);break;case 5:var E=o.stateNode;o.flags&32&&(zr(E,""),o.flags&=-33);var S=Om(r);ih(r,S,E);break;case 3:case 4:var L=o.stateNode.containerInfo,W=Om(r);Im(r,W,L);break;default:throw Error(i(161))}}catch(se){Ft(r,r.return,se)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function GE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;GE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ja(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)zE(r,a.alternate,a),a=a.sibling}function fo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Za(4,a,a.return),fo(a);break;case 1:Ni(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&LE(a,a.return,o),fo(a);break;case 27:nc(a.stateNode);case 26:case 5:Ni(a,a.return),fo(a);break;case 22:a.memoizedState===null&&fo(a);break;case 30:fo(a);break;default:fo(a)}r=r.sibling}}function es(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,d=r,m=a,E=m.flags;switch(m.tag){case 0:case 11:case 15:es(d,m,o),Gu(4,m);break;case 1:if(es(d,m,o),u=m,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){Ft(u,u.return,W)}if(u=m,d=u.updateQueue,d!==null){var S=u.stateNode;try{var L=d.shared.hiddenCallbacks;if(L!==null)for(d.shared.hiddenCallbacks=null,d=0;d<L.length;d++)b0(L[d],S)}catch(W){Ft(u,u.return,W)}}o&&E&64&&VE(m),Ku(m,m.return);break;case 27:jE(m);case 26:case 5:es(d,m,o),o&&u===null&&E&4&&kE(m),Ku(m,m.return);break;case 12:es(d,m,o);break;case 13:es(d,m,o),o&&E&4&&HE(d,m);break;case 22:m.memoizedState===null&&es(d,m,o),Ku(m,m.return);break;case 30:break;default:es(d,m,o)}a=a.sibling}}function xm(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&xu(o))}function Pm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&xu(r))}function xi(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)KE(r,a,o,u),a=a.sibling}function KE(r,a,o,u){var d=a.flags;switch(a.tag){case 0:case 11:case 15:xi(r,a,o,u),d&2048&&Gu(9,a);break;case 1:xi(r,a,o,u);break;case 3:xi(r,a,o,u),d&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&xu(r)));break;case 12:if(d&2048){xi(r,a,o,u),r=a.stateNode;try{var m=a.memoizedProps,E=m.id,S=m.onPostCommit;typeof S=="function"&&S(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){Ft(a,a.return,L)}}else xi(r,a,o,u);break;case 13:xi(r,a,o,u);break;case 23:break;case 22:m=a.stateNode,E=a.alternate,a.memoizedState!==null?m._visibility&2?xi(r,a,o,u):Qu(r,a):m._visibility&2?xi(r,a,o,u):(m._visibility|=2,dl(r,a,o,u,(a.subtreeFlags&10256)!==0)),d&2048&&xm(E,a);break;case 24:xi(r,a,o,u),d&2048&&Pm(a.alternate,a);break;default:xi(r,a,o,u)}}function dl(r,a,o,u,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var m=r,E=a,S=o,L=u,W=E.flags;switch(E.tag){case 0:case 11:case 15:dl(m,E,S,L,d),Gu(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&2?dl(m,E,S,L,d):Qu(m,E):(se._visibility|=2,dl(m,E,S,L,d)),d&&W&2048&&xm(E.alternate,E);break;case 24:dl(m,E,S,L,d),d&&W&2048&&Pm(E.alternate,E);break;default:dl(m,E,S,L,d)}a=a.sibling}}function Qu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,d=u.flags;switch(u.tag){case 22:Qu(o,u),d&2048&&xm(u.alternate,u);break;case 24:Qu(o,u),d&2048&&Pm(u.alternate,u);break;default:Qu(o,u)}a=a.sibling}}var Yu=8192;function pl(r){if(r.subtreeFlags&Yu)for(r=r.child;r!==null;)QE(r),r=r.sibling}function QE(r){switch(r.tag){case 26:pl(r),r.flags&Yu&&r.memoizedState!==null&&QO(ui,r.memoizedState,r.memoizedProps);break;case 5:pl(r);break;case 3:case 4:var a=ui;ui=yh(r.stateNode.containerInfo),pl(r),ui=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Yu,Yu=16777216,pl(r),Yu=a):pl(r));break;default:pl(r)}}function YE(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Xu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Vn=u,WE(u,r)}YE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)XE(r),r=r.sibling}function XE(r){switch(r.tag){case 0:case 11:case 15:Xu(r),r.flags&2048&&Za(9,r,r.return);break;case 3:Xu(r);break;case 12:Xu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,ah(r)):Xu(r);break;default:Xu(r)}}function ah(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Vn=u,WE(u,r)}YE(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Za(8,a,a.return),ah(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,ah(a));break;default:ah(a)}r=r.sibling}}function WE(r,a){for(;Vn!==null;){var o=Vn;switch(o.tag){case 0:case 11:case 15:Za(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Vn=u;else e:for(o=r;Vn!==null;){u=Vn;var d=u.sibling,m=u.return;if(qE(u),u===o){Vn=null;break e}if(d!==null){d.return=m,Vn=d;break e}Vn=m}}}var cO={getCacheForType:function(r){var a=nr(Sn),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},fO=typeof WeakMap=="function"?WeakMap:Map,Lt=0,$t=null,at=null,wt=0,kt=0,Ir=null,ts=!1,ml=!1,Mm=!1,va=0,on=0,ns=0,ho=0,Vm=0,Xr=0,gl=0,Wu=null,vr=null,Lm=!1,km=0,sh=1/0,oh=null,rs=null,$n=0,is=null,yl=null,vl=0,Um=0,jm=null,ZE=null,Zu=0,Bm=null;function Dr(){if((Lt&2)!==0&&wt!==0)return wt&-wt;if(ae.T!==null){var r=al;return r!==0?r:Km()}return H()}function JE(){Xr===0&&(Xr=(wt&536870912)===0||It?yt():536870912);var r=Yr.current;return r!==null&&(r.flags|=32),Xr}function Nr(r,a,o){(r===$t&&(kt===2||kt===9)||r.cancelPendingCommit!==null)&&(_l(r,0),as(r,wt,Xr,!1)),ln(r,o),((Lt&2)===0||r!==$t)&&(r===$t&&((Lt&2)===0&&(ho|=o),on===4&&as(r,wt,Xr,!1)),Pi(r))}function eb(r,a,o){if((Lt&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||J(r,a),d=u?pO(r,a):Fm(r,a,!0),m=u;do{if(d===0){ml&&!u&&as(r,a,0,!1);break}else{if(o=r.current.alternate,m&&!hO(o)){d=Fm(r,a,!1),m=!1;continue}if(d===2){if(m=a,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var S=r;d=Wu;var L=S.current.memoizedState.isDehydrated;if(L&&(_l(S,E).flags|=256),E=Fm(S,E,!1),E!==2){if(Mm&&!L){S.errorRecoveryDisabledLanes|=m,ho|=m,d=4;break e}m=vr,vr=d,m!==null&&(vr===null?vr=m:vr.push.apply(vr,m))}d=E}if(m=!1,d!==2)continue}}if(d===1){_l(r,0),as(r,a,0,!0);break}e:{switch(u=r,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:as(u,a,Xr,!ts);break e;case 2:vr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=km+300-Mt(),10<d)){if(as(u,a,Xr,!ts),X(u,0,!0)!==0)break e;u.timeoutHandle=Ib(tb.bind(null,u,o,vr,oh,Lm,a,Xr,ho,gl,ts,m,2,-0,0),d);break e}tb(u,o,vr,oh,Lm,a,Xr,ho,gl,ts,m,0,-0,0)}}break}while(!0);Pi(r)}function tb(r,a,o,u,d,m,E,S,L,W,se,ce,ee,te){if(r.timeoutHandle=-1,ce=a.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(ac={stylesheets:null,count:0,unsuspend:KO},QE(a),ce=YO(),ce!==null)){r.cancelPendingCommit=ce(lb.bind(null,r,a,m,o,u,d,E,S,L,se,1,ee,te)),as(r,m,E,!W);return}lb(r,a,m,o,u,d,E,S,L)}function hO(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],m=d.getSnapshot;d=d.value;try{if(!Ar(m(),d))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function as(r,a,o,u){a&=~Vm,a&=~ho,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var d=a;0<d;){var m=31-Wt(d),E=1<<m;u[m]=-1,d&=~E}o!==0&&Vt(r,o,a)}function lh(){return(Lt&6)===0?(Ju(0),!1):!0}function zm(){if(at!==null){if(kt===0)var r=at.return;else r=at,ca=so=null,im(r),fl=null,Fu=0,r=at;for(;r!==null;)ME(r.alternate,r),r=r.return;at=null}}function _l(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,DO(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),zm(),$t=r,at=o=oa(r.current,null),wt=a,kt=0,Ir=null,ts=!1,ml=J(r,a),Mm=!1,gl=Xr=Vm=ho=ns=on=0,vr=Wu=null,Lm=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var d=31-Wt(u),m=1<<d;a|=r[d],u&=~m}return va=a,Df(),o}function nb(r,a){et=null,ae.H=Yf,a===Mu||a===jf?(a=_0(),kt=3):a===g0?(a=_0(),kt=4):kt=a===EE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ir=a,at===null&&(on=1,eh(r,$r(a,r.current)))}function rb(){var r=ae.H;return ae.H=Yf,r===null?Yf:r}function ib(){var r=ae.A;return ae.A=cO,r}function qm(){on=4,ts||(wt&4194048)!==wt&&Yr.current!==null||(ml=!0),(ns&134217727)===0&&(ho&134217727)===0||$t===null||as($t,wt,Xr,!1)}function Fm(r,a,o){var u=Lt;Lt|=2;var d=rb(),m=ib();($t!==r||wt!==a)&&(oh=null,_l(r,a)),a=!1;var E=on;e:do try{if(kt!==0&&at!==null){var S=at,L=Ir;switch(kt){case 8:zm(),E=6;break e;case 3:case 2:case 9:case 6:Yr.current===null&&(a=!0);var W=kt;if(kt=0,Ir=null,El(r,S,L,W),o&&ml){E=0;break e}break;default:W=kt,kt=0,Ir=null,El(r,S,L,W)}}dO(),E=on;break}catch(se){nb(r,se)}while(!0);return a&&r.shellSuspendCounter++,ca=so=null,Lt=u,ae.H=d,ae.A=m,at===null&&($t=null,wt=0,Df()),E}function dO(){for(;at!==null;)ab(at)}function pO(r,a){var o=Lt;Lt|=2;var u=rb(),d=ib();$t!==r||wt!==a?(oh=null,sh=Mt()+500,_l(r,a)):ml=J(r,a);e:do try{if(kt!==0&&at!==null){a=at;var m=Ir;t:switch(kt){case 1:kt=0,Ir=null,El(r,a,m,1);break;case 2:case 9:if(y0(m)){kt=0,Ir=null,sb(a);break}a=function(){kt!==2&&kt!==9||$t!==r||(kt=7),Pi(r)},m.then(a,a);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:y0(m)?(kt=0,Ir=null,sb(a)):(kt=0,Ir=null,El(r,a,m,7));break;case 5:var E=null;switch(at.tag){case 26:E=at.memoizedState;case 5:case 27:var S=at;if(!E||zb(E)){kt=0,Ir=null;var L=S.sibling;if(L!==null)at=L;else{var W=S.return;W!==null?(at=W,uh(W)):at=null}break t}}kt=0,Ir=null,El(r,a,m,5);break;case 6:kt=0,Ir=null,El(r,a,m,6);break;case 8:zm(),on=6;break e;default:throw Error(i(462))}}mO();break}catch(se){nb(r,se)}while(!0);return ca=so=null,ae.H=u,ae.A=d,Lt=o,at!==null?0:($t=null,wt=0,Df(),on)}function mO(){for(;at!==null&&!hn();)ab(at)}function ab(r){var a=xE(r.alternate,r,va);r.memoizedProps=r.pendingProps,a===null?uh(r):at=a}function sb(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=RE(o,a,a.pendingProps,a.type,void 0,wt);break;case 11:a=RE(o,a,a.pendingProps,a.type.render,a.ref,wt);break;case 5:im(a);default:ME(o,a),a=at=o0(a,va),a=xE(o,a,va)}r.memoizedProps=r.pendingProps,a===null?uh(r):at=a}function El(r,a,o,u){ca=so=null,im(a),fl=null,Fu=0;var d=a.return;try{if(iO(r,d,a,o,wt)){on=1,eh(r,$r(o,r.current)),at=null;return}}catch(m){if(d!==null)throw at=d,m;on=1,eh(r,$r(o,r.current)),at=null;return}a.flags&32768?(It||u===1?r=!0:ml||(wt&536870912)!==0?r=!1:(ts=r=!0,(u===2||u===9||u===3||u===6)&&(u=Yr.current,u!==null&&u.tag===13&&(u.flags|=16384))),ob(a,r)):uh(a)}function uh(r){var a=r;do{if((a.flags&32768)!==0){ob(a,ts);return}r=a.return;var o=sO(a.alternate,a,va);if(o!==null){at=o;return}if(a=a.sibling,a!==null){at=a;return}at=a=r}while(a!==null);on===0&&(on=5)}function ob(r,a){do{var o=oO(r.alternate,r);if(o!==null){o.flags&=32767,at=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){at=r;return}at=r=o}while(r!==null);on=6,at=null}function lb(r,a,o,u,d,m,E,S,L){r.cancelPendingCommit=null;do ch();while($n!==0);if((Lt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=Pp,Nn(r,o,m,E,S,L),r===$t&&(at=$t=null,wt=0),yl=a,is=r,vl=o,Um=m,jm=d,ZE=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,_O(qt,function(){return db(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null,d=ye.p,ye.p=2,E=Lt,Lt|=4;try{lO(r,a,o)}finally{Lt=E,ye.p=d,ae.T=u}}$n=1,ub(),cb(),fb()}}function ub(){if($n===1){$n=0;var r=is,a=yl,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=ae.T,ae.T=null;var u=ye.p;ye.p=2;var d=Lt;Lt|=4;try{$E(a,r);var m=tg,E=W_(r.containerInfo),S=m.focusedElem,L=m.selectionRange;if(E!==S&&S&&S.ownerDocument&&X_(S.ownerDocument.documentElement,S)){if(L!==null&&Op(S)){var W=L.start,se=L.end;if(se===void 0&&(se=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(se,S.value.length);else{var ce=S.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),qe=S.textContent.length,Ue=Math.min(L.start,qe),zt=L.end===void 0?Ue:Math.min(L.end,qe);!te.extend&&Ue>zt&&(E=zt,zt=Ue,Ue=E);var $=Y_(S,Ue),F=Y_(S,zt);if($&&F&&(te.rangeCount!==1||te.anchorNode!==$.node||te.anchorOffset!==$.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var Y=ce.createRange();Y.setStart($.node,$.offset),te.removeAllRanges(),Ue>zt?(te.addRange(Y),te.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),te.addRange(Y))}}}}for(ce=[],te=S;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ce.length;S++){var ue=ce[S];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Th=!!eg,tg=eg=null}finally{Lt=d,ye.p=u,ae.T=o}}r.current=a,$n=2}}function cb(){if($n===2){$n=0;var r=is,a=yl,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=ae.T,ae.T=null;var u=ye.p;ye.p=2;var d=Lt;Lt|=4;try{zE(r,a.alternate,a)}finally{Lt=d,ye.p=u,ae.T=o}}$n=3}}function fb(){if($n===4||$n===3){$n=0,Xt();var r=is,a=yl,o=vl,u=ZE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?$n=5:($n=0,yl=is=null,hb(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(rs=null),q(o),a=a.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(gt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=ae.T,d=ye.p,ye.p=2,ae.T=null;try{for(var m=r.onRecoverableError,E=0;E<u.length;E++){var S=u[E];m(S.value,{componentStack:S.stack})}}finally{ae.T=a,ye.p=d}}(vl&3)!==0&&ch(),Pi(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===Bm?Zu++:(Zu=0,Bm=r):Zu=0,Ju(0)}}function hb(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,xu(a)))}function ch(r){return ub(),cb(),fb(),db()}function db(){if($n!==5)return!1;var r=is,a=Um;Um=0;var o=q(vl),u=ae.T,d=ye.p;try{ye.p=32>o?32:o,ae.T=null,o=jm,jm=null;var m=is,E=vl;if($n=0,yl=is=null,vl=0,(Lt&6)!==0)throw Error(i(331));var S=Lt;if(Lt|=4,XE(m.current),KE(m,m.current,E,o),Lt=S,Ju(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(gt,m)}catch{}return!0}finally{ye.p=d,ae.T=u,hb(r,a)}}function pb(r,a,o){a=$r(o,a),a=vm(r.stateNode,a,2),r=Qa(r,a,2),r!==null&&(ln(r,2),Pi(r))}function Ft(r,a,o){if(r.tag===3)pb(r,r,o);else for(;a!==null;){if(a.tag===3){pb(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rs===null||!rs.has(u))){r=$r(o,r),o=vE(2),u=Qa(a,o,2),u!==null&&(_E(o,u,a,r),ln(u,2),Pi(u));break}}a=a.return}}function Hm(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new fO;var d=new Set;u.set(a,d)}else d=u.get(a),d===void 0&&(d=new Set,u.set(a,d));d.has(o)||(Mm=!0,d.add(o),r=gO.bind(null,r,a,o),a.then(r,r))}function gO(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,$t===r&&(wt&o)===o&&(on===4||on===3&&(wt&62914560)===wt&&300>Mt()-km?(Lt&2)===0&&_l(r,0):Vm|=o,gl===wt&&(gl=0)),Pi(r)}function mb(r,a){a===0&&(a=vt()),r=tl(r,a),r!==null&&(ln(r,a),Pi(r))}function yO(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),mb(r,o)}function vO(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),mb(r,o)}function _O(r,a){return ht(r,a)}var fh=null,bl=null,$m=!1,hh=!1,Gm=!1,po=0;function Pi(r){r!==bl&&r.next===null&&(bl===null?fh=bl=r:bl=bl.next=r),hh=!0,$m||($m=!0,bO())}function Ju(r,a){if(!Gm&&hh){Gm=!0;do for(var o=!1,u=fh;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var m=0;else{var E=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Wt(42|r)+1)-1,m&=d&~(E&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,_b(u,m))}else m=wt,m=X(u,u===$t?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||J(u,m)||(o=!0,_b(u,m));u=u.next}while(o);Gm=!1}}function EO(){gb()}function gb(){hh=$m=!1;var r=0;po!==0&&(IO()&&(r=po),po=0);for(var a=Mt(),o=null,u=fh;u!==null;){var d=u.next,m=yb(u,a);m===0?(u.next=null,o===null?fh=d:o.next=d,d===null&&(bl=o)):(o=u,(r!==0||(m&3)!==0)&&(hh=!0)),u=d}Ju(r)}function yb(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-Wt(m),S=1<<E,L=d[E];L===-1?((S&o)===0||(S&u)!==0)&&(d[E]=We(S,a)):L<=a&&(r.expiredLanes|=S),m&=~S}if(a=$t,o=wt,o=X(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(kt===2||kt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ht(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||J(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&Ht(u),q(o)){case 2:case 8:o=Bn;break;case 32:o=qt;break;case 268435456:o=Jn;break;default:o=qt}return u=vb.bind(null,r),o=ht(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&Ht(u),r.callbackPriority=2,r.callbackNode=null,2}function vb(r,a){if($n!==0&&$n!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(ch()&&r.callbackNode!==o)return null;var u=wt;return u=X(r,r===$t?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(eb(r,u,a),yb(r,Mt()),r.callbackNode!=null&&r.callbackNode===o?vb.bind(null,r):null)}function _b(r,a){if(ch())return null;eb(r,a,!0)}function bO(){NO(function(){(Lt&6)!==0?ht(pr,EO):gb()})}function Km(){return po===0&&(po=yt()),po}function Eb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fo(""+r)}function bb(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function TO(r,a,o,u,d){if(a==="submit"&&o&&o.stateNode===d){var m=Eb((d[be]||null).action),E=u.submitter;E&&(a=(a=E[be]||null)?Eb(a.formAction):E.getAttribute("formAction"),a!==null&&(m=a,E=null));var S=new Ho("action","action",null,u,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(po!==0){var L=E?bb(d,E):new FormData(d);dm(o,{pending:!0,data:L,method:d.method,action:m},null,L)}}else typeof m=="function"&&(S.preventDefault(),L=E?bb(d,E):new FormData(d),dm(o,{pending:!0,data:L,method:d.method,action:m},m,L))},currentTarget:d}]})}}for(var Qm=0;Qm<xp.length;Qm++){var Ym=xp[Qm],wO=Ym.toLowerCase(),SO=Ym[0].toUpperCase()+Ym.slice(1);li(wO,"on"+SO)}li(e0,"onAnimationEnd"),li(t0,"onAnimationIteration"),li(n0,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(zC,"onTransitionRun"),li(qC,"onTransitionStart"),li(FC,"onTransitionCancel"),li(r0,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ec));function Tb(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var m=void 0;if(a)for(var E=u.length-1;0<=E;E--){var S=u[E],L=S.instance,W=S.currentTarget;if(S=S.listener,L!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=W;try{m(d)}catch(se){Jf(se)}d.currentTarget=null,m=L}else for(E=0;E<u.length;E++){if(S=u[E],L=S.instance,W=S.currentTarget,S=S.listener,L!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=W;try{m(d)}catch(se){Jf(se)}d.currentTarget=null,m=L}}}}function st(r,a){var o=a[Se];o===void 0&&(o=a[Se]=new Set);var u=r+"__bubble";o.has(u)||(wb(a,r,2,!1),o.add(u))}function Xm(r,a,o){var u=0;a&&(u|=4),wb(o,r,u,a)}var dh="_reactListening"+Math.random().toString(36).slice(2);function Wm(r){if(!r[dh]){r[dh]=!0,bn.forEach(function(o){o!=="selectionchange"&&(AO.has(o)||Xm(o,!1,r),Xm(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[dh]||(a[dh]=!0,Xm("selectionchange",!1,a))}}function wb(r,a,o,u){switch(Kb(a)){case 2:var d=ZO;break;case 8:d=JO;break;default:d=fg}o=d.bind(null,a,o,r),d=void 0,!Fr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(a,o,{capture:!0,passive:d}):r.addEventListener(a,o,!0):d!==void 0?r.addEventListener(a,o,{passive:d}):r.addEventListener(a,o,!1)}function Zm(r,a,o,u,d){var m=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===d)break;if(E===4)for(E=u.return;E!==null;){var L=E.tag;if((L===3||L===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;S!==null;){if(E=pt(S),E===null)return;if(L=E.tag,L===5||L===6||L===26||L===27){u=m=E;continue e}S=S.parentNode}}u=u.return}mf(function(){var W=m,se=qr(o),ce=[];e:{var ee=i0.get(r);if(ee!==void 0){var te=Ho,qe=r;switch(r){case"keypress":if(Si(o)===0)break e;case"keydown":case"keyup":te=Xo;break;case"focusin":qe="focus",te=Ko;break;case"focusout":qe="blur",te=Ko;break;case"beforeblur":case"afterblur":te=Ko;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=wf;break;case e0:case t0:case n0:te=Qo;break;case r0:te=Af;break;case"scroll":case"scrollend":te=gf;break;case"wheel":te=Wo;break;case"copy":case"cut":case"paste":te=Yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Su;break;case"toggle":case"beforetoggle":te=Cf}var Ue=(a&4)!==0,zt=!Ue&&(r==="scroll"||r==="scrollend"),$=Ue?ee!==null?ee+"Capture":null:ee;Ue=[];for(var F=W,Y;F!==null;){var ue=F;if(Y=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Y===null||$===null||(ue=Gs(F,$),ue!=null&&Ue.push(tc(F,ue,Y))),zt)break;F=F.return}0<Ue.length&&(ee=new te(ee,qe,null,o,se),ce.push({event:ee,listeners:Ue}))}}if((a&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",ee&&o!==ta&&(qe=o.relatedTarget||o.fromElement)&&(pt(qe)||qe[Ae]))break e;if((te||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(qe=o.relatedTarget||o.toElement,te=W,qe=qe?pt(qe):null,qe!==null&&(zt=l(qe),Ue=qe.tag,qe!==zt||Ue!==5&&Ue!==27&&Ue!==6)&&(qe=null)):(te=null,qe=W),te!==qe)){if(Ue=Hr,ue="onMouseLeave",$="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(Ue=Su,ue="onPointerLeave",$="onPointerEnter",F="pointer"),zt=te==null?ee:_t(te),Y=qe==null?ee:_t(qe),ee=new Ue(ue,F+"leave",te,o,se),ee.target=zt,ee.relatedTarget=Y,ue=null,pt(se)===W&&(Ue=new Ue($,F+"enter",qe,o,se),Ue.target=Y,Ue.relatedTarget=zt,ue=Ue),zt=ue,te&&qe)t:{for(Ue=te,$=qe,F=0,Y=Ue;Y;Y=Tl(Y))F++;for(Y=0,ue=$;ue;ue=Tl(ue))Y++;for(;0<F-Y;)Ue=Tl(Ue),F--;for(;0<Y-F;)$=Tl($),Y--;for(;F--;){if(Ue===$||$!==null&&Ue===$.alternate)break t;Ue=Tl(Ue),$=Tl($)}Ue=null}else Ue=null;te!==null&&Sb(ce,ee,te,Ue,!1),qe!==null&&zt!==null&&Sb(ce,zt,qe,Ue,!0)}}e:{if(ee=W?_t(W):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Ce=F_;else if(wn(ee))if(H_)Ce=UC;else{Ce=LC;var nt=VC}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?W&&yu(W.elementType)&&(Ce=F_):Ce=kC;if(Ce&&(Ce=Ce(r,W))){sa(ce,Ce,o,se);break e}nt&&nt(r,ee,W),r==="focusout"&&W&&ee.type==="number"&&W.memoizedProps.value!=null&&Fa(ee,"number",ee.value)}switch(nt=W?_t(W):window,r){case"focusin":(wn(nt)||nt.contentEditable==="true")&&(Zo=nt,Ip=W,Cu=null);break;case"focusout":Cu=Ip=Zo=null;break;case"mousedown":Dp=!0;break;case"contextmenu":case"mouseup":case"dragend":Dp=!1,Z_(ce,o,se);break;case"selectionchange":if(BC)break;case"keydown":case"keyup":Z_(ce,o,se)}var xe;if(Ci)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else bt?ie(r,o)&&(je="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(_&&o.locale!=="ko"&&(bt||je!=="onCompositionStart"?je==="onCompositionEnd"&&bt&&(xe=_u()):(wi=se,Ha="value"in wi?wi.value:wi.textContent,bt=!0)),nt=ph(W,je),0<nt.length&&(je=new Tu(je,r,null,o,se),ce.push({event:je,listeners:nt}),xe?je.data=xe:(xe=ve(o),xe!==null&&(je.data=xe)))),(xe=y?Tn(r,o):Tt(r,o))&&(je=ph(W,"onBeforeInput"),0<je.length&&(nt=new Tu("onBeforeInput","beforeinput",null,o,se),ce.push({event:nt,listeners:je}),nt.data=xe)),TO(ce,r,W,o,se)}Tb(ce,a)})}function tc(r,a,o){return{instance:r,listener:a,currentTarget:o}}function ph(r,a){for(var o=a+"Capture",u=[];r!==null;){var d=r,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Gs(r,o),d!=null&&u.unshift(tc(r,d,m)),d=Gs(r,a),d!=null&&u.push(tc(r,d,m))),r.tag===3)return u;r=r.return}return[]}function Tl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Sb(r,a,o,u,d){for(var m=a._reactName,E=[];o!==null&&o!==u;){var S=o,L=S.alternate,W=S.stateNode;if(S=S.tag,L!==null&&L===u)break;S!==5&&S!==26&&S!==27||W===null||(L=W,d?(W=Gs(o,m),W!=null&&E.unshift(tc(o,W,L))):d||(W=Gs(o,m),W!=null&&E.push(tc(o,W,L)))),o=o.return}E.length!==0&&r.push({event:a,listeners:E})}var RO=/\r\n?/g,CO=/\u0000|\uFFFD/g;function Ab(r){return(typeof r=="string"?r:""+r).replace(RO,`
`).replace(CO,"")}function Rb(r,a){return a=Ab(a),Ab(r)===a}function mh(){}function Bt(r,a,o,u,d,m){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||zr(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&zr(r,""+u);break;case"className":it(r,"class",u);break;case"tabIndex":it(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":it(r,o,u);break;case"style":gu(r,u,m);break;case"data":if(a!=="object"){it(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Fo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(a!=="input"&&Bt(r,a,"name",d.name,d,null),Bt(r,a,"formEncType",d.formEncType,d,null),Bt(r,a,"formMethod",d.formMethod,d,null),Bt(r,a,"formTarget",d.formTarget,d,null)):(Bt(r,a,"encType",d.encType,d,null),Bt(r,a,"method",d.method,d,null),Bt(r,a,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Fo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=mh);break;case"onScroll":u!=null&&st("scroll",r);break;case"onScrollEnd":u!=null&&st("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Fo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":st("beforetoggle",r),st("toggle",r),Tr(r,"popover",u);break;case"xlinkActuate":Et(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Et(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Et(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Et(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Et(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Et(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Et(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Et(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Et(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Tr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Tp.get(o)||o,Tr(r,o,u))}}function Jm(r,a,o,u,d,m){switch(o){case"style":gu(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?zr(r,u):(typeof u=="number"||typeof u=="bigint")&&zr(r,""+u);break;case"onScroll":u!=null&&st("scroll",r);break;case"onScrollEnd":u!=null&&st("scrollend",r);break;case"onClick":u!=null&&(r.onclick=mh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),a=o.slice(2,d?o.length-7:void 0),m=r[be]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(a,m,d),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Tr(r,o,u)}}}function Gn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",r),st("load",r);var u=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Bt(r,a,m,E,o,null)}}d&&Bt(r,a,"srcSet",o.srcSet,o,null),u&&Bt(r,a,"src",o.src,o,null);return;case"input":st("invalid",r);var S=m=E=d=null,L=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var se=o[u];if(se!=null)switch(u){case"name":d=se;break;case"type":E=se;break;case"checked":L=se;break;case"defaultChecked":W=se;break;case"value":m=se;break;case"defaultValue":S=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:Bt(r,a,u,se,o,null)}}Fs(r,m,S,L,W,E,d,!1),qo(r);return;case"select":st("invalid",r),u=E=m=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":m=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:Bt(r,a,d,S,o,null)}a=m,o=E,r.multiple=!!u,a!=null?ea(r,!!u,a,!1):o!=null&&ea(r,!!u,o,!0);return;case"textarea":st("invalid",r),m=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":d=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Bt(r,a,E,S,o,null)}Hs(r,u,d,m),qo(r);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Bt(r,a,L,u,o,null)}return;case"dialog":st("beforetoggle",r),st("toggle",r),st("cancel",r),st("close",r);break;case"iframe":case"object":st("load",r);break;case"video":case"audio":for(u=0;u<ec.length;u++)st(ec[u],r);break;case"image":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"embed":case"source":case"link":st("error",r),st("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Bt(r,a,W,u,o,null)}return;default:if(yu(a)){for(se in o)o.hasOwnProperty(se)&&(u=o[se],u!==void 0&&Jm(r,a,se,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Bt(r,a,S,u,o,null))}function OO(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,E=null,S=null,L=null,W=null,se=null;for(te in o){var ce=o[te];if(o.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":L=ce;default:u.hasOwnProperty(te)||Bt(r,a,te,null,u,ce)}}for(var ee in u){var te=u[ee];if(ce=o[ee],u.hasOwnProperty(ee)&&(te!=null||ce!=null))switch(ee){case"type":m=te;break;case"name":d=te;break;case"checked":W=te;break;case"defaultChecked":se=te;break;case"value":E=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==ce&&Bt(r,a,ee,te,u,ce)}}Sr(r,E,S,L,W,se,m,d);return;case"select":te=E=S=ee=null;for(m in o)if(L=o[m],o.hasOwnProperty(m)&&L!=null)switch(m){case"value":break;case"multiple":te=L;default:u.hasOwnProperty(m)||Bt(r,a,m,null,u,L)}for(d in u)if(m=u[d],L=o[d],u.hasOwnProperty(d)&&(m!=null||L!=null))switch(d){case"value":ee=m;break;case"defaultValue":S=m;break;case"multiple":E=m;default:m!==L&&Bt(r,a,d,m,u,L)}a=S,o=E,u=te,ee!=null?ea(r,!!o,ee,!1):!!u!=!!o&&(a!=null?ea(r,!!o,a,!0):ea(r,!!o,o?[]:"",!1));return;case"textarea":te=ee=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Bt(r,a,S,null,u,d)}for(E in u)if(d=u[E],m=o[E],u.hasOwnProperty(E)&&(d!=null||m!=null))switch(E){case"value":ee=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&Bt(r,a,E,d,u,m)}Ut(r,ee,te);return;case"option":for(var qe in o)if(ee=o[qe],o.hasOwnProperty(qe)&&ee!=null&&!u.hasOwnProperty(qe))switch(qe){case"selected":r.selected=!1;break;default:Bt(r,a,qe,null,u,ee)}for(L in u)if(ee=u[L],te=o[L],u.hasOwnProperty(L)&&ee!==te&&(ee!=null||te!=null))switch(L){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Bt(r,a,L,ee,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in o)ee=o[Ue],o.hasOwnProperty(Ue)&&ee!=null&&!u.hasOwnProperty(Ue)&&Bt(r,a,Ue,null,u,ee);for(W in u)if(ee=u[W],te=o[W],u.hasOwnProperty(W)&&ee!==te&&(ee!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:Bt(r,a,W,ee,u,te)}return;default:if(yu(a)){for(var zt in o)ee=o[zt],o.hasOwnProperty(zt)&&ee!==void 0&&!u.hasOwnProperty(zt)&&Jm(r,a,zt,void 0,u,ee);for(se in u)ee=u[se],te=o[se],!u.hasOwnProperty(se)||ee===te||ee===void 0&&te===void 0||Jm(r,a,se,ee,u,te);return}}for(var $ in o)ee=o[$],o.hasOwnProperty($)&&ee!=null&&!u.hasOwnProperty($)&&Bt(r,a,$,null,u,ee);for(ce in u)ee=u[ce],te=o[ce],!u.hasOwnProperty(ce)||ee===te||ee==null&&te==null||Bt(r,a,ce,ee,u,te)}var eg=null,tg=null;function gh(r){return r.nodeType===9?r:r.ownerDocument}function Cb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ob(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function ng(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var rg=null;function IO(){var r=window.event;return r&&r.type==="popstate"?r===rg?!1:(rg=r,!0):(rg=null,!1)}var Ib=typeof setTimeout=="function"?setTimeout:void 0,DO=typeof clearTimeout=="function"?clearTimeout:void 0,Db=typeof Promise=="function"?Promise:void 0,NO=typeof queueMicrotask=="function"?queueMicrotask:typeof Db<"u"?function(r){return Db.resolve(null).then(r).catch(xO)}:Ib;function xO(r){setTimeout(function(){throw r})}function ss(r){return r==="head"}function Nb(r,a){var o=a,u=0,d=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&nc(E.documentElement),o&2&&nc(E.body),o&4)for(o=E.head,nc(o),E=o.firstChild;E;){var S=E.nextSibling,L=E.nodeName;E[Ne]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=S}}if(d===0){r.removeChild(m),cc(a);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);cc(a)}function ig(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ig(o),$e(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function PO(r,a,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ne])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=ci(r.nextSibling),r===null)break}return null}function MO(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ci(r.nextSibling),r===null))return null;return r}function ag(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function VO(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ci(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var sg=null;function xb(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function Pb(r,a,o){switch(a=gh(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function nc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);$e(r)}var Wr=new Map,Mb=new Set;function yh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var _a=ye.d;ye.d={f:LO,r:kO,D:UO,C:jO,L:BO,m:zO,X:FO,S:qO,M:HO};function LO(){var r=_a.f(),a=lh();return r||a}function kO(r){var a=Ot(r);a!==null&&a.tag===5&&a.type==="form"?eE(a):_a.r(r)}var wl=typeof document>"u"?null:document;function Vb(r,a,o){var u=wl;if(u&&typeof a=="string"&&a){var d=dn(a);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Mb.has(d)||(Mb.add(d),r={rel:r,crossOrigin:o,href:a},u.querySelector(d)===null&&(a=u.createElement("link"),Gn(a,"link",r),Ge(a),u.head.appendChild(a)))}}function UO(r){_a.D(r),Vb("dns-prefetch",r,null)}function jO(r,a){_a.C(r,a),Vb("preconnect",r,a)}function BO(r,a,o){_a.L(r,a,o);var u=wl;if(u&&r&&a){var d='link[rel="preload"][as="'+dn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+dn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+dn(o.imageSizes)+'"]')):d+='[href="'+dn(r)+'"]';var m=d;switch(a){case"style":m=Sl(r);break;case"script":m=Al(r)}Wr.has(m)||(r=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Wr.set(m,r),u.querySelector(d)!==null||a==="style"&&u.querySelector(rc(m))||a==="script"&&u.querySelector(ic(m))||(a=u.createElement("link"),Gn(a,"link",r),Ge(a),u.head.appendChild(a)))}}function zO(r,a){_a.m(r,a);var o=wl;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+dn(u)+'"][href="'+dn(r)+'"]',m=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Al(r)}if(!Wr.has(m)&&(r=v({rel:"modulepreload",href:r},a),Wr.set(m,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ic(m)))return}u=o.createElement("link"),Gn(u,"link",r),Ge(u),o.head.appendChild(u)}}}function qO(r,a,o){_a.S(r,a,o);var u=wl;if(u&&r){var d=Je(u).hoistableStyles,m=Sl(r);a=a||"default";var E=d.get(m);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(rc(m)))S.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Wr.get(m))&&og(r,o);var L=E=u.createElement("link");Ge(L),Gn(L,"link",r),L._p=new Promise(function(W,se){L.onload=W,L.onerror=se}),L.addEventListener("load",function(){S.loading|=1}),L.addEventListener("error",function(){S.loading|=2}),S.loading|=4,vh(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:S},d.set(m,E)}}}function FO(r,a){_a.X(r,a);var o=wl;if(o&&r){var u=Je(o).hoistableScripts,d=Al(r),m=u.get(d);m||(m=o.querySelector(ic(d)),m||(r=v({src:r,async:!0},a),(a=Wr.get(d))&&lg(r,a),m=o.createElement("script"),Ge(m),Gn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function HO(r,a){_a.M(r,a);var o=wl;if(o&&r){var u=Je(o).hoistableScripts,d=Al(r),m=u.get(d);m||(m=o.querySelector(ic(d)),m||(r=v({src:r,async:!0,type:"module"},a),(a=Wr.get(d))&&lg(r,a),m=o.createElement("script"),Ge(m),Gn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function Lb(r,a,o,u){var d=(d=De.current)?yh(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Sl(o.href),o=Je(d).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Sl(o.href);var m=Je(d).hoistableStyles,E=m.get(r);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=d.querySelector(rc(r)))&&!m._p&&(E.instance=m,E.state.loading=5),Wr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wr.set(r,o),m||$O(d,r,o,E.state))),a&&u===null)throw Error(i(528,""));return E}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Al(o),o=Je(d).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Sl(r){return'href="'+dn(r)+'"'}function rc(r){return'link[rel="stylesheet"]['+r+"]"}function kb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function $O(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Gn(a,"link",o),Ge(a),r.head.appendChild(a))}function Al(r){return'[src="'+dn(r)+'"]'}function ic(r){return"script[async]"+r}function Ub(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+dn(o.href)+'"]');if(u)return a.instance=u,Ge(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ge(u),Gn(u,"style",d),vh(u,o.precedence,r),a.instance=u;case"stylesheet":d=Sl(o.href);var m=r.querySelector(rc(d));if(m)return a.state.loading|=4,a.instance=m,Ge(m),m;u=kb(o),(d=Wr.get(d))&&og(u,d),m=(r.ownerDocument||r).createElement("link"),Ge(m);var E=m;return E._p=new Promise(function(S,L){E.onload=S,E.onerror=L}),Gn(m,"link",u),a.state.loading|=4,vh(m,o.precedence,r),a.instance=m;case"script":return m=Al(o.src),(d=r.querySelector(ic(m)))?(a.instance=d,Ge(d),d):(u=o,(d=Wr.get(m))&&(u=v({},o),lg(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),Ge(d),Gn(d,"link",u),r.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,vh(u,o.precedence,r));return a.instance}function vh(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,m=d,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===a)m=S;else if(m!==d)break}m?m.parentNode.insertBefore(r,m.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function og(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function lg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var _h=null;function jb(r,a,o){if(_h===null){var u=new Map,d=_h=new Map;d.set(o,u)}else d=_h,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var m=o[d];if(!(m[Ne]||m[ge]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(a)||"";E=r+E;var S=u.get(E);S?S.push(m):u.set(E,[m])}}return u}function Bb(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function GO(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function zb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ac=null;function KO(){}function QO(r,a,o){if(ac===null)throw Error(i(475));var u=ac;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Sl(o.href),m=r.querySelector(rc(d));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Eh.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=m,Ge(m);return}m=r.ownerDocument||r,o=kb(o),(d=Wr.get(d))&&og(o,d),m=m.createElement("link"),Ge(m);var E=m;E._p=new Promise(function(S,L){E.onload=S,E.onerror=L}),Gn(m,"link",o),a.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Eh.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function YO(){if(ac===null)throw Error(i(475));var r=ac;return r.stylesheets&&r.count===0&&ug(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&ug(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Eh(){if(this.count--,this.count===0){if(this.stylesheets)ug(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var bh=null;function ug(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,bh=new Map,a.forEach(XO,r),bh=null,Eh.call(r))}function XO(r,a){if(!(a.state.loading&4)){var o=bh.get(r);if(o)var u=o.get(null);else{o=new Map,bh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var E=d[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=a.instance,E=d.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,d),o.set(E,d),this.count++,u=Eh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),m?m.parentNode.insertBefore(d,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),a.state.loading|=4}}var sc={$$typeof:G,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function WO(r,a,o,u,d,m,E,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function qb(r,a,o,u,d,m,E,S,L,W,se,ce){return r=new WO(r,a,o,E,S,L,W,ce),a=1,m===!0&&(a|=24),m=Rr(3,null,null,a),r.current=m,m.stateNode=r,a=Hp(),a.refCount++,r.pooledCache=a,a.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:a},Qp(m),r}function Fb(r){return r?(r=nl,r):nl}function Hb(r,a,o,u,d,m){d=Fb(d),u.context===null?u.context=d:u.pendingContext=d,u=Ka(a),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Qa(r,u,a),o!==null&&(Nr(o,r,a),Lu(o,r,a))}function $b(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function cg(r,a){$b(r,a),(r=r.alternate)&&$b(r,a)}function Gb(r){if(r.tag===13){var a=tl(r,67108864);a!==null&&Nr(a,r,67108864),cg(r,67108864)}}var Th=!0;function ZO(r,a,o,u){var d=ae.T;ae.T=null;var m=ye.p;try{ye.p=2,fg(r,a,o,u)}finally{ye.p=m,ae.T=d}}function JO(r,a,o,u){var d=ae.T;ae.T=null;var m=ye.p;try{ye.p=8,fg(r,a,o,u)}finally{ye.p=m,ae.T=d}}function fg(r,a,o,u){if(Th){var d=hg(u);if(d===null)Zm(r,a,u,wh,o),Qb(r,u);else if(tI(d,r,a,o,u))u.stopPropagation();else if(Qb(r,u),a&4&&-1<eI.indexOf(r)){for(;d!==null;){var m=Ot(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=En(m.pendingLanes);if(E!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var L=1<<31-Wt(E);S.entanglements[1]|=L,E&=~L}Pi(m),(Lt&6)===0&&(sh=Mt()+500,Ju(0))}}break;case 13:S=tl(m,2),S!==null&&Nr(S,m,2),lh(),cg(m,2)}if(m=hg(u),m===null&&Zm(r,a,u,wh,o),m===d)break;d=m}d!==null&&u.stopPropagation()}else Zm(r,a,u,null,o)}}function hg(r){return r=qr(r),dg(r)}var wh=null;function dg(r){if(wh=null,r=pt(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return wh=r,null}function Kb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dn()){case pr:return 2;case Bn:return 8;case qt:case Zn:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var pg=!1,os=null,ls=null,us=null,oc=new Map,lc=new Map,cs=[],eI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qb(r,a){switch(r){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":oc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(a.pointerId)}}function uc(r,a,o,u,d,m){return r===null||r.nativeEvent!==m?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[d]},a!==null&&(a=Ot(a),a!==null&&Gb(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),r)}function tI(r,a,o,u,d){switch(a){case"focusin":return os=uc(os,r,a,o,u,d),!0;case"dragenter":return ls=uc(ls,r,a,o,u,d),!0;case"mouseover":return us=uc(us,r,a,o,u,d),!0;case"pointerover":var m=d.pointerId;return oc.set(m,uc(oc.get(m)||null,r,a,o,u,d)),!0;case"gotpointercapture":return m=d.pointerId,lc.set(m,uc(lc.get(m)||null,r,a,o,u,d)),!0}return!1}function Yb(r){var a=pt(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,ne(r.priority,function(){if(o.tag===13){var u=Dr();u=mr(u);var d=tl(o,u);d!==null&&Nr(d,o,u),cg(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Sh(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=hg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ta=u,o.target.dispatchEvent(u),ta=null}else return a=Ot(o),a!==null&&Gb(a),r.blockedOn=o,!1;a.shift()}return!0}function Xb(r,a,o){Sh(r)&&o.delete(a)}function nI(){pg=!1,os!==null&&Sh(os)&&(os=null),ls!==null&&Sh(ls)&&(ls=null),us!==null&&Sh(us)&&(us=null),oc.forEach(Xb),lc.forEach(Xb)}function Ah(r,a){r.blockedOn===a&&(r.blockedOn=null,pg||(pg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nI)))}var Rh=null;function Wb(r){Rh!==r&&(Rh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rh===r&&(Rh=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],d=r[a+2];if(typeof u!="function"){if(dg(u||o)===null)continue;break}var m=Ot(o);m!==null&&(r.splice(a,3),a-=3,dm(m,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function cc(r){function a(L){return Ah(L,r)}os!==null&&Ah(os,r),ls!==null&&Ah(ls,r),us!==null&&Ah(us,r),oc.forEach(a),lc.forEach(a);for(var o=0;o<cs.length;o++){var u=cs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<cs.length&&(o=cs[0],o.blockedOn===null);)Yb(o),o.blockedOn===null&&cs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],m=o[u+1],E=d[be]||null;if(typeof m=="function")E||Wb(o);else if(E){var S=null;if(m&&m.hasAttribute("formAction")){if(d=m,E=m[be]||null)S=E.formAction;else if(dg(d)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),Wb(o)}}}function mg(r){this._internalRoot=r}Ch.prototype.render=mg.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=Dr();Hb(o,u,r,a,null,null)},Ch.prototype.unmount=mg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Hb(r.current,2,null,r,null,null),lh(),a[Ae]=null}};function Ch(r){this._internalRoot=r}Ch.prototype.unstable_scheduleHydration=function(r){if(r){var a=H();r={blockedOn:null,target:r,priority:a};for(var o=0;o<cs.length&&a!==0&&a<cs[o].priority;o++);cs.splice(o,0,r),o===0&&Yb(r)}};var Zb=e.version;if(Zb!=="19.1.0")throw Error(i(527,Zb,"19.1.0"));ye.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var rI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{gt=Oh.inject(rI),dt=Oh}catch{}}return hc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",d=pE,m=mE,E=gE,S=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=qb(r,1,!1,null,null,o,u,d,m,E,S,null),r[Ae]=a.current,Wm(r),new mg(a)},hc.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,d="",m=pE,E=mE,S=gE,L=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),a=qb(r,1,!0,a,o??null,u,d,m,E,S,L,W),a.context=Fb(null),o=a.current,u=Dr(),u=mr(u),d=Ka(u),d.callback=null,Qa(o,d,u),o=u,a.current.lanes=o,ln(a,o),Pi(a),r[Ae]=a.current,Wm(r),new Ch(a)},hc.version="19.1.0",hc}var u1;function mI(){if(u1)return yg.exports;u1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yg.exports=pI(),yg.exports}var gI=mI();const yI=CS(gI);var K=Vd();const Ui=CS(K);var dc={},c1;function vI(){if(c1)return dc;c1=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.parse=c,dc.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,w){const O=new l,z=T.length;if(z<2)return O;const R=(w==null?void 0:w.decode)||v;let M=0;do{const k=T.indexOf("=",M);if(k===-1)break;const G=T.indexOf(";",M),Z=G===-1?z:G;if(k>Z){M=T.lastIndexOf(";",k-1)+1;continue}const N=h(T,M,k),re=p(T,k,N),D=T.slice(N,re);if(O[D]===void 0){let A=h(T,k+1,Z),I=p(T,Z,A);const x=R(T.slice(A,I));O[D]=x}M=Z+1}while(M<z);return O}function h(T,w,O){do{const z=T.charCodeAt(w);if(z!==32&&z!==9)return w}while(++w<O);return O}function p(T,w,O){for(;w>O;){const z=T.charCodeAt(--w);if(z!==32&&z!==9)return w+1}return O}function g(T,w,O){const z=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const R=z(w);if(!e.test(R))throw new TypeError(`argument val is invalid: ${w}`);let M=T+"="+R;if(!O)return M;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);M+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);M+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);M+="; Path="+O.path}if(O.expires){if(!b(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);M+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(M+="; HttpOnly"),O.secure&&(M+="; Secure"),O.partitioned&&(M+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return M}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function b(T){return s.call(T)==="[object Date]"}return dc}vI();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IS=n=>{throw TypeError(n)},_I=(n,e,t)=>e.has(n)||IS("Cannot "+t),Tg=(n,e,t)=>(_I(n,e,"read from private field"),t?t.call(n):e.get(n)),EI=(n,e,t)=>e.has(n)?IS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),f1="popstate";function bI(n={}){function e(i,s){let{pathname:l,search:c,hash:h}=i.location;return Mc("",{pathname:l,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Cs(s)}return wI(e,t,null,n)}function ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TI(){return Math.random().toString(36).substring(2,10)}function h1(n,e){return{usr:n.state,key:n.key,idx:e}}function Mc(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ms(e):e,state:t,key:e&&e.key||i||TI()}}function Cs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ms(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function wI(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,h="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){h="POP";let R=v(),M=R==null?null:R-g;g=R,p&&p({action:h,location:z.location,delta:M})}function T(R,M){h="PUSH";let k=Mc(z.location,R,M);g=v()+1;let G=h1(k,g),Z=z.createHref(k);try{c.pushState(G,"",Z)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(Z)}l&&p&&p({action:h,location:z.location,delta:1})}function w(R,M){h="REPLACE";let k=Mc(z.location,R,M);g=v();let G=h1(k,g),Z=z.createHref(k);c.replaceState(G,"",Z),l&&p&&p({action:h,location:z.location,delta:0})}function O(R){let M=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof R=="string"?R:Cs(R);return k=k.replace(/ $/,"%20"),ot(M,`No window.location.(origin|href) available to create URL for href: ${k}`),new URL(k,M)}let z={get action(){return h},get location(){return n(s,c)},listen(R){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(f1,b),p=R,()=>{s.removeEventListener(f1,b),p=null}},createHref(R){return e(s,R)},createURL:O,encodeLocation(R){let M=O(R);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:T,replace:w,go(R){return c.go(R)}};return z}var _c,d1=class{constructor(n){if(EI(this,_c,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Tg(this,_c).has(n))return Tg(this,_c).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Tg(this,_c).set(n,e)}};_c=new WeakMap;var p1=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","unstable_lazyMiddleware","children"]);function SI(n){return n.index===!0}function id(n,e,t=[],i={}){return n.map((s,l)=>{let c=[...t,String(l)],h=typeof s.id=="string"?s.id:c.join("-");if(ot(s.index!==!0||!s.children,"Cannot specify children on an index route"),ot(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),SI(s)){let p={...s,...e(s),id:h};return i[h]=p,p}else{let p={...s,...e(s),id:h,children:void 0};return i[h]=p,s.children&&(p.children=id(s.children,e,c,i)),p}})}function ps(n,e,t="/"){return zh(n,e,t,!1)}function zh(n,e,t,i){let s=typeof e=="string"?Ms(e):e,l=ai(s.pathname||"/",t);if(l==null)return null;let c=DS(n);RI(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let g=kI(l);h=VI(c[p],g,i)}return h}function AI(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function DS(n,e=[],t=[],i=""){let s=(l,c,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=ji([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),DS(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:PI(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))s(l,c);else for(let p of NS(l.path))s(l,c,p)}),e}function NS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=NS(i.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function RI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:MI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var CI=/^:[\w-]+$/,OI=3,II=2,DI=1,NI=10,xI=-2,m1=n=>n==="*";function PI(n,e){let t=n.split("/"),i=t.length;return t.some(m1)&&(i+=xI),e&&(i+=II),t.filter(s=>!m1(s)).reduce((s,l)=>s+(CI.test(l)?OI:l===""?DI:NI),i)}function MI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function VI(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],g=h===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=ad({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),T=p.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=ad({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(s,b.params),c.push({params:s,pathname:ji([l,b.pathname]),pathnameBase:BI(ji([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=ji([l,b.pathnameBase]))}return c}function ad(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=LI(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},T)=>{if(v==="*"){let O=h[T]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const w=h[T];return b&&!w?g[v]=void 0:g[v]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function LI(n,e=!1,t=!0){vn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function kI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ai(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function UI(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Ms(n):n;return{pathname:t?t.startsWith("/")?t:jI(t,e):e,search:zI(i),hash:qI(s)}}function jI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function wg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ld(n){let e=xS(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function kd(n,e,t,i=!1){let s;typeof n=="string"?s=Ms(n):(s={...n},ot(!s.pathname||!s.pathname.includes("?"),wg("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),wg("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),wg("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,h;if(c==null)h=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),b-=1;s.pathname=T.join("/")}h=b>=0?e[b]:"/"}let p=UI(s,h),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var ji=n=>n.join("/").replace(/\/\/+/g,"/"),BI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,sd=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Vc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var PS=["POST","PUT","PATCH","DELETE"],FI=new Set(PS),HI=["GET",...PS],$I=new Set(HI),GI=new Set([301,302,303,307,308]),KI=new Set([307,308]),Sg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},QI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YI=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),MS="remix-router-transitions",VS=Symbol("ResetLoaderData");function XI(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ot(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||YI,s={},l=id(n.routes,i,void 0,s),c,h=n.basename||"/",p=n.dataStrategy||rD,g={unstable_middleware:!1,...n.future},v=null,b=new Set,T=null,w=null,O=null,z=n.hydrationData!=null,R=ps(l,n.history.location,h),M=!1,k=null;if(R==null&&!n.patchRoutesOnNavigation){let q=Jr(404,{pathname:n.history.location.pathname}),{matches:H,route:ne}=O1(l);R=H,k={[ne.id]:q}}R&&!n.hydrationData&&Nn(R,l,n.history.location.pathname).active&&(R=null);let G;if(R)if(R.some(q=>q.route.lazy))G=!1;else if(!R.some(q=>q.route.loader))G=!0;else{let q=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let ne=R.findIndex(oe=>H[oe.route.id]!==void 0);G=R.slice(0,ne+1).every(oe=>!zy(oe.route,q,H))}else G=R.every(ne=>!zy(ne.route,q,H))}else{G=!1,R=[];let q=Nn(null,l,n.history.location.pathname);q.active&&q.matches&&(M=!0,R=q.matches)}let Z,N={historyAction:n.history.action,location:n.history.location,matches:R,initialized:G,navigation:Sg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||k,fetchers:new Map,blockers:new Map},re="POP",D=!1,A,I=!1,x=new Map,j=null,U=!1,V=!1,Xe=new Set,Me=new Map,ae=0,ye=-1,pe=new Map,Ve=new Set,B=new Map,le=new Map,me=new Set,de=new Map,we,Pe=null;function De(){if(v=n.history.listen(({action:q,location:H,delta:ne})=>{if(we){we(),we=void 0;return}vn(de.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=J({currentLocation:N.location,nextLocation:H,historyAction:q});if(oe&&ne!=null){let ge=new Promise(be=>{we=be});n.history.go(ne*-1),X(oe,{state:"blocked",location:H,proceed(){X(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),ge.then(()=>n.history.go(ne))},reset(){let be=new Map(N.blockers);be.set(oe,pc),Qe({blockers:be})}});return}return ht(q,H)}),t){mD(e,x);let q=()=>gD(e,x);e.addEventListener("pagehide",q),j=()=>e.removeEventListener("pagehide",q)}return N.initialized||ht("POP",N.location,{initialHydration:!0}),Z}function Pt(){v&&v(),j&&j(),b.clear(),A&&A.abort(),N.fetchers.forEach((q,H)=>_n(H)),N.blockers.forEach((q,H)=>En(H))}function rt(q){return b.add(q),()=>b.delete(q)}function Qe(q,H={}){N={...N,...q};let ne=[],oe=[];N.fetchers.forEach((ge,be)=>{ge.state==="idle"&&(me.has(be)?ne.push(be):oe.push(be))}),me.forEach(ge=>{!N.fetchers.has(ge)&&!Me.has(ge)&&ne.push(ge)}),[...b].forEach(ge=>ge(N,{deletedFetchers:ne,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),ne.forEach(ge=>_n(ge)),oe.forEach(ge=>N.fetchers.delete(ge))}function ze(q,H,{flushSync:ne}={}){var _e,Oe;let oe=N.actionData!=null&&N.navigation.formMethod!=null&&fi(N.navigation.formMethod)&&N.navigation.state==="loading"&&((_e=q.state)==null?void 0:_e._isRedirect)!==!0,ge;H.actionData?Object.keys(H.actionData).length>0?ge=H.actionData:ge=null:oe?ge=N.actionData:ge=null;let be=H.loaderData?R1(N.loaderData,H.loaderData,H.matches||[],H.errors):N.loaderData,Ae=N.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((Ne,$e)=>Ae.set($e,pc)));let Se=D===!0||N.navigation.formMethod!=null&&fi(N.navigation.formMethod)&&((Oe=q.state)==null?void 0:Oe._isRedirect)!==!0;c&&(l=c,c=void 0),U||re==="POP"||(re==="PUSH"?n.history.push(q,q.state):re==="REPLACE"&&n.history.replace(q,q.state));let Ie;if(re==="POP"){let Ne=x.get(N.location.pathname);Ne&&Ne.has(q.pathname)?Ie={currentLocation:N.location,nextLocation:q}:x.has(q.pathname)&&(Ie={currentLocation:q,nextLocation:N.location})}else if(I){let Ne=x.get(N.location.pathname);Ne?Ne.add(q.pathname):(Ne=new Set([q.pathname]),x.set(N.location.pathname,Ne)),Ie={currentLocation:N.location,nextLocation:q}}Qe({...H,actionData:ge,loaderData:be,historyAction:re,location:q,initialized:!0,navigation:Sg,revalidation:"idle",restoreScrollPosition:ln(q,H.matches||N.matches),preventScrollReset:Se,blockers:Ae},{viewTransitionOpts:Ie,flushSync:ne===!0}),re="POP",D=!1,I=!1,U=!1,V=!1,Pe==null||Pe.resolve(),Pe=null}async function mt(q,H){if(typeof q=="number"){n.history.go(q);return}let ne=By(N.location,N.matches,h,q,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:oe,submission:ge,error:be}=g1(!1,ne,H),Ae=N.location,Se=Mc(N.location,oe,H&&H.state);Se={...Se,...n.history.encodeLocation(Se)};let Ie=H&&H.replace!=null?H.replace:void 0,_e="PUSH";Ie===!0?_e="REPLACE":Ie===!1||ge!=null&&fi(ge.formMethod)&&ge.formAction===N.location.pathname+N.location.search&&(_e="REPLACE");let Oe=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Ne=(H&&H.flushSync)===!0,$e=J({currentLocation:Ae,nextLocation:Se,historyAction:_e});if($e){X($e,{state:"blocked",location:Se,proceed(){X($e,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),mt(q,H)},reset(){let pt=new Map(N.blockers);pt.set($e,pc),Qe({blockers:pt})}});return}await ht(_e,Se,{submission:ge,pendingError:be,preventScrollReset:Oe,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Ne})}function lt(){Pe||(Pe=yD()),er(),Qe({revalidation:"loading"});let q=Pe.promise;return N.navigation.state==="submitting"?q:N.navigation.state==="idle"?(ht(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),q):(ht(re||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:I===!0}),q)}async function ht(q,H,ne){A&&A.abort(),A=null,re=q,U=(ne&&ne.startUninterruptedRevalidation)===!0,ke(N.location,N.matches),D=(ne&&ne.preventScrollReset)===!0,I=(ne&&ne.enableViewTransition)===!0;let oe=c||l,ge=ne&&ne.overrideNavigation,be=ne!=null&&ne.initialHydration&&N.matches&&N.matches.length>0&&!M?N.matches:ps(oe,H,h),Ae=(ne&&ne.flushSync)===!0;if(be&&N.initialized&&!V&&cD(N.location,H)&&!(ne&&ne.submission&&fi(ne.submission.formMethod))){ze(H,{matches:be},{flushSync:Ae});return}let Se=Nn(be,oe,H.pathname);if(Se.active&&Se.matches&&(be=Se.matches),!be){let{error:_t,notFoundMatches:Je,route:Ge}=We(H.pathname);ze(H,{matches:Je,loaderData:{},errors:{[Ge.id]:_t}},{flushSync:Ae});return}A=new AbortController;let Ie=Rl(n.history,H,A.signal,ne&&ne.submission),_e=new d1(n.unstable_getContext?await n.unstable_getContext():void 0),Oe;if(ne&&ne.pendingError)Oe=[vo(be).route.id,{type:"error",error:ne.pendingError}];else if(ne&&ne.submission&&fi(ne.submission.formMethod)){let _t=await Ht(Ie,H,ne.submission,be,_e,Se.active,{replace:ne.replace,flushSync:Ae});if(_t.shortCircuited)return;if(_t.pendingActionResult){let[Je,Ge]=_t.pendingActionResult;if(xr(Ge)&&Vc(Ge.error)&&Ge.error.status===404){A=null,ze(H,{matches:_t.matches,loaderData:{},errors:{[Je]:Ge.error}});return}}be=_t.matches||be,Oe=_t.pendingActionResult,ge=Ag(H,ne.submission),Ae=!1,Se.active=!1,Ie=Rl(n.history,Ie.url,Ie.signal)}let{shortCircuited:Ne,matches:$e,loaderData:pt,errors:Ot}=await hn(Ie,H,be,_e,Se.active,ge,ne&&ne.submission,ne&&ne.fetcherSubmission,ne&&ne.replace,ne&&ne.initialHydration===!0,Ae,Oe);Ne||(A=null,ze(H,{matches:$e||be,...C1(Oe),loaderData:pt,errors:Ot}))}async function Ht(q,H,ne,oe,ge,be,Ae={}){er();let Se=dD(H,ne);if(Qe({navigation:Se},{flushSync:Ae.flushSync===!0}),be){let Oe=await Vt(oe,H.pathname,q.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){let Ne=vo(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[Ne,{type:"error",error:Oe.error}]}}else if(Oe.matches)oe=Oe.matches;else{let{notFoundMatches:Ne,error:$e,route:pt}=We(H.pathname);return{matches:Ne,pendingActionResult:[pt.id,{type:"error",error:$e}]}}}let Ie,_e=Ec(oe,H);if(!_e.route.action&&!_e.route.lazy)Ie={type:"error",error:Jr(405,{method:q.method,pathname:H.pathname,routeId:_e.route.id})};else{let Oe=await Zn("action",q,[_e],oe,ge,null);if(Ie=Oe[_e.route.id],!Ie){for(let Ne of oe)if(Oe[Ne.route.id]){Ie=Oe[Ne.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(_o(Ie)){let Oe;return Ae&&Ae.replace!=null?Oe=Ae.replace:Oe=w1(Ie.response.headers.get("Location"),new URL(q.url),h)===N.location.pathname+N.location.search,await qt(q,Ie,!0,{submission:ne,replace:Oe}),{shortCircuited:!0}}if(xr(Ie)){let Oe=vo(oe,_e.route.id);return(Ae&&Ae.replace)!==!0&&(re="PUSH"),{matches:oe,pendingActionResult:[Oe.route.id,Ie]}}return{matches:oe,pendingActionResult:[_e.route.id,Ie]}}async function hn(q,H,ne,oe,ge,be,Ae,Se,Ie,_e,Oe,Ne){let $e=be||Ag(H,Ae),pt=Ae||Se||D1($e),Ot=!U&&!_e;if(ge){if(Ot){let Et=Xt(Ne);Qe({navigation:$e,...Et!==void 0?{actionData:Et}:{}},{flushSync:Oe})}let it=await Vt(ne,H.pathname,q.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){let Et=vo(it.partialMatches).route.id;return{matches:it.partialMatches,loaderData:{},errors:{[Et]:it.error}}}else if(it.matches)ne=it.matches;else{let{error:Et,notFoundMatches:Br,route:bi}=We(H.pathname);return{matches:Br,loaderData:{},errors:{[bi.id]:Et}}}}let _t=c||l,[Je,Ge]=v1(n.history,N,ne,pt,H,_e===!0,V,Xe,me,B,Ve,_t,h,Ne);if(ye=++ae,Je.length===0&&Ge.length===0){let it=Ur();return ze(H,{matches:ne,loaderData:{},errors:Ne&&xr(Ne[1])?{[Ne[0]]:Ne[1].error}:null,...C1(Ne),...it?{fetchers:new Map(N.fetchers)}:{}},{flushSync:Oe}),{shortCircuited:!0}}if(Ot){let it={};if(!ge){it.navigation=$e;let Et=Xt(Ne);Et!==void 0&&(it.actionData=Et)}Ge.length>0&&(it.fetchers=Mt(Ge)),Qe(it,{flushSync:Oe})}Ge.forEach(it=>{zn(it.key),it.controller&&Me.set(it.key,it.controller)});let bn=()=>Ge.forEach(it=>zn(it.key));A&&A.signal.addEventListener("abort",bn);let{loaderResults:qn,fetcherResults:en}=await Jn(ne,Je,Ge,q,oe);if(q.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",bn),Ge.forEach(it=>Me.delete(it.key));let tn=Ih(qn);if(tn)return await qt(q,tn.result,!0,{replace:Ie}),{shortCircuited:!0};if(tn=Ih(en),tn)return Ve.add(tn.key),await qt(q,tn.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:qa,errors:Ei}=A1(N,ne,qn,Ne,Ge,en);_e&&N.errors&&(Ei={...N.errors,...Ei});let ur=Ur(),Zi=jr(ye),Tr=ur||Zi||Ge.length>0;return{matches:ne,loaderData:qa,errors:Ei,...Tr?{fetchers:new Map(N.fetchers)}:{}}}function Xt(q){if(q&&!xr(q[1]))return{[q[0]]:q[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Mt(q){return q.forEach(H=>{let ne=N.fetchers.get(H.key),oe=mc(void 0,ne?ne.data:void 0);N.fetchers.set(H.key,oe)}),new Map(N.fetchers)}async function Dn(q,H,ne,oe){zn(q);let ge=(oe&&oe.flushSync)===!0,be=c||l,Ae=By(N.location,N.matches,h,ne,H,oe==null?void 0:oe.relative),Se=ps(be,Ae,h),Ie=Nn(Se,be,Ae);if(Ie.active&&Ie.matches&&(Se=Ie.matches),!Se){gt(q,H,Jr(404,{pathname:Ae}),{flushSync:ge});return}let{path:_e,submission:Oe,error:Ne}=g1(!0,Ae,oe);if(Ne){gt(q,H,Ne,{flushSync:ge});return}let $e=Ec(Se,_e),pt=new d1(n.unstable_getContext?await n.unstable_getContext():void 0),Ot=(oe&&oe.preventScrollReset)===!0;if(Oe&&fi(Oe.formMethod)){await pr(q,H,_e,$e,Se,pt,Ie.active,ge,Ot,Oe);return}B.set(q,{routeId:H,path:_e}),await Bn(q,H,_e,$e,Se,pt,Ie.active,ge,Ot,Oe)}async function pr(q,H,ne,oe,ge,be,Ae,Se,Ie,_e){er(),B.delete(q);function Oe(Dt){if(!Dt.route.action&&!Dt.route.lazy){let wr=Jr(405,{method:_e.formMethod,pathname:ne,routeId:H});return gt(q,H,wr,{flushSync:Se}),!0}return!1}if(!Ae&&Oe(oe))return;let Ne=N.fetchers.get(q);lr(q,pD(_e,Ne),{flushSync:Se});let $e=new AbortController,pt=Rl(n.history,ne,$e.signal,_e);if(Ae){let Dt=await Vt(ge,ne,pt.signal,q);if(Dt.type==="aborted")return;if(Dt.type==="error"){gt(q,H,Dt.error,{flushSync:Se});return}else if(Dt.matches){if(ge=Dt.matches,oe=Ec(ge,ne),Oe(oe))return}else{gt(q,H,Jr(404,{pathname:ne}),{flushSync:Se});return}}Me.set(q,$e);let Ot=ae,Je=(await Zn("action",pt,[oe],ge,be,q))[oe.route.id];if(pt.signal.aborted){Me.get(q)===$e&&Me.delete(q);return}if(me.has(q)){if(_o(Je)||xr(Je)){lr(q,ds(void 0));return}}else{if(_o(Je))if(Me.delete(q),ye>Ot){lr(q,ds(void 0));return}else return Ve.add(q),lr(q,mc(_e)),qt(pt,Je,!1,{fetcherSubmission:_e,preventScrollReset:Ie});if(xr(Je)){gt(q,H,Je.error);return}}let Ge=N.navigation.location||N.location,bn=Rl(n.history,Ge,$e.signal),qn=c||l,en=N.navigation.state!=="idle"?ps(qn,N.navigation.location,h):N.matches;ot(en,"Didn't find any matches after fetcher action");let tn=++ae;pe.set(q,tn);let qa=mc(_e,Je.data);N.fetchers.set(q,qa);let[Ei,ur]=v1(n.history,N,en,_e,Ge,!1,V,Xe,me,B,Ve,qn,h,[oe.route.id,Je]);ur.filter(Dt=>Dt.key!==q).forEach(Dt=>{let wr=Dt.key,Ji=N.fetchers.get(wr),zs=mc(void 0,Ji?Ji.data:void 0);N.fetchers.set(wr,zs),zn(wr),Dt.controller&&Me.set(wr,Dt.controller)}),Qe({fetchers:new Map(N.fetchers)});let Zi=()=>ur.forEach(Dt=>zn(Dt.key));$e.signal.addEventListener("abort",Zi);let{loaderResults:Tr,fetcherResults:it}=await Jn(en,Ei,ur,bn,be);if($e.signal.aborted)return;$e.signal.removeEventListener("abort",Zi),pe.delete(q),Me.delete(q),ur.forEach(Dt=>Me.delete(Dt.key));let Et=Ih(Tr);if(Et)return qt(bn,Et.result,!1,{preventScrollReset:Ie});if(Et=Ih(it),Et)return Ve.add(Et.key),qt(bn,Et.result,!1,{preventScrollReset:Ie});let{loaderData:Br,errors:bi}=A1(N,en,Tr,void 0,ur,it);if(N.fetchers.has(q)){let Dt=ds(Je.data);N.fetchers.set(q,Dt)}jr(tn),N.navigation.state==="loading"&&tn>ye?(ot(re,"Expected pending action"),A&&A.abort(),ze(N.navigation.location,{matches:en,loaderData:Br,errors:bi,fetchers:new Map(N.fetchers)})):(Qe({errors:bi,loaderData:R1(N.loaderData,Br,en,bi),fetchers:new Map(N.fetchers)}),V=!1)}async function Bn(q,H,ne,oe,ge,be,Ae,Se,Ie,_e){let Oe=N.fetchers.get(q);lr(q,mc(_e,Oe?Oe.data:void 0),{flushSync:Se});let Ne=new AbortController,$e=Rl(n.history,ne,Ne.signal);if(Ae){let Je=await Vt(ge,ne,$e.signal,q);if(Je.type==="aborted")return;if(Je.type==="error"){gt(q,H,Je.error,{flushSync:Se});return}else if(Je.matches)ge=Je.matches,oe=Ec(ge,ne);else{gt(q,H,Jr(404,{pathname:ne}),{flushSync:Se});return}}Me.set(q,Ne);let pt=ae,_t=(await Zn("loader",$e,[oe],ge,be,q))[oe.route.id];if(Me.get(q)===Ne&&Me.delete(q),!$e.signal.aborted){if(me.has(q)){lr(q,ds(void 0));return}if(_o(_t))if(ye>pt){lr(q,ds(void 0));return}else{Ve.add(q),await qt($e,_t,!1,{preventScrollReset:Ie});return}if(xr(_t)){gt(q,H,_t.error);return}lr(q,ds(_t.data))}}async function qt(q,H,ne,{submission:oe,fetcherSubmission:ge,preventScrollReset:be,replace:Ae}={}){H.response.headers.has("X-Remix-Revalidate")&&(V=!0);let Se=H.response.headers.get("Location");ot(Se,"Expected a Location header on the redirect Response"),Se=w1(Se,new URL(q.url),h);let Ie=Mc(N.location,Se,{_isRedirect:!0});if(t){let Ot=!1;if(H.response.headers.has("X-Remix-Reload-Document"))Ot=!0;else if(Dv.test(Se)){const _t=n.history.createURL(Se);Ot=_t.origin!==e.location.origin||ai(_t.pathname,h)==null}if(Ot){Ae?e.location.replace(Se):e.location.assign(Se);return}}A=null;let _e=Ae===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:Ne,formEncType:$e}=N.navigation;!oe&&!ge&&Oe&&Ne&&$e&&(oe=D1(N.navigation));let pt=oe||ge;if(KI.has(H.response.status)&&pt&&fi(pt.formMethod))await ht(_e,Ie,{submission:{...pt,formAction:Se},preventScrollReset:be||D,enableViewTransition:ne?I:void 0});else{let Ot=Ag(Ie,oe);await ht(_e,Ie,{overrideNavigation:Ot,fetcherSubmission:ge,preventScrollReset:be||D,enableViewTransition:ne?I:void 0})}}async function Zn(q,H,ne,oe,ge,be){let Ae,Se={};try{Ae=await aD(p,q,H,ne,oe,be,s,i,ge)}catch(Ie){return ne.forEach(_e=>{Se[_e.route.id]={type:"error",error:Ie}}),Se}for(let[Ie,_e]of Object.entries(Ae))if(fD(_e)){let Oe=_e.result;Se[Ie]={type:"redirect",response:lD(Oe,H,Ie,oe,h)}}else Se[Ie]=await oD(_e);return Se}async function Jn(q,H,ne,oe,ge){let be=Zn("loader",oe,H,q,ge,null),Ae=Promise.all(ne.map(async _e=>{if(_e.matches&&_e.match&&_e.controller){let Ne=(await Zn("loader",Rl(n.history,_e.path,_e.controller.signal),[_e.match],_e.matches,ge,_e.key))[_e.match.route.id];return{[_e.key]:Ne}}else return Promise.resolve({[_e.key]:{type:"error",error:Jr(404,{pathname:_e.path})}})})),Se=await be,Ie=(await Ae).reduce((_e,Oe)=>Object.assign(_e,Oe),{});return{loaderResults:Se,fetcherResults:Ie}}function er(){V=!0,B.forEach((q,H)=>{Me.has(H)&&Xe.add(H),zn(H)})}function lr(q,H,ne={}){N.fetchers.set(q,H),Qe({fetchers:new Map(N.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function gt(q,H,ne,oe={}){let ge=vo(N.matches,H);_n(q),Qe({errors:{[ge.route.id]:ne},fetchers:new Map(N.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function dt(q){return le.set(q,(le.get(q)||0)+1),me.has(q)&&me.delete(q),N.fetchers.get(q)||QI}function _n(q){let H=N.fetchers.get(q);Me.has(q)&&!(H&&H.state==="loading"&&pe.has(q))&&zn(q),B.delete(q),pe.delete(q),Ve.delete(q),me.delete(q),Xe.delete(q),N.fetchers.delete(q)}function Wt(q){let H=(le.get(q)||0)-1;H<=0?(le.delete(q),me.add(q)):le.set(q,H),Qe({fetchers:new Map(N.fetchers)})}function zn(q){let H=Me.get(q);H&&(H.abort(),Me.delete(q))}function Wi(q){for(let H of q){let ne=dt(H),oe=ds(ne.data);N.fetchers.set(H,oe)}}function Ur(){let q=[],H=!1;for(let ne of Ve){let oe=N.fetchers.get(ne);ot(oe,`Expected fetcher: ${ne}`),oe.state==="loading"&&(Ve.delete(ne),q.push(ne),H=!0)}return Wi(q),H}function jr(q){let H=[];for(let[ne,oe]of pe)if(oe<q){let ge=N.fetchers.get(ne);ot(ge,`Expected fetcher: ${ne}`),ge.state==="loading"&&(zn(ne),pe.delete(ne),H.push(ne))}return Wi(H),H.length>0}function br(q,H){let ne=N.blockers.get(q)||pc;return de.get(q)!==H&&de.set(q,H),ne}function En(q){N.blockers.delete(q),de.delete(q)}function X(q,H){let ne=N.blockers.get(q)||pc;ot(ne.state==="unblocked"&&H.state==="blocked"||ne.state==="blocked"&&H.state==="blocked"||ne.state==="blocked"&&H.state==="proceeding"||ne.state==="blocked"&&H.state==="unblocked"||ne.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${ne.state} -> ${H.state}`);let oe=new Map(N.blockers);oe.set(q,H),Qe({blockers:oe})}function J({currentLocation:q,nextLocation:H,historyAction:ne}){if(de.size===0)return;de.size>1&&vn(!1,"A router only supports one blocker at a time");let oe=Array.from(de.entries()),[ge,be]=oe[oe.length-1],Ae=N.blockers.get(ge);if(!(Ae&&Ae.state==="proceeding")&&be({currentLocation:q,nextLocation:H,historyAction:ne}))return ge}function We(q){let H=Jr(404,{pathname:q}),ne=c||l,{matches:oe,route:ge}=O1(ne);return{notFoundMatches:oe,route:ge,error:H}}function yt(q,H,ne){if(T=q,O=H,w=ne||null,!z&&N.navigation===Sg){z=!0;let oe=ln(N.location,N.matches);oe!=null&&Qe({restoreScrollPosition:oe})}return()=>{T=null,O=null,w=null}}function vt(q,H){return w&&w(q,H.map(oe=>AI(oe,N.loaderData)))||q.key}function ke(q,H){if(T&&O){let ne=vt(q,H);T[ne]=O()}}function ln(q,H){if(T){let ne=vt(q,H),oe=T[ne];if(typeof oe=="number")return oe}return null}function Nn(q,H,ne){if(n.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:zh(H,ne,h,!0)}}else return{active:!0,matches:zh(H,ne,h,!0)||[]};return{active:!1,matches:null}}async function Vt(q,H,ne,oe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:q};let ge=q;for(;;){let be=c==null,Ae=c||l,Se=s;try{await n.patchRoutesOnNavigation({signal:ne,path:H,matches:ge,fetcherKey:oe,patch:(Oe,Ne)=>{ne.aborted||E1(Oe,Ne,Ae,Se,i)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:ge}}finally{be&&!ne.aborted&&(l=[...l])}if(ne.aborted)return{type:"aborted"};let Ie=ps(Ae,H,h);if(Ie)return{type:"success",matches:Ie};let _e=zh(Ae,H,h,!0);if(!_e||ge.length===_e.length&&ge.every((Oe,Ne)=>Oe.route.id===_e[Ne].route.id))return{type:"success",matches:null};ge=_e}}function tr(q){s={},c=id(q,i,void 0,s)}function mr(q,H){let ne=c==null;E1(q,H,c||l,s,i),ne&&(l=[...l],Qe({}))}return Z={get basename(){return h},get future(){return g},get state(){return N},get routes(){return l},get window(){return e},initialize:De,subscribe:rt,enableScrollRestoration:yt,navigate:mt,fetch:Dn,revalidate:lt,createHref:q=>n.history.createHref(q),encodeLocation:q=>n.history.encodeLocation(q),getFetcher:dt,deleteFetcher:Wt,dispose:Pt,getBlocker:br,deleteBlocker:En,patchRoutes:mr,_internalFetchControllers:Me,_internalSetRoutes:tr},Z}function WI(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function By(n,e,t,i,s,l){let c,h;if(s){c=[];for(let g of e)if(c.push(g),g.route.id===s){h=g;break}}else c=e,h=e[e.length-1];let p=kd(i||".",Ld(c),ai(n.pathname,t)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&h){let g=Nv(p.search);if(h.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&g){let v=new URLSearchParams(p.search),b=v.getAll("index");v.delete("index"),b.filter(w=>w).forEach(w=>v.append("index",w));let T=v.toString();p.search=T?`?${T}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:ji([t,p.pathname])),Cs(p)}function g1(n,e,t){if(!t||!WI(t))return{path:e};if(t.formMethod&&!hD(t.formMethod))return{path:e,error:Jr(405,{method:t.formMethod})};let i=()=>({path:e,error:Jr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=US(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!fi(l))return i();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((T,[w,O])=>`${T}${w}=${O}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!fi(l))return i();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return i()}}}ot(typeof FormData=="function","FormData is not available in this environment");let h,p;if(t.formData)h=qy(t.formData),p=t.formData;else if(t.body instanceof FormData)h=qy(t.body),p=t.body;else if(t.body instanceof URLSearchParams)h=t.body,p=S1(h);else if(t.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(t.body),p=S1(h)}catch{return i()}let g={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(fi(g.formMethod))return{path:e,submission:g};let v=Ms(e);return n&&v.search&&Nv(v.search)&&h.append("index",""),v.search=`?${h}`,{path:Cs(v),submission:g}}function y1(n,e,t=!1){let i=n.findIndex(s=>s.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function v1(n,e,t,i,s,l,c,h,p,g,v,b,T,w){let O=w?xr(w[1])?w[1].error:w[1].data:void 0,z=n.createURL(e.location),R=n.createURL(s),M=t;l&&e.errors?M=y1(t,Object.keys(e.errors)[0],!0):w&&xr(w[1])&&(M=y1(t,w[0]));let k=w?w[1].statusCode:void 0,G=k&&k>=400,Z=M.filter((re,D)=>{let{route:A}=re;if(A.lazy)return!0;if(A.loader==null)return!1;if(l)return zy(A,e.loaderData,e.errors);if(ZI(e.loaderData,e.matches[D],re))return!0;let I=e.matches[D],x=re;return _1(re,{currentUrl:z,currentParams:I.params,nextUrl:R,nextParams:x.params,...i,actionResult:O,actionStatus:k,defaultShouldRevalidate:G?!1:c||z.pathname+z.search===R.pathname+R.search||z.search!==R.search||JI(I,x)})}),N=[];return g.forEach((re,D)=>{if(l||!t.some(U=>U.route.id===re.routeId)||p.has(D))return;let A=ps(b,re.path,T);if(!A){N.push({key:D,routeId:re.routeId,path:re.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(D),x=Ec(A,re.path),j=!1;v.has(D)?j=!1:h.has(D)?(h.delete(D),j=!0):I&&I.state!=="idle"&&I.data===void 0?j=c:j=_1(x,{currentUrl:z,currentParams:e.matches[e.matches.length-1].params,nextUrl:R,nextParams:t[t.length-1].params,...i,actionResult:O,actionStatus:k,defaultShouldRevalidate:G?!1:c}),j&&N.push({key:D,routeId:re.routeId,path:re.path,matches:A,match:x,controller:new AbortController})}),[Z,N]}function zy(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function ZI(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function JI(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function _1(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function E1(n,e,t,i,s){let l;if(n){let p=i[n];ot(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(g=>LS(p,g))),h=id(c,s,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...h)}function LS(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var s;return(s=e.children)==null?void 0:s.some(l=>LS(t,l))}):!1}var b1=new WeakMap;async function eD(n,e,t){let i=t[n.id];if(ot(i,"No route found in manifest"),!n.lazy)return;let s=b1.get(i);if(s){await s;return}let l=n.lazy().then(c=>{let h={};for(let p in c){let v=i[p]!==void 0&&p!=="hasErrorBoundary";vn(!v,`Route "${i.id}" has a static property "${p}" defined but its lazy function is also returning a value for this property. The lazy route property "${p}" will be ignored.`),vn(!p1.has(p),"Route property "+p+" is not a supported property to be returned from a lazy route function. This property will be ignored."),!v&&!p1.has(p)&&(h[p]=c[p])}Object.assign(i,h),Object.assign(i,{...e(i),lazy:void 0})});b1.set(i,l),await l}async function tD(n,e){if(!n.unstable_lazyMiddleware)return;let t=e[n.id];if(ot(t,"No route found in manifest"),t.unstable_middleware)vn(!1,`Route "${t.id}" has a static property "unstable_middleware" defined. The "unstable_lazyMiddleware" function will be ignored.`);else{let i=await n.unstable_lazyMiddleware();if(!n.unstable_lazyMiddleware)return;t.unstable_middleware||(t.unstable_middleware=i)}t.unstable_lazyMiddleware=void 0}function nD(n,e){let t=n.map(i=>i.route.unstable_lazyMiddleware?tD(i.route,e):void 0).filter(Boolean);return t.length>0?Promise.all(t):void 0}async function T1(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,l)=>{t[e[l].route.id]=s}),t}async function rD(n){return n.matches.some(e=>e.route.unstable_middleware)?iD(n,!1,()=>T1(n),(e,t)=>({[t]:{type:"error",result:e}})):T1(n)}async function iD(n,e,t,i){let{matches:s,request:l,params:c,context:h}=n,p={handlerResult:void 0};try{let g=s.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(T=>[b.route.id,T]):[]),v=await kS({request:l,params:c,context:h},g,e,p,t);return e?v:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let v=await i(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,v):v}}async function kS(n,e,t,i,s,l=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let h=e[l];if(!h)return i.handlerResult=await s(),i.handlerResult;let[p,g]=h,v=!1,b,T=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await kS(n,e,t,i,s,l+1)};try{let w=await g({request:n.request,params:n.params,context:n.context},T);return v?w===void 0?b:w:T()}catch(w){throw i.middlewareError?i.middlewareError.error!==w&&(i.middlewareError={routeId:p,error:w}):i.middlewareError={routeId:p,error:w},w}}async function aD(n,e,t,i,s,l,c,h,p){let g=nD(s,c),v=s.map(w=>w.route.lazy?eD(w.route,h,c):void 0);g&&await g;let b=s.map((w,O)=>{let z=v[O],R=i.some(k=>k.route.id===w.route.id);return{...w,shouldLoad:R,resolve:async k=>(k&&t.method==="GET"&&(w.route.lazy||w.route.loader)&&(R=!0),R?sD(e,t,w,z,k,p):Promise.resolve({type:"data",result:void 0}))}}),T=await n({matches:b,request:t,params:s[0].params,fetcherKey:l,context:p});try{await Promise.all(v)}catch{}return T}async function sD(n,e,t,i,s,l){let c,h,p=g=>{let v,b=new Promise((O,z)=>v=z);h=()=>v(),e.signal.addEventListener("abort",h);let T=O=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):g({request:e,params:t.params,context:l},...O!==void 0?[O]:[]),w=(async()=>{try{return{type:"data",result:await(s?s(z=>T(z)):T())}}catch(O){return{type:"error",result:O}}})();return Promise.race([w,b])};try{let g=t.route[n];if(i)if(g){let v,[b]=await Promise.all([p(g).catch(T=>{v=T}),i]);if(v!==void 0)throw v;c=b}else if(await i,g=t.route[n],g)c=await p(g);else if(n==="action"){let v=new URL(e.url),b=v.pathname+v.search;throw Jr(405,{method:e.method,pathname:b,routeId:t.route.id})}else return{type:"data",result:void 0};else if(g)c=await p(g);else{let v=new URL(e.url),b=v.pathname+v.search;throw Jr(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{h&&e.signal.removeEventListener("abort",h)}return c}async function oD(n){var i,s,l,c,h,p;let{result:e,type:t}=n;if(jS(e)){let g;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(v){return{type:"error",error:v}}return t==="error"?{type:"error",error:new sd(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return t==="error"?I1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new sd(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:Vc(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Vc(e)?e.status:void 0}:I1(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function lD(n,e,t,i,s){let l=n.headers.get("Location");if(ot(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Dv.test(l)){let c=i.slice(0,i.findIndex(h=>h.route.id===t)+1);l=By(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function w1(n,e,t){if(Dv.test(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=ai(s.pathname,t)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}return n}function Rl(n,e,t,i){let s=n.createURL(US(e)).toString(),l={signal:t};if(i&&fi(i.formMethod)){let{formMethod:c,formEncType:h}=i;l.method=c.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(i.json)):h==="text/plain"?l.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?l.body=qy(i.formData):l.body=i.formData}return new Request(s,l)}function qy(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function S1(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function uD(n,e,t,i=!1,s=!1){let l={},c=null,h,p=!1,g={},v=t&&xr(t[1])?t[1].error:void 0;return n.forEach(b=>{if(!(b.route.id in e))return;let T=b.route.id,w=e[T];if(ot(!_o(w),"Cannot handle redirect results in processLoaderData"),xr(w)){let O=w.error;if(v!==void 0&&(O=v,v=void 0),c=c||{},s)c[T]=O;else{let z=vo(n,T);c[z.route.id]==null&&(c[z.route.id]=O)}i||(l[T]=VS),p||(p=!0,h=Vc(w.error)?w.error.status:500),w.headers&&(g[T]=w.headers)}else l[T]=w.data,w.statusCode&&w.statusCode!==200&&!p&&(h=w.statusCode),w.headers&&(g[T]=w.headers)}),v!==void 0&&t&&(c={[t[0]]:v},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:h||200,loaderHeaders:g}}function A1(n,e,t,i,s,l){let{loaderData:c,errors:h}=uD(e,t,i);return s.forEach(p=>{let{key:g,match:v,controller:b}=p,T=l[g];if(ot(T,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(xr(T)){let w=vo(n.matches,v==null?void 0:v.route.id);h&&h[w.route.id]||(h={...h,[w.route.id]:T.error}),n.fetchers.delete(g)}else if(_o(T))ot(!1,"Unhandled fetcher revalidation redirect");else{let w=ds(T.data);n.fetchers.set(g,w)}}),{loaderData:c,errors:h}}function R1(n,e,t,i){let s=Object.entries(e).filter(([,l])=>l!==VS).reduce((l,[c,h])=>(l[c]=h,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),i&&i.hasOwnProperty(c))break}return s}function C1(n){return n?xr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function vo(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function O1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Jr(n,{pathname:e,routeId:t,method:i,type:s,message:l}={}){let c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",h=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new sd(n||500,c,new Error(h),!0)}function Ih(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(_o(s))return{key:i,result:s}}}function US(n){let e=typeof n=="string"?Ms(n):n;return Cs({...e,hash:""})}function cD(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function fD(n){return jS(n.result)&&GI.has(n.result.status)}function xr(n){return n.type==="error"}function _o(n){return(n&&n.type)==="redirect"}function I1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function jS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function hD(n){return $I.has(n.toUpperCase())}function fi(n){return FI.has(n.toUpperCase())}function Nv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ec(n,e){let t=typeof e=="string"?Ms(e).search:e.search;if(n[n.length-1].route.index&&Nv(t||""))return n[n.length-1];let i=xS(n);return i[i.length-1]}function D1(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:l,json:c}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Ag(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dD(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function mc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function pD(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ds(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function mD(n,e){try{let t=n.sessionStorage.getItem(MS);if(t){let i=JSON.parse(t);for(let[s,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function gD(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(MS,JSON.stringify(t))}catch(i){vn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function yD(){let n,e,t=new Promise((i,s)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var xo=K.createContext(null);xo.displayName="DataRouter";var $c=K.createContext(null);$c.displayName="DataRouterState";var xv=K.createContext({isTransitioning:!1});xv.displayName="ViewTransition";var BS=K.createContext(new Map);BS.displayName="Fetchers";var vD=K.createContext(null);vD.displayName="Await";var vi=K.createContext(null);vi.displayName="Navigation";var Ud=K.createContext(null);Ud.displayName="Location";var si=K.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var Pv=K.createContext(null);Pv.displayName="RouteError";function _D(n,{relative:e}={}){ot(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=K.useContext(vi),{hash:s,pathname:l,search:c}=Gc(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:ji([t,l])),i.createHref({pathname:h,search:c,hash:s})}function ru(){return K.useContext(Ud)!=null}function Vs(){return ot(ru(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Ud).location}var zS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qS(n){K.useContext(vi).static||K.useLayoutEffect(n)}function Mv(){let{isDataRoute:n}=K.useContext(si);return n?VD():ED()}function ED(){ot(ru(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(xo),{basename:e,navigator:t}=K.useContext(vi),{matches:i}=K.useContext(si),{pathname:s}=Vs(),l=JSON.stringify(Ld(i)),c=K.useRef(!1);return qS(()=>{c.current=!0}),K.useCallback((p,g={})=>{if(vn(c.current,zS),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=kd(p,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ji([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,s,n])}var bD=K.createContext(null);function TD(n){let e=K.useContext(si).outlet;return e&&K.createElement(bD.Provider,{value:n},e)}function wD(){let{matches:n}=K.useContext(si),e=n[n.length-1];return e?e.params:{}}function Gc(n,{relative:e}={}){let{matches:t}=K.useContext(si),{pathname:i}=Vs(),s=JSON.stringify(Ld(t));return K.useMemo(()=>kd(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function SD(n,e,t,i){ot(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=K.useContext(vi),{matches:c}=K.useContext(si),h=c[c.length-1],p=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let k=b&&b.path||"";FS(g,!b||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let T=Vs(),w;w=T;let O=w.pathname||"/",z=O;if(v!=="/"){let k=v.replace(/^\//,"").split("/");z="/"+O.replace(/^\//,"").split("/").slice(k.length).join("/")}let R=!l&&t&&t.matches&&t.matches.length>0?t.matches:ps(n,{pathname:z});return vn(b||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),vn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ID(R&&R.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:ji([v,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?v:ji([v,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,t,i)}function AD(){let n=MD(),e=Vc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:l},"ErrorBoundary")," or"," ",K.createElement("code",{style:l},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:s},t):null,c)}var RD=K.createElement(AD,null),CD=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(si.Provider,{value:this.props.routeContext},K.createElement(Pv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OD({routeContext:n,match:e,children:t}){let i=K.useContext(xo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(si.Provider,{value:n},t)}function ID(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:v,errors:b}=t,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){c=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((p,g,v)=>{let b,T=!1,w=null,O=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||RD,c&&(h<0&&v===0?(FS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):h===v&&(T=!0,O=g.route.hydrateFallbackElement||null)));let z=e.concat(s.slice(0,v+1)),R=()=>{let M;return b?M=w:T?M=O:g.route.Component?M=K.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,K.createElement(OD,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:M})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?K.createElement(CD,{location:t.location,revalidation:t.revalidation,component:w,error:b,children:R(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):R()},null)}function Vv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DD(n){let e=K.useContext(xo);return ot(e,Vv(n)),e}function ND(n){let e=K.useContext($c);return ot(e,Vv(n)),e}function xD(n){let e=K.useContext(si);return ot(e,Vv(n)),e}function Lv(n){let e=xD(n),t=e.matches[e.matches.length-1];return ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function PD(){return Lv("useRouteId")}function MD(){var i;let n=K.useContext(Pv),e=ND("useRouteError"),t=Lv("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function VD(){let{router:n}=DD("useNavigate"),e=Lv("useNavigate"),t=K.useRef(!1);return qS(()=>{t.current=!0}),K.useCallback(async(s,l={})=>{vn(t.current,zS),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var N1={};function FS(n,e,t){!e&&!N1[n]&&(N1[n]=!0,vn(!1,t))}var x1={};function P1(n,e){!n&&!x1[e]&&(x1[e]=!0,console.warn(e))}function LD(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&vn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:K.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&vn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:K.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&vn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:K.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var kD=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function UD({router:n,flushSync:e}){let[t,i]=K.useState(n.state),[s,l]=K.useState(),[c,h]=K.useState({isTransitioning:!1}),[p,g]=K.useState(),[v,b]=K.useState(),[T,w]=K.useState(),O=K.useRef(new Map),z=K.useCallback((G,{deletedFetchers:Z,flushSync:N,viewTransitionOpts:re})=>{G.fetchers.forEach((A,I)=>{A.data!==void 0&&O.current.set(I,A.data)}),Z.forEach(A=>O.current.delete(A)),P1(N===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(P1(re==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!re||!D){e&&N?e(()=>i(G)):K.startTransition(()=>i(G));return}if(e&&N){e(()=>{v&&(p&&p.resolve(),v.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:re.currentLocation,nextLocation:re.nextLocation})});let A=n.window.document.startViewTransition(()=>{e(()=>i(G))});A.finished.finally(()=>{e(()=>{g(void 0),b(void 0),l(void 0),h({isTransitioning:!1})})}),e(()=>b(A));return}v?(p&&p.resolve(),v.skipTransition(),w({state:G,currentLocation:re.currentLocation,nextLocation:re.nextLocation})):(l(G),h({isTransitioning:!0,flushSync:!1,currentLocation:re.currentLocation,nextLocation:re.nextLocation}))},[n.window,e,v,p]);K.useLayoutEffect(()=>n.subscribe(z),[n,z]),K.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new kD)},[c]),K.useEffect(()=>{if(p&&s&&n.window){let G=s,Z=p.promise,N=n.window.document.startViewTransition(async()=>{K.startTransition(()=>i(G)),await Z});N.finished.finally(()=>{g(void 0),b(void 0),l(void 0),h({isTransitioning:!1})}),b(N)}},[s,p,n.window]),K.useEffect(()=>{p&&s&&t.location.key===s.location.key&&p.resolve()},[p,v,t.location,s]),K.useEffect(()=>{!c.isTransitioning&&T&&(l(T.state),h({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),w(void 0))},[c.isTransitioning,T]);let R=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:G=>n.navigate(G),push:(G,Z,N)=>n.navigate(G,{state:Z,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(G,Z,N)=>n.navigate(G,{replace:!0,state:Z,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),M=n.basename||"/",k=K.useMemo(()=>({router:n,navigator:R,static:!1,basename:M}),[n,R,M]);return K.createElement(K.Fragment,null,K.createElement(xo.Provider,{value:k},K.createElement($c.Provider,{value:t},K.createElement(BS.Provider,{value:O.current},K.createElement(xv.Provider,{value:c},K.createElement(qD,{basename:M,location:t.location,navigationType:t.historyAction,navigator:R},K.createElement(jD,{routes:n.routes,future:n.future,state:t})))))),null)}var jD=K.memo(BD);function BD({routes:n,future:e,state:t}){return SD(n,void 0,t,e)}function M1({to:n,replace:e,state:t,relative:i}){ot(ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=K.useContext(vi);vn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=K.useContext(si),{pathname:c}=Vs(),h=Mv(),p=kd(n,Ld(l),c,i==="path"),g=JSON.stringify(p);return K.useEffect(()=>{h(JSON.parse(g),{replace:e,state:t,relative:i})},[h,g,i,e,t]),null}function zD(n){return TD(n.context)}function qD({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){ot(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=Ms(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:T="default"}=t,w=K.useMemo(()=>{let O=ai(p,c);return O==null?null:{location:{pathname:O,search:g,hash:v,state:b,key:T},navigationType:i}},[c,p,g,v,b,T,i]);return vn(w!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:K.createElement(vi.Provider,{value:h},K.createElement(Ud.Provider,{children:e,value:w}))}var qh="get",Fh="application/x-www-form-urlencoded";function jd(n){return n!=null&&typeof n.tagName=="string"}function FD(n){return jd(n)&&n.tagName.toLowerCase()==="button"}function HD(n){return jd(n)&&n.tagName.toLowerCase()==="form"}function $D(n){return jd(n)&&n.tagName.toLowerCase()==="input"}function GD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function KD(n,e){return n.button===0&&(!e||e==="_self")&&!GD(n)}var Dh=null;function QD(){if(Dh===null)try{new FormData(document.createElement("form"),0),Dh=!1}catch{Dh=!0}return Dh}var YD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rg(n){return n!=null&&!YD.has(n)?(vn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fh}"`),null):n}function XD(n,e){let t,i,s,l,c;if(HD(n)){let h=n.getAttribute("action");i=h?ai(h,e):null,t=n.getAttribute("method")||qh,s=Rg(n.getAttribute("enctype"))||Fh,l=new FormData(n)}else if(FD(n)||$D(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?ai(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||qh,s=Rg(n.getAttribute("formenctype"))||Rg(h.getAttribute("enctype"))||Fh,l=new FormData(h,n),!QD()){let{name:g,type:v,value:b}=n;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,b)}}else{if(jd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qh,i=null,s=Fh,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}function kv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function WD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function JD(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await WD(l,t);return c.links?c.links():[]}return[]}));return rN(i.flat(1).filter(ZD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function V1(n,e,t,i,s,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,h=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||h(p,g)):l==="data"?e.filter((p,g)=>{var b;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function eN(n,e,{includeHydrateFallback:t}={}){return tN(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function tN(n){return[...new Set(n)]}function nN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function rN(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(nN(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}function iN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ai(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function HS(){let n=K.useContext(xo);return kv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function aN(){let n=K.useContext($c);return kv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Uv=K.createContext(void 0);Uv.displayName="FrameworkContext";function $S(){let n=K.useContext(Uv);return kv(n,"You must render this element inside a <HydratedRouter> element"),n}function sN(n,e){let t=K.useContext(Uv),[i,s]=K.useState(!1),[l,c]=K.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,T=K.useRef(null);K.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=M=>{M.forEach(k=>{c(k.isIntersecting)})},R=new IntersectionObserver(z,{threshold:.5});return T.current&&R.observe(T.current),()=>{R.disconnect()}}},[n]),K.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let w=()=>{s(!0)},O=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:gc(h,w),onBlur:gc(p,O),onMouseEnter:gc(g,w),onMouseLeave:gc(v,O),onTouchStart:gc(b,w)}]:[!1,T,{}]}function gc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function oN({page:n,...e}){let{router:t}=HS(),i=K.useMemo(()=>ps(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?K.createElement(uN,{page:n,matches:i,...e}):null}function lN(n){let{manifest:e,routeModules:t}=$S(),[i,s]=K.useState([]);return K.useEffect(()=>{let l=!1;return JD(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function uN({page:n,matches:e,...t}){let i=Vs(),{manifest:s,routeModules:l}=$S(),{basename:c}=HS(),{loaderData:h,matches:p}=aN(),g=K.useMemo(()=>V1(n,e,p,s,i,"data"),[n,e,p,s,i]),v=K.useMemo(()=>V1(n,e,p,s,i,"assets"),[n,e,p,s,i]),b=K.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,z=!1;if(e.forEach(M=>{var G;let k=s.routes[M.route.id];!k||!k.hasLoader||(!g.some(Z=>Z.route.id===M.route.id)&&M.route.id in h&&((G=l[M.route.id])!=null&&G.shouldRevalidate)||k.hasClientLoader?z=!0:O.add(M.route.id))}),O.size===0)return[];let R=iN(n,c);return z&&O.size>0&&R.searchParams.set("_routes",e.filter(M=>O.has(M.route.id)).map(M=>M.route.id).join(",")),[R.pathname+R.search]},[c,h,i,s,g,e,n,l]),T=K.useMemo(()=>eN(v,s),[v,s]),w=lN(v);return K.createElement(K.Fragment,null,b.map(O=>K.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),T.map(O=>K.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),w.map(({key:O,link:z})=>K.createElement("link",{key:O,...z})))}function cN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var GS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GS&&(window.__reactRouterVersion="7.4.1")}catch{}function fN(n,e){return XI({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:bI({window:e==null?void 0:e.window}),hydrationData:hN(),routes:n,mapRouteProperties:LD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function hN(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:dN(n.errors)}),n}function dN(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new sd(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(s.message);l.stack="",t[i]=l}}else t[i]=s;return t}var KS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qn=K.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:h,target:p,to:g,preventScrollReset:v,viewTransition:b,...T},w){let{basename:O}=K.useContext(vi),z=typeof g=="string"&&KS.test(g),R,M=!1;if(typeof g=="string"&&z&&(R=g,GS))try{let I=new URL(window.location.href),x=g.startsWith("//")?new URL(I.protocol+g):new URL(g),j=ai(x.pathname,O);x.origin===I.origin&&j!=null?g=j+x.search+x.hash:M=!0}catch{vn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=_D(g,{relative:s}),[G,Z,N]=sN(i,T),re=yN(g,{replace:c,state:h,target:p,preventScrollReset:v,relative:s,viewTransition:b});function D(I){e&&e(I),I.defaultPrevented||re(I)}let A=K.createElement("a",{...T,...N,href:R||k,onClick:M||l?e:D,ref:cN(w,Z),target:p,"data-discover":!z&&t==="render"?"true":void 0});return G&&!z?K.createElement(K.Fragment,null,A,K.createElement(oN,{page:k})):A});Qn.displayName="Link";var pN=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:h,children:p,...g},v){let b=Gc(c,{relative:g.relative}),T=Vs(),w=K.useContext($c),{navigator:O,basename:z}=K.useContext(vi),R=w!=null&&TN(b)&&h===!0,M=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,k=T.pathname,G=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(k=k.toLowerCase(),G=G?G.toLowerCase():null,M=M.toLowerCase()),G&&z&&(G=ai(G,z)||G);const Z=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let N=k===M||!s&&k.startsWith(M)&&k.charAt(Z)==="/",re=G!=null&&(G===M||!s&&G.startsWith(M)&&G.charAt(M.length)==="/"),D={isActive:N,isPending:re,isTransitioning:R},A=N?e:void 0,I;typeof i=="function"?I=i(D):I=[i,N?"active":null,re?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(D):l;return K.createElement(Qn,{...g,"aria-current":A,className:I,ref:v,style:x,to:c,viewTransition:h},typeof p=="function"?p(D):p)});pN.displayName="NavLink";var mN=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=qh,action:h,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...T},w)=>{let O=EN(),z=bN(h,{relative:g}),R=c.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&KS.test(h),k=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let Z=G.nativeEvent.submitter,N=(Z==null?void 0:Z.getAttribute("formmethod"))||c;O(Z||G.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return K.createElement("form",{ref:w,method:R,action:z,onSubmit:i?p:k,...T,"data-discover":!M&&n==="render"?"true":void 0})});mN.displayName="Form";function gN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QS(n){let e=K.useContext(xo);return ot(e,gN(n)),e}function yN(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let h=Mv(),p=Vs(),g=Gc(n,{relative:l});return K.useCallback(v=>{if(KD(v,e)){v.preventDefault();let b=t!==void 0?t:Cs(p)===Cs(g);h(n,{replace:b,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[p,h,g,t,i,e,n,s,l,c])}var vN=0,_N=()=>`__${String(++vN)}__`;function EN(){let{router:n}=QS("useSubmit"),{basename:e}=K.useContext(vi),t=PD();return K.useCallback(async(i,s={})=>{let{action:l,method:c,encType:h,formData:p,body:g}=XD(i,e);if(s.navigate===!1){let v=s.fetcherKey||_N();await n.fetch(v,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||c,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||c,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function bN(n,{relative:e}={}){let{basename:t}=K.useContext(vi),i=K.useContext(si);ot(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Gc(n||".",{relative:e})},c=Vs();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(v=>v==="")){h.delete("index"),p.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ji([t,l.pathname])),Cs(l)}function TN(n,e={}){let t=K.useContext(xv);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=QS("useViewTransitionState"),s=Gc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ai(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ai(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ad(s.pathname,c)!=null||ad(s.pathname,l)!=null}new TextEncoder;function At(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var wN={};function Bd(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:wN}var YS=Object.assign,od=Object.getOwnPropertyDescriptor,Bi=Object.defineProperty,zd=Object.prototype,Fy=[];Object.freeze(Fy);var jv={};Object.freeze(jv);var SN=typeof Proxy<"u",AN=Object.toString();function XS(){SN||At("Proxy not available")}function WS(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var Vl=function(){};function pi(n){return typeof n=="function"}function wo(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function qd(n){return n!==null&&typeof n=="object"}function xa(n){if(!qd(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===AN}function ZS(n){var e=n==null?void 0:n.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function Kc(n,e,t){Bi(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function JS(n,e,t){Bi(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function Po(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(i){return qd(i)&&i[t]===!0}}function iu(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function RN(n){var e=Object.getPrototypeOf(n),t=Object.getPrototypeOf(e),i=Object.getPrototypeOf(t);return i===null}function Ta(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var eA=typeof Object.getOwnPropertySymbols<"u";function CN(n){var e=Object.keys(n);if(!eA)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(i){return zd.propertyIsEnumerable.call(n,i)})):e}var Fl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:eA?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function tA(n){return n===null?null:typeof n=="object"?""+n:n}function Oa(n,e){return zd.hasOwnProperty.call(n,e)}var ON=Object.getOwnPropertyDescriptors||function(e){var t={};return Fl(e).forEach(function(i){t[i]=od(e,i)}),t};function Pr(n,e){return!!(n&e)}function Mr(n,e,t){return t?n|=e:n&=~e,n}function L1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function IN(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,NN(i.key),i)}}function au(n,e,t){return e&&IN(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ll(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=xN(n))||e){t&&(n=t);var i=0;return function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function So(){return So=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},So.apply(null,arguments)}function nA(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Hy(n,e)}function Hy(n,e){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Hy(n,e)}function DN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function NN(n){var e=DN(n,"string");return typeof e=="symbol"?e:e+""}function xN(n,e){if(n){if(typeof n=="string")return L1(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L1(n,e):void 0}}var ki=Symbol("mobx-stored-annotations");function zi(n){function e(t,i){if(Yc(i))return n.decorate_20223_(t,i);Qc(t,i,n)}return Object.assign(e,n)}function Qc(n,e,t){Oa(n,ki)||Kc(n,ki,So({},n[ki])),jN(t)||(n[ki][e]=t)}function PN(n){return Oa(n,ki)||Kc(n,ki,So({},n[ki])),n[ki]}function Yc(n){return typeof n=="object"&&typeof n.kind=="string"}var Fe=Symbol("mobx administration"),Ls=function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ct.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return _A(this)},e.reportChanged=function(){ri(),EA(this),ii()},e.toString=function(){return this.name_},au(n,[{key:"isBeingObserved",get:function(){return Pr(this.flags_,n.isBeingObservedMask_)},set:function(i){this.flags_=Mr(this.flags_,n.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return Pr(this.flags_,n.isPendingUnobservationMask_)},set:function(i){this.flags_=Mr(this.flags_,n.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return Pr(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=Mr(this.flags_,n.diffValueMask_,i===1)}}])}();Ls.isBeingObservedMask_=1;Ls.isPendingUnobservationMask_=2;Ls.diffValueMask_=4;var Bv=Po("Atom",Ls);function rA(n,e,t){e===void 0&&(e=Vl),t===void 0&&(t=Vl);var i=new Ls(n);return e!==Vl&&Fx(i,e),t!==Vl&&CA(i,t),i}function MN(n,e){return zA(n,e)}function VN(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Hl={structural:MN,default:VN};function Ao(n,e,t){return xA(n)?n:Array.isArray(n)?Cn.array(n,{name:t}):xa(n)?Cn.object(n,void 0,{name:t}):iu(n)?Cn.map(n,{name:t}):Ta(n)?Cn.set(n,{name:t}):typeof n=="function"&&!kc(n)&&!Uc(n)?ZS(n)?$l(n):Lc(t,n):n}function LN(n,e,t){if(n==null||Xd(n)||Yd(n)||Vo(n)||Li(n))return n;if(Array.isArray(n))return Cn.array(n,{name:t,deep:!1});if(xa(n))return Cn.object(n,void 0,{name:t,deep:!1});if(iu(n))return Cn.map(n,{name:t,deep:!1});if(Ta(n))return Cn.set(n,{name:t,deep:!1})}function Fd(n){return n}function kN(n,e){return zA(n,e)?e:n}var UN="override";function jN(n){return n.annotationType_===UN}function Xc(n,e){return{annotationType_:n,options_:e,make_:BN,extend_:zN,decorate_20223_:qN}}function BN(n,e,t,i){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(n,e,t,!1)===null?0:1;if(i===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(kc(t.value))return 1;var l=iA(n,this,e,t,!1);return Bi(i,e,l),2}function zN(n,e,t,i){var s=iA(n,this,e,t);return n.defineProperty_(e,s,i)}function qN(n,e){var t=e.kind,i=e.name,s=e.addInitializer,l=this,c=function(g){var v,b,T,w;return Ro((v=(b=l.options_)==null?void 0:b.name)!=null?v:i.toString(),g,(T=(w=l.options_)==null?void 0:w.autoAction)!=null?T:!1)};if(t=="field")return function(p){var g,v=p;return kc(v)||(v=c(v)),(g=l.options_)!=null&&g.bound&&(v=v.bind(this),v.isMobxAction=!0),v};if(t=="method"){var h;return kc(n)||(n=c(n)),(h=this.options_)!=null&&h.bound&&s(function(){var p=this,g=p[i].bind(p);g.isMobxAction=!0,p[i]=g}),n}At("Cannot apply '"+l.annotationType_+"' to '"+String(i)+"' (kind: "+t+"):"+(`
'`+l.annotationType_+"' can only be used on properties with a function value."))}function FN(n,e,t,i){e.annotationType_,i.value}function iA(n,e,t,i,s){var l,c,h,p,g,v,b;s===void 0&&(s=Ee.safeDescriptors),FN(n,e,t,i);var T=i.value;if((l=e.options_)!=null&&l.bound){var w;T=T.bind((w=n.proxy_)!=null?w:n.target_)}return{value:Ro((c=(h=e.options_)==null?void 0:h.name)!=null?c:t.toString(),T,(p=(g=e.options_)==null?void 0:g.autoAction)!=null?p:!1,(v=e.options_)!=null&&v.bound?(b=n.proxy_)!=null?b:n.target_:void 0),configurable:s?n.isPlainObject_:!0,enumerable:!1,writable:!s}}function aA(n,e){return{annotationType_:n,options_:e,make_:HN,extend_:$N,decorate_20223_:GN}}function HN(n,e,t,i){var s;if(i===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!Oa(n.target_,e)||!Uc(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(Uc(t.value))return 1;var l=sA(n,this,e,t,!1,!1);return Bi(i,e,l),2}function $N(n,e,t,i){var s,l=sA(n,this,e,t,(s=this.options_)==null?void 0:s.bound);return n.defineProperty_(e,l,i)}function GN(n,e){var t,i=e.name,s=e.addInitializer;return Uc(n)||(n=$l(n)),(t=this.options_)!=null&&t.bound&&s(function(){var l=this,c=l[i].bind(l);c.isMobXFlow=!0,l[i]=c}),n}function KN(n,e,t,i){e.annotationType_,i.value}function sA(n,e,t,i,s,l){l===void 0&&(l=Ee.safeDescriptors),KN(n,e,t,i);var c=i.value;if(Uc(c)||(c=$l(c)),s){var h;c=c.bind((h=n.proxy_)!=null?h:n.target_),c.isMobXFlow=!0}return{value:c,configurable:l?n.isPlainObject_:!0,enumerable:!1,writable:!l}}function zv(n,e){return{annotationType_:n,options_:e,make_:QN,extend_:YN,decorate_20223_:XN}}function QN(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function YN(n,e,t,i){return WN(n,this,e,t),n.defineComputedProperty_(e,So({},this.options_,{get:t.get,set:t.set}),i)}function XN(n,e){var t=this,i=e.name,s=e.addInitializer;return s(function(){var l=Lo(this)[Fe],c=So({},t.options_,{get:n,context:this});c.name||(c.name="ObservableObject."+i.toString()),l.values_.set(i,new mi(c))}),function(){return this[Fe].getObservablePropValue_(i)}}function WN(n,e,t,i){e.annotationType_,i.get}function Hd(n,e){return{annotationType_:n,options_:e,make_:ZN,extend_:JN,decorate_20223_:ex}}function ZN(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function JN(n,e,t,i){var s,l;return tx(n,this),n.defineObservableProperty_(e,t.value,(s=(l=this.options_)==null?void 0:l.enhancer)!=null?s:Ao,i)}function ex(n,e){var t=this,i=e.kind,s=e.name,l=new WeakSet;function c(h,p){var g,v,b=Lo(h)[Fe],T=new bo(p,(g=(v=t.options_)==null?void 0:v.enhancer)!=null?g:Ao,"ObservableObject."+s.toString(),!1);b.values_.set(s,T),l.add(h)}if(i=="accessor")return{get:function(){return l.has(this)||c(this,n.get.call(this)),this[Fe].getObservablePropValue_(s)},set:function(p){return l.has(this)||c(this,p),this[Fe].setObservablePropValue_(s,p)},init:function(p){return l.has(this)||c(this,p),p}}}function tx(n,e,t,i){e.annotationType_}var nx="true",rx=oA();function oA(n){return{annotationType_:nx,options_:n,make_:ix,extend_:ax,decorate_20223_:sx}}function ix(n,e,t,i){var s,l;if(t.get)return $d.make_(n,e,t,i);if(t.set){var c=Ro(e.toString(),t.set);return i===n.target_?n.defineProperty_(e,{configurable:Ee.safeDescriptors?n.isPlainObject_:!0,set:c})===null?0:2:(Bi(i,e,{configurable:!0,set:c}),2)}if(i!==n.target_&&typeof t.value=="function"){var h;if(ZS(t.value)){var p,g=(p=this.options_)!=null&&p.autoBind?$l.bound:$l;return g.make_(n,e,t,i)}var v=(h=this.options_)!=null&&h.autoBind?Lc.bound:Lc;return v.make_(n,e,t,i)}var b=((s=this.options_)==null?void 0:s.deep)===!1?Cn.ref:Cn;if(typeof t.value=="function"&&(l=this.options_)!=null&&l.autoBind){var T;t.value=t.value.bind((T=n.proxy_)!=null?T:n.target_)}return b.make_(n,e,t,i)}function ax(n,e,t,i){var s,l;if(t.get)return $d.extend_(n,e,t,i);if(t.set)return n.defineProperty_(e,{configurable:Ee.safeDescriptors?n.isPlainObject_:!0,set:Ro(e.toString(),t.set)},i);if(typeof t.value=="function"&&(s=this.options_)!=null&&s.autoBind){var c;t.value=t.value.bind((c=n.proxy_)!=null?c:n.target_)}var h=((l=this.options_)==null?void 0:l.deep)===!1?Cn.ref:Cn;return h.extend_(n,e,t,i)}function sx(n,e){At("'"+this.annotationType_+"' cannot be used as a decorator")}var ox="observable",lx="observable.ref",ux="observable.shallow",cx="observable.struct",lA={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(lA);function Nh(n){return n||lA}var $y=Hd(ox),fx=Hd(lx,{enhancer:Fd}),hx=Hd(ux,{enhancer:LN}),dx=Hd(cx,{enhancer:kN}),uA=zi($y);function xh(n){return n.deep===!0?Ao:n.deep===!1?Fd:mx(n.defaultDecorator)}function px(n){var e;return n?(e=n.defaultDecorator)!=null?e:oA(n):void 0}function mx(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:Ao}function cA(n,e,t){if(Yc(e))return $y.decorate_20223_(n,e);if(wo(e)){Qc(n,e,$y);return}return xA(n)?n:xa(n)?Cn.object(n,e,t):Array.isArray(n)?Cn.array(n,e):iu(n)?Cn.map(n,e):Ta(n)?Cn.set(n,e):typeof n=="object"&&n!==null?n:Cn.box(n,e)}YS(cA,uA);var gx={box:function(e,t){var i=Nh(t);return new bo(e,xh(i),i.name,!0,i.equals)},array:function(e,t){var i=Nh(t);return(Ee.useProxies===!1||i.proxy===!1?hP:nP)(e,xh(i),i.name)},map:function(e,t){var i=Nh(t);return new VA(e,xh(i),i.name)},set:function(e,t){var i=Nh(t);return new LA(e,xh(i),i.name)},object:function(e,t,i){return ks(function(){return IA(Ee.useProxies===!1||(i==null?void 0:i.proxy)===!1?Lo({},i):Jx({},i),e,t)})},ref:zi(fx),shallow:zi(hx),deep:uA,struct:zi(dx)},Cn=YS(cA,gx),fA="computed",yx="computed.struct",Gy=zv(fA),vx=zv(yx,{equals:Hl.structural}),$d=function(e,t){if(Yc(t))return Gy.decorate_20223_(e,t);if(wo(t))return Qc(e,t,Gy);if(xa(e))return zi(zv(fA,e));var i=xa(t)?t:{};return i.get=e,i.name||(i.name=e.name||""),new mi(i)};Object.assign($d,Gy);$d.struct=zi(vx);var k1,U1,ld=0,_x=1,Ex=(k1=(U1=od(function(){},"name"))==null?void 0:U1.configurable)!=null?k1:!1,j1={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ro(n,e,t,i){t===void 0&&(t=!1);function s(){return hA(n,t,e,i||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return e.toString()},Ex&&(j1.value=n,Bi(s,"name",j1)),s}function hA(n,e,t,i,s){var l=bx(n,e);try{return t.apply(i,s)}catch(c){throw l.error_=c,c}finally{Tx(l)}}function bx(n,e,t,i){var s=!1,l=0,c=Ee.trackingDerivation,h=!e||!c;ri();var p=Ee.allowStateChanges;h&&(Mo(),p=Gd(!0));var g=qv(!0),v={runAsAction_:h,prevDerivation_:c,prevAllowStateChanges_:p,prevAllowStateReads_:g,notifySpy_:s,startTime_:l,actionId_:_x++,parentActionId_:ld};return ld=v.actionId_,v}function Tx(n){ld!==n.actionId_&&At(30),ld=n.parentActionId_,n.error_!==void 0&&(Ee.suppressReactionErrors=!0),Kd(n.prevAllowStateChanges_),Cc(n.prevAllowStateReads_),ii(),n.runAsAction_&&Ia(n.prevDerivation_),Ee.suppressReactionErrors=!1}function wx(n,e){var t=Gd(n);try{return e()}finally{Kd(t)}}function Gd(n){var e=Ee.allowStateChanges;return Ee.allowStateChanges=n,e}function Kd(n){Ee.allowStateChanges=n}var bo=function(n){function e(i,s,l,c,h){var p;return l===void 0&&(l="ObservableValue"),h===void 0&&(h=Hl.default),p=n.call(this,l)||this,p.enhancer=void 0,p.name_=void 0,p.equals=void 0,p.hasUnreportedChange_=!1,p.interceptors_=void 0,p.changeListeners_=void 0,p.value_=void 0,p.dehancer=void 0,p.enhancer=s,p.name_=l,p.equals=h,p.value_=s(i,void 0,l),p}nA(e,n);var t=e.prototype;return t.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},t.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==Ee.UNCHANGED&&this.setNewValue_(s)},t.prepareNewValue_=function(s){if(ei(this)){var l=ti(this,{object:this,type:qi,newValue:s});if(!l)return Ee.UNCHANGED;s=l.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?Ee.UNCHANGED:s},t.setNewValue_=function(s){var l=this.value_;this.value_=s,this.reportChanged(),hi(this)&&di(this,{type:qi,object:this,newValue:s,oldValue:l})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(s){return Wc(this,s)},t.observe_=function(s,l){return l&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:qi,newValue:this.value_,oldValue:void 0}),Zc(this,s)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return tA(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},e}(Ls),mi=function(){function n(t){this.dependenciesState_=Ct.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ct.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new cd(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ud.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||At(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=Ro("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Hl.structural:Hl.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){Ox(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&At(32,this.name_,this.derivation),Ee.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Ky(this)&&(this.warnAboutUntrackedRead_(),ri(),this.value_=this.computeValue_(!1),ii());else if(_A(this),Ky(this)){var i=Ee.trackingContext;this.keepAlive_&&!i&&(Ee.trackingContext=this),this.trackAndCompute()&&Cx(this),Ee.trackingContext=i}var s=this.value_;if(Hh(s))throw s.cause;return s},e.set=function(i){if(this.setter_){this.isRunningSetter&&At(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else At(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,s=this.dependenciesState_===Ct.NOT_TRACKING_,l=this.computeValue_(!0),c=s||Hh(i)||Hh(l)||!this.equals_(i,l);return c&&(this.value_=l),c},e.computeValue_=function(i){this.isComputing=!0;var s=Gd(!1),l;if(i)l=dA(this,this.derivation,this.scope_);else if(Ee.disableErrorBoundaries===!0)l=this.derivation.call(this.scope_);else try{l=this.derivation.call(this.scope_)}catch(c){l=new cd(c)}return Kd(s),this.isComputing=!1,l},e.suspend_=function(){this.keepAlive_||(Qy(this),this.value_=void 0)},e.observe_=function(i,s){var l=this,c=!0,h=void 0;return kx(function(){var p=l.get();if(!c||s){var g=Mo();i({observableKind:"computed",debugObjectName:l.name_,type:qi,object:l,newValue:p,oldValue:h}),Ia(g)}c=!1,h=p})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return tA(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},au(n,[{key:"isComputing",get:function(){return Pr(this.flags_,n.isComputingMask_)},set:function(i){this.flags_=Mr(this.flags_,n.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return Pr(this.flags_,n.isRunningSetterMask_)},set:function(i){this.flags_=Mr(this.flags_,n.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return Pr(this.flags_,n.isBeingObservedMask_)},set:function(i){this.flags_=Mr(this.flags_,n.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return Pr(this.flags_,n.isPendingUnobservationMask_)},set:function(i){this.flags_=Mr(this.flags_,n.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return Pr(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=Mr(this.flags_,n.diffValueMask_,i===1)}}])}();mi.isComputingMask_=1;mi.isRunningSetterMask_=2;mi.isBeingObservedMask_=4;mi.isPendingUnobservationMask_=8;mi.diffValueMask_=16;var Qd=Po("ComputedValue",mi),Ct;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(Ct||(Ct={}));var ud;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(ud||(ud={}));var cd=function(e){this.cause=void 0,this.cause=e};function Hh(n){return n instanceof cd}function Ky(n){switch(n.dependenciesState_){case Ct.UP_TO_DATE_:return!1;case Ct.NOT_TRACKING_:case Ct.STALE_:return!0;case Ct.POSSIBLY_STALE_:{for(var e=qv(!0),t=Mo(),i=n.observing_,s=i.length,l=0;l<s;l++){var c=i[l];if(Qd(c)){if(Ee.disableErrorBoundaries)c.get();else try{c.get()}catch{return Ia(t),Cc(e),!0}if(n.dependenciesState_===Ct.STALE_)return Ia(t),Cc(e),!0}}return mA(n),Ia(t),Cc(e),!1}}}function dA(n,e,t){var i=qv(!0);mA(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++Ee.runId;var s=Ee.trackingDerivation;Ee.trackingDerivation=n,Ee.inBatch++;var l;if(Ee.disableErrorBoundaries===!0)l=e.call(t);else try{l=e.call(t)}catch(c){l=new cd(c)}return Ee.inBatch--,Ee.trackingDerivation=s,Sx(n),Cc(i),l}function Sx(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,i=Ct.UP_TO_DATE_,s=0,l=n.unboundDepsCount_,c=0;c<l;c++){var h=t[c];h.diffValue===0&&(h.diffValue=1,s!==c&&(t[s]=h),s++),h.dependenciesState_>i&&(i=h.dependenciesState_)}for(t.length=s,n.newObserving_=null,l=e.length;l--;){var p=e[l];p.diffValue===0&&yA(p,n),p.diffValue=0}for(;s--;){var g=t[s];g.diffValue===1&&(g.diffValue=0,Rx(g,n))}i!==Ct.UP_TO_DATE_&&(n.dependenciesState_=i,n.onBecomeStale_())}function Qy(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)yA(e[t],n);n.dependenciesState_=Ct.NOT_TRACKING_}function pA(n){var e=Mo();try{return n()}finally{Ia(e)}}function Mo(){var n=Ee.trackingDerivation;return Ee.trackingDerivation=null,n}function Ia(n){Ee.trackingDerivation=n}function qv(n){var e=Ee.allowStateReads;return Ee.allowStateReads=n,e}function Cc(n){Ee.allowStateReads=n}function mA(n){if(n.dependenciesState_!==Ct.UP_TO_DATE_){n.dependenciesState_=Ct.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=Ct.UP_TO_DATE_}}var $h=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Gh=!0,gA=!1,Ee=function(){var n=Bd();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(Gh=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new $h().version&&(Gh=!1),Gh?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new $h):(setTimeout(function(){gA||At(35)},1),new $h)}();function Ax(){if((Ee.pendingReactions.length||Ee.inBatch||Ee.isRunningReactions)&&At(36),gA=!0,Gh){var n=Bd();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),Ee=new $h}}function Rx(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function yA(n,e){n.observers_.delete(e),n.observers_.size===0&&vA(n)}function vA(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,Ee.pendingUnobservations.push(n))}function ri(){Ee.inBatch++}function ii(){if(--Ee.inBatch===0){bA();for(var n=Ee.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation=!1,t.observers_.size===0&&(t.isBeingObserved&&(t.isBeingObserved=!1,t.onBUO()),t instanceof mi&&t.suspend_())}Ee.pendingUnobservations=[]}}function _A(n){var e=Ee.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved&&Ee.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&Ee.inBatch>0&&vA(n),!1)}function EA(n){n.lowestObserverState_!==Ct.STALE_&&(n.lowestObserverState_=Ct.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===Ct.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ct.STALE_}))}function Cx(n){n.lowestObserverState_!==Ct.STALE_&&(n.lowestObserverState_=Ct.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===Ct.POSSIBLY_STALE_?e.dependenciesState_=Ct.STALE_:e.dependenciesState_===Ct.UP_TO_DATE_&&(n.lowestObserverState_=Ct.UP_TO_DATE_)}))}function Ox(n){n.lowestObserverState_===Ct.UP_TO_DATE_&&(n.lowestObserverState_=Ct.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===Ct.UP_TO_DATE_&&(e.dependenciesState_=Ct.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Qi=function(){function n(t,i,s,l){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ct.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=ud.NONE,this.name_=t,this.onInvalidate_=i,this.errorHandler_=s,this.requiresObservable_=l}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Ee.pendingReactions.push(this),bA())},e.runReaction_=function(){if(!this.isDisposed){ri(),this.isScheduled=!1;var i=Ee.trackingContext;if(Ee.trackingContext=this,Ky(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}Ee.trackingContext=i,ii()}},e.track=function(i){if(!this.isDisposed){ri(),this.isRunning=!0;var s=Ee.trackingContext;Ee.trackingContext=this;var l=dA(this,i,void 0);Ee.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Qy(this),Hh(l)&&this.reportExceptionInDerivation_(l.cause),ii()}},e.reportExceptionInDerivation_=function(i){var s=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(Ee.disableErrorBoundaries)throw i;var l="[mobx] uncaught error in '"+this+"'";Ee.suppressReactionErrors||console.error(l,i),Ee.globalReactionErrorHandlers.forEach(function(c){return c(i,s)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(ri(),Qy(this),ii()))},e.getDisposer_=function(i){var s=this,l=function c(){s.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",c)};return i==null||i.addEventListener==null||i.addEventListener("abort",l),l[Fe]=this,l},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},au(n,[{key:"isDisposed",get:function(){return Pr(this.flags_,n.isDisposedMask_)},set:function(i){this.flags_=Mr(this.flags_,n.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return Pr(this.flags_,n.isScheduledMask_)},set:function(i){this.flags_=Mr(this.flags_,n.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return Pr(this.flags_,n.isTrackPendingMask_)},set:function(i){this.flags_=Mr(this.flags_,n.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return Pr(this.flags_,n.isRunningMask_)},set:function(i){this.flags_=Mr(this.flags_,n.isRunningMask_,i)}},{key:"diffValue",get:function(){return Pr(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=Mr(this.flags_,n.diffValueMask_,i===1)}}])}();Qi.isDisposedMask_=1;Qi.isScheduledMask_=2;Qi.isTrackPendingMask_=4;Qi.isRunningMask_=8;Qi.diffValueMask_=16;var Ix=100,Yy=function(e){return e()};function bA(){Ee.inBatch>0||Ee.isRunningReactions||Yy(Dx)}function Dx(){Ee.isRunningReactions=!0;for(var n=Ee.pendingReactions,e=0;n.length>0;){++e===Ix&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),i=0,s=t.length;i<s;i++)t[i].runReaction_()}Ee.isRunningReactions=!1}var fd=Po("Reaction",Qi);function Nx(n){var e=Yy;Yy=function(i){return n(function(){return e(i)})}}function Oc(){return!1}function xx(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var TA="action",Px="action.bound",wA="autoAction",Mx="autoAction.bound",SA="<unnamed action>",Xy=Xc(TA),Vx=Xc(Px,{bound:!0}),Wy=Xc(wA,{autoAction:!0}),Lx=Xc(Mx,{autoAction:!0,bound:!0});function AA(n){var e=function(i,s){if(pi(i))return Ro(i.name||SA,i,n);if(pi(s))return Ro(i,s,n);if(Yc(s))return(n?Wy:Xy).decorate_20223_(i,s);if(wo(s))return Qc(i,s,n?Wy:Xy);if(wo(i))return zi(Xc(n?wA:TA,{name:i,autoAction:n}))};return e}var Sa=AA(!1);Object.assign(Sa,Xy);var Lc=AA(!0);Object.assign(Lc,Wy);Sa.bound=zi(Vx);Lc.bound=zi(Lx);function ba(n){return hA(n.name||SA,!1,n,this,void 0)}function kc(n){return pi(n)&&n.isMobxAction===!0}function kx(n,e){var t,i,s,l;e===void 0&&(e=jv);var c=(t=(i=e)==null?void 0:i.name)!=null?t:"Autorun",h=!e.scheduler&&!e.delay,p;if(h)p=new Qi(c,function(){this.track(b)},e.onError,e.requiresObservable);else{var g=RA(e),v=!1;p=new Qi(c,function(){v||(v=!0,g(function(){v=!1,p.isDisposed||p.track(b)}))},e.onError,e.requiresObservable)}function b(){n(p)}return(s=e)!=null&&(s=s.signal)!=null&&s.aborted||p.schedule_(),p.getDisposer_((l=e)==null?void 0:l.signal)}var Ux=function(e){return e()};function RA(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:Ux}function jx(n,e,t){var i,s,l;t===void 0&&(t=jv);var c=(i=t.name)!=null?i:"Reaction",h=Sa(c,t.onError?Bx(t.onError,e):e),p=!t.scheduler&&!t.delay,g=RA(t),v=!0,b=!1,T,w=t.compareStructural?Hl.structural:t.equals||Hl.default,O=new Qi(c,function(){v||p?z():b||(b=!0,g(z))},t.onError,t.requiresObservable);function z(){if(b=!1,!O.isDisposed){var R=!1,M=T;O.track(function(){var k=wx(!1,function(){return n(O)});R=v||!w(T,k),T=k}),(v&&t.fireImmediately||!v&&R)&&h(T,M,O),v=!1}}return(s=t)!=null&&(s=s.signal)!=null&&s.aborted||O.schedule_(),O.getDisposer_((l=t)==null?void 0:l.signal)}function Bx(n,e){return function(){try{return e.apply(this,arguments)}catch(t){n.call(this,t)}}}var zx="onBO",qx="onBUO";function Fx(n,e,t){return OA(zx,n,e,t)}function CA(n,e,t){return OA(qx,n,e,t)}function OA(n,e,t,i){var s=pd(e),l=pi(i)?i:t,c=n+"L";return s[c]?s[c].add(l):s[c]=new Set([l]),function(){var h=s[c];h&&(h.delete(l),h.size===0&&delete s[c])}}var Hx="never",Ph="always",$x="observed";function Gx(n){n.isolateGlobalState===!0&&Ax();var e=n.useProxies,t=n.enforceActions;if(e!==void 0&&(Ee.useProxies=e===Ph?!0:e===Hx?!1:typeof Proxy<"u"),e==="ifavailable"&&(Ee.verifyProxies=!0),t!==void 0){var i=t===Ph?Ph:t===$x;Ee.enforceActions=i,Ee.allowStateChanges=!(i===!0||i===Ph)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in n&&(Ee[s]=!!n[s])}),Ee.allowStateReads=!Ee.observableRequiresReaction,n.reactionScheduler&&Nx(n.reactionScheduler)}function IA(n,e,t,i){var s=ON(e);return ks(function(){var l=Lo(n,i)[Fe];Fl(s).forEach(function(c){l.extend_(c,s[c],t&&c in t?t[c]:!0)})}),n}function Kx(n,e){return DA(pd(n,e))}function DA(n){var e={name:n.name_};return n.observing_&&n.observing_.length>0&&(e.dependencies=Qx(n.observing_).map(DA)),e}function Qx(n){return Array.from(new Set(n))}var Yx=0;function NA(){this.message="FLOW_CANCELLED"}NA.prototype=Object.create(Error.prototype);var Cg=aA("flow"),Xx=aA("flow.bound",{bound:!0}),$l=Object.assign(function(e,t){if(Yc(t))return Cg.decorate_20223_(e,t);if(wo(t))return Qc(e,t,Cg);var i=e,s=i.name||"<unnamed flow>",l=function(){var h=this,p=arguments,g=++Yx,v=Sa(s+" - runid: "+g+" - init",i).apply(h,p),b,T=void 0,w=new Promise(function(O,z){var R=0;b=z;function M(Z){T=void 0;var N;try{N=Sa(s+" - runid: "+g+" - yield "+R++,v.next).call(v,Z)}catch(re){return z(re)}G(N)}function k(Z){T=void 0;var N;try{N=Sa(s+" - runid: "+g+" - yield "+R++,v.throw).call(v,Z)}catch(re){return z(re)}G(N)}function G(Z){if(pi(Z==null?void 0:Z.then)){Z.then(G,z);return}return Z.done?O(Z.value):(T=Promise.resolve(Z.value),T.then(M,k))}M(void 0)});return w.cancel=Sa(s+" - runid: "+g+" - cancel",function(){try{T&&B1(T);var O=v.return(void 0),z=Promise.resolve(O.value);z.then(Vl,Vl),B1(z),b(new NA)}catch(R){b(R)}}),w};return l.isMobXFlow=!0,l},Cg);$l.bound=zi(Xx);function B1(n){pi(n.cancel)&&n.cancel()}function Uc(n){return(n==null?void 0:n.isMobXFlow)===!0}function Wx(n,e){return n?Xd(n)||!!n[Fe]||Bv(n)||fd(n)||Qd(n):!1}function xA(n){return Wx(n)}function wa(n,e){e===void 0&&(e=void 0),ri();try{return n.apply(e)}finally{ii()}}function Cl(n){return n[Fe]}var Zx={has:function(e,t){return Cl(e).has_(t)},get:function(e,t){return Cl(e).get_(t)},set:function(e,t,i){var s;return wo(t)?(s=Cl(e).set_(t,i,!0))!=null?s:!0:!1},deleteProperty:function(e,t){var i;return wo(t)?(i=Cl(e).delete_(t,!0))!=null?i:!0:!1},defineProperty:function(e,t,i){var s;return(s=Cl(e).defineProperty_(t,i))!=null?s:!0},ownKeys:function(e){return Cl(e).ownKeys_()},preventExtensions:function(e){At(13)}};function Jx(n,e){var t,i;return XS(),n=Lo(n,e),(i=(t=n[Fe]).proxy_)!=null?i:t.proxy_=new Proxy(n,Zx)}function ei(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function Wc(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),WS(function(){var i=t.indexOf(e);i!==-1&&t.splice(i,1)})}function ti(n,e){var t=Mo();try{for(var i=[].concat(n.interceptors_||[]),s=0,l=i.length;s<l&&(e=i[s](e),e&&!e.type&&At(14),!!e);s++);return e}finally{Ia(t)}}function hi(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function Zc(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),WS(function(){var i=t.indexOf(e);i!==-1&&t.splice(i,1)})}function di(n,e){var t=Mo(),i=n.changeListeners_;if(i){i=i.slice();for(var s=0,l=i.length;s<l;s++)i[s](e);Ia(t)}}function PA(n,e,t){return ks(function(){var i,s=Lo(n,t)[Fe];(i=e)!=null||(e=PN(n)),Fl(e).forEach(function(l){return s.make_(l,e[l])})}),n}var Og=Symbol("mobx-keys");function Fv(n,e,t){return xa(n)?IA(n,n,e,t):(ks(function(){var i=Lo(n,t)[Fe];if(!n[Og]){var s=Object.getPrototypeOf(n),l=new Set([].concat(Fl(n),Fl(s)));l.delete("constructor"),l.delete(Fe),Kc(s,Og,l)}n[Og].forEach(function(c){return i.make_(c,e&&c in e?e[c]:!0)})}),n)}var z1="splice",qi="update",eP=1e4,tP={get:function(e,t){var i=e[Fe];return t===Fe?i:t==="length"?i.getArrayLength_():typeof t=="string"&&!isNaN(t)?i.get_(parseInt(t)):Oa(hd,t)?hd[t]:e[t]},set:function(e,t,i){var s=e[Fe];return t==="length"&&s.setArrayLength_(i),typeof t=="symbol"||isNaN(t)?e[t]=i:s.set_(parseInt(t),i),!0},preventExtensions:function(){At(15)}},Hv=function(){function n(t,i,s,l){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=l,this.atom_=new Ls(t),this.enhancer_=function(c,h){return i(c,h,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return Wc(this,i)},e.observe_=function(i,s){return s===void 0&&(s=!1),s&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Zc(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&At("Out of range: "+i);var s=this.values_.length;if(i!==s)if(i>s){for(var l=new Array(i-s),c=0;c<i-s;c++)l[c]=void 0;this.spliceWithArray_(s,0,l)}else this.spliceWithArray_(i,s-i)},e.updateArrayLength_=function(i,s){i!==this.lastKnownLength_&&At(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&BA(i+s+1)},e.spliceWithArray_=function(i,s,l){var c=this;this.atom_;var h=this.values_.length;if(i===void 0?i=0:i>h?i=h:i<0&&(i=Math.max(0,h+i)),arguments.length===1?s=h-i:s==null?s=0:s=Math.max(0,Math.min(s,h-i)),l===void 0&&(l=Fy),ei(this)){var p=ti(this,{object:this.proxy_,type:z1,index:i,removedCount:s,added:l});if(!p)return Fy;s=p.removedCount,l=p.added}if(l=l.length===0?l:l.map(function(b){return c.enhancer_(b,void 0)}),this.legacyMode_){var g=l.length-s;this.updateArrayLength_(h,g)}var v=this.spliceItemsIntoValues_(i,s,l);return(s!==0||l.length!==0)&&this.notifyArraySplice_(i,l,v),this.dehanceValues_(v)},e.spliceItemsIntoValues_=function(i,s,l){if(l.length<eP){var c;return(c=this.values_).splice.apply(c,[i,s].concat(l))}else{var h=this.values_.slice(i,i+s),p=this.values_.slice(i+s);this.values_.length+=l.length-s;for(var g=0;g<l.length;g++)this.values_[i+g]=l[g];for(var v=0;v<p.length;v++)this.values_[i+l.length+v]=p[v];return h}},e.notifyArrayChildUpdate_=function(i,s,l){var c=!this.owned_&&Oc(),h=hi(this),p=h||c?{observableKind:"array",object:this.proxy_,type:qi,debugObjectName:this.atom_.name_,index:i,newValue:s,oldValue:l}:null;this.atom_.reportChanged(),h&&di(this,p)},e.notifyArraySplice_=function(i,s,l){var c=!this.owned_&&Oc(),h=hi(this),p=h||c?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:z1,index:i,removed:l,added:s,removedCount:l.length,addedCount:s.length}:null;this.atom_.reportChanged(),h&&di(this,p)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,s){var l=this.values_;if(this.legacyMode_&&i>l.length&&At(17,i,l.length),i<l.length){this.atom_;var c=l[i];if(ei(this)){var h=ti(this,{type:qi,object:this.proxy_,index:i,newValue:s});if(!h)return;s=h.newValue}s=this.enhancer_(s,c);var p=s!==c;p&&(l[i]=s,this.notifyArrayChildUpdate_(i,s,c))}else{for(var g=new Array(i+1-l.length),v=0;v<g.length-1;v++)g[v]=void 0;g[g.length-1]=s,this.spliceWithArray_(l.length,0,g)}},n}();function nP(n,e,t,i){return t===void 0&&(t="ObservableArray"),i===void 0&&(i=!1),XS(),ks(function(){var s=new Hv(t,e,i,!1);JS(s.values_,Fe,s);var l=new Proxy(s.values_,tP);return s.proxy_=l,n&&n.length&&s.spliceWithArray_(0,0,n),l})}var hd={clear:function(){return this.splice(0)},replace:function(e){var t=this[Fe];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var i=arguments.length,s=new Array(i>2?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];var c=this[Fe];switch(arguments.length){case 0:return[];case 1:return c.spliceWithArray_(e);case 2:return c.spliceWithArray_(e,t)}return c.spliceWithArray_(e,t,s)},spliceWithArray:function(e,t,i){return this[Fe].spliceWithArray_(e,t,i)},push:function(){for(var e=this[Fe],t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[Fe].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Fe],t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return Ee.trackingDerivation&&At(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ee.trackingDerivation&&At(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[Fe],i=t.dehanceValues_(t.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};Gt("at",kr);Gt("concat",kr);Gt("flat",kr);Gt("includes",kr);Gt("indexOf",kr);Gt("join",kr);Gt("lastIndexOf",kr);Gt("slice",kr);Gt("toString",kr);Gt("toLocaleString",kr);Gt("toSorted",kr);Gt("toSpliced",kr);Gt("with",kr);Gt("every",_i);Gt("filter",_i);Gt("find",_i);Gt("findIndex",_i);Gt("findLast",_i);Gt("findLastIndex",_i);Gt("flatMap",_i);Gt("forEach",_i);Gt("map",_i);Gt("some",_i);Gt("toReversed",_i);Gt("reduce",MA);Gt("reduceRight",MA);function Gt(n,e){typeof Array.prototype[n]=="function"&&(hd[n]=e(n))}function kr(n){return function(){var e=this[Fe];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function _i(n){return function(e,t){var i=this,s=this[Fe];s.atom_.reportObserved();var l=s.dehanceValues_(s.values_);return l[n](function(c,h){return e.call(t,c,h,i)})}}function MA(n){return function(){var e=this,t=this[Fe];t.atom_.reportObserved();var i=t.dehanceValues_(t.values_),s=arguments[0];return arguments[0]=function(l,c,h){return s(l,c,h,e)},i[n].apply(i,arguments)}}var rP=Po("ObservableArrayAdministration",Hv);function Yd(n){return qd(n)&&rP(n[Fe])}var iP={},_s="add",dd="delete",VA=function(){function n(t,i,s){var l=this;i===void 0&&(i=Ao),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Fe]=iP,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=s,pi(Map)||At(18),ks(function(){l.keysAtom_=rA("ObservableMap.keys()"),l.data_=new Map,l.hasMap_=new Map,t&&l.merge(t)})}var e=n.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var s=this;if(!Ee.trackingDerivation)return this.has_(i);var l=this.hasMap_.get(i);if(!l){var c=l=new bo(this.has_(i),Fd,"ObservableMap.key?",!1);this.hasMap_.set(i,c),CA(c,function(){return s.hasMap_.delete(i)})}return l.get()},e.set=function(i,s){var l=this.has_(i);if(ei(this)){var c=ti(this,{type:l?qi:_s,object:this,newValue:s,name:i});if(!c)return this;s=c.newValue}return l?this.updateValue_(i,s):this.addValue_(i,s),this},e.delete=function(i){var s=this;if(this.keysAtom_,ei(this)){var l=ti(this,{type:dd,object:this,name:i});if(!l)return!1}if(this.has_(i)){var c=Oc(),h=hi(this),p=h||c?{observableKind:"map",debugObjectName:this.name_,type:dd,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return wa(function(){var g;s.keysAtom_.reportChanged(),(g=s.hasMap_.get(i))==null||g.setNewValue_(!1);var v=s.data_.get(i);v.setNewValue_(void 0),s.data_.delete(i)}),h&&di(this,p),!0}return!1},e.updateValue_=function(i,s){var l=this.data_.get(i);if(s=l.prepareNewValue_(s),s!==Ee.UNCHANGED){var c=Oc(),h=hi(this),p=h||c?{observableKind:"map",debugObjectName:this.name_,type:qi,object:this,oldValue:l.value_,name:i,newValue:s}:null;l.setNewValue_(s),h&&di(this,p)}},e.addValue_=function(i,s){var l=this;this.keysAtom_,wa(function(){var g,v=new bo(s,l.enhancer_,"ObservableMap.key",!1);l.data_.set(i,v),s=v.value_,(g=l.hasMap_.get(i))==null||g.setNewValue_(!0),l.keysAtom_.reportChanged()});var c=Oc(),h=hi(this),p=h||c?{observableKind:"map",debugObjectName:this.name_,type:_s,object:this,name:i,newValue:s}:null;h&&di(this,p)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,s=this.keys();return q1({next:function(){var c=s.next(),h=c.done,p=c.value;return{done:h,value:h?void 0:i.get(p)}}})},e.entries=function(){var i=this,s=this.keys();return q1({next:function(){var c=s.next(),h=c.done,p=c.value;return{done:h,value:h?void 0:[p,i.get(p)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,s){for(var l=Ll(this),c;!(c=l()).done;){var h=c.value,p=h[0],g=h[1];i.call(s,g,p,this)}},e.merge=function(i){var s=this;return Vo(i)&&(i=new Map(i)),wa(function(){xa(i)?CN(i).forEach(function(l){return s.set(l,i[l])}):Array.isArray(i)?i.forEach(function(l){var c=l[0],h=l[1];return s.set(c,h)}):iu(i)?(RN(i)||At(19,i),i.forEach(function(l,c){return s.set(c,l)})):i!=null&&At(20,i)}),this},e.clear=function(){var i=this;wa(function(){pA(function(){for(var s=Ll(i.keys()),l;!(l=s()).done;){var c=l.value;i.delete(c)}})})},e.replace=function(i){var s=this;return wa(function(){for(var l=aP(i),c=new Map,h=!1,p=Ll(s.data_.keys()),g;!(g=p()).done;){var v=g.value;if(!l.has(v)){var b=s.delete(v);if(b)h=!0;else{var T=s.data_.get(v);c.set(v,T)}}}for(var w=Ll(l.entries()),O;!(O=w()).done;){var z=O.value,R=z[0],M=z[1],k=s.data_.has(R);if(s.set(R,M),s.data_.has(R)){var G=s.data_.get(R);c.set(R,G),k||(h=!0)}}if(!h)if(s.data_.size!==c.size)s.keysAtom_.reportChanged();else for(var Z=s.data_.keys(),N=c.keys(),re=Z.next(),D=N.next();!re.done;){if(re.value!==D.value){s.keysAtom_.reportChanged();break}re=Z.next(),D=N.next()}s.data_=c}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,s){return Zc(this,i)},e.intercept_=function(i){return Wc(this,i)},au(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Vo=Po("ObservableMap",VA);function q1(n){return n[Symbol.toStringTag]="MapIterator",Gv(n)}function aP(n){if(iu(n)||Vo(n))return n;if(Array.isArray(n))return new Map(n);if(xa(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return At(21,n)}var sP={},LA=function(){function n(t,i,s){var l=this;i===void 0&&(i=Ao),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[Fe]=sP,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,pi(Set)||At(22),this.enhancer_=function(c,h){return i(c,h,s)},ks(function(){l.atom_=rA(l.name_),t&&l.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;wa(function(){pA(function(){for(var s=Ll(i.data_.values()),l;!(l=s()).done;){var c=l.value;i.delete(c)}})})},e.forEach=function(i,s){for(var l=Ll(this),c;!(c=l()).done;){var h=c.value;i.call(s,h,h,this)}},e.add=function(i){var s=this;if(this.atom_,ei(this)){var l=ti(this,{type:_s,object:this,newValue:i});if(!l)return this;i=l.newValue}if(!this.has(i)){wa(function(){s.data_.add(s.enhancer_(i,void 0)),s.atom_.reportChanged()});var c=!1,h=hi(this),p=h||c?{observableKind:"set",debugObjectName:this.name_,type:_s,object:this,newValue:i}:null;h&&di(this,p)}return this},e.delete=function(i){var s=this;if(ei(this)){var l=ti(this,{type:dd,object:this,oldValue:i});if(!l)return!1}if(this.has(i)){var c=!1,h=hi(this),p=h||c?{observableKind:"set",debugObjectName:this.name_,type:dd,object:this,oldValue:i}:null;return wa(function(){s.atom_.reportChanged(),s.data_.delete(i)}),h&&di(this,p),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=this.values();return F1({next:function(){var l=i.next(),c=l.value,h=l.done;return h?{value:void 0,done:h}:{value:[c,c],done:h}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,s=this.data_.values();return F1({next:function(){var c=s.next(),h=c.value,p=c.done;return p?{value:void 0,done:p}:{value:i.dehanceValue_(h),done:p}}})},e.intersection=function(i){if(Ta(i)&&!Li(i))return i.intersection(this);var s=new Set(this);return s.intersection(i)},e.union=function(i){if(Ta(i)&&!Li(i))return i.union(this);var s=new Set(this);return s.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(Ta(i)&&!Li(i))return i.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(Ta(i)&&!Li(i))return i.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(i)},e.replace=function(i){var s=this;return Li(i)&&(i=new Set(i)),wa(function(){Array.isArray(i)?(s.clear(),i.forEach(function(l){return s.add(l)})):Ta(i)?(s.clear(),i.forEach(function(l){return s.add(l)})):i!=null&&At("Cannot initialize set from "+i)}),this},e.observe_=function(i,s){return Zc(this,i)},e.intercept_=function(i){return Wc(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},au(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Li=Po("ObservableSet",LA);function F1(n){return n[Symbol.toStringTag]="SetIterator",Gv(n)}var H1=Object.create(null),$1="remove",kA=function(){function n(t,i,s,l){i===void 0&&(i=new Map),l===void 0&&(l=rx),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=i,this.name_=s,this.defaultAnnotation_=l,this.keysAtom_=new Ls("ObservableObject.keys"),this.isPlainObject_=xa(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,s){var l=this.values_.get(i);if(l instanceof mi)return l.set(s),!0;if(ei(this)){var c=ti(this,{type:qi,object:this.proxy_||this.target_,name:i,newValue:s});if(!c)return null;s=c.newValue}if(s=l.prepareNewValue_(s),s!==Ee.UNCHANGED){var h=hi(this),p=!1,g=h||p?{type:qi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:l.value_,name:i,newValue:s}:null;l.setNewValue_(s),h&&di(this,g)}return!0},e.get_=function(i){return Ee.trackingDerivation&&!Oa(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,s,l){return l===void 0&&(l=!1),Oa(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,s):l?Reflect.set(this.target_,i,s):(this.target_[i]=s,!0):this.extend_(i,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,l)},e.has_=function(i){if(!Ee.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(i);return s||(s=new bo(i in this.target_,Fd,"ObservableObject.key?",!1),this.pendingKeys_.set(i,s)),s.get()},e.make_=function(i,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(i in this.target_)){var l;if((l=this.target_[ki])!=null&&l[i])return;At(1,s.annotationType_,this.name_+"."+i.toString())}for(var c=this.target_;c&&c!==zd;){var h=od(c,i);if(h){var p=s.make_(this,i,h,c);if(p===0)return;if(p===1)break}c=Object.getPrototypeOf(c)}K1(this,s,i)}},e.extend_=function(i,s,l,c){if(c===void 0&&(c=!1),l===!0&&(l=this.defaultAnnotation_),l===!1)return this.defineProperty_(i,s,c);var h=l.extend_(this,i,s,c);return h&&K1(this,l,i),h},e.defineProperty_=function(i,s,l){l===void 0&&(l=!1),this.keysAtom_;try{ri();var c=this.delete_(i);if(!c)return c;if(ei(this)){var h=ti(this,{object:this.proxy_||this.target_,name:i,type:_s,newValue:s.value});if(!h)return null;var p=h.newValue;s.value!==p&&(s=So({},s,{value:p}))}if(l){if(!Reflect.defineProperty(this.target_,i,s))return!1}else Bi(this.target_,i,s);this.notifyPropertyAddition_(i,s.value)}finally{ii()}return!0},e.defineObservableProperty_=function(i,s,l,c){c===void 0&&(c=!1),this.keysAtom_;try{ri();var h=this.delete_(i);if(!h)return h;if(ei(this)){var p=ti(this,{object:this.proxy_||this.target_,name:i,type:_s,newValue:s});if(!p)return null;s=p.newValue}var g=G1(i),v={configurable:Ee.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:g.get,set:g.set};if(c){if(!Reflect.defineProperty(this.target_,i,v))return!1}else Bi(this.target_,i,v);var b=new bo(s,l,"ObservableObject.key",!1);this.values_.set(i,b),this.notifyPropertyAddition_(i,b.value_)}finally{ii()}return!0},e.defineComputedProperty_=function(i,s,l){l===void 0&&(l=!1),this.keysAtom_;try{ri();var c=this.delete_(i);if(!c)return c;if(ei(this)){var h=ti(this,{object:this.proxy_||this.target_,name:i,type:_s,newValue:void 0});if(!h)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var p=G1(i),g={configurable:Ee.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:p.get,set:p.set};if(l){if(!Reflect.defineProperty(this.target_,i,g))return!1}else Bi(this.target_,i,g);this.values_.set(i,new mi(s)),this.notifyPropertyAddition_(i,void 0)}finally{ii()}return!0},e.delete_=function(i,s){if(s===void 0&&(s=!1),this.keysAtom_,!Oa(this.target_,i))return!0;if(ei(this)){var l=ti(this,{object:this.proxy_||this.target_,name:i,type:$1});if(!l)return null}try{var c;ri();var h=hi(this),p=!1,g=this.values_.get(i),v=void 0;if(!g&&(h||p)){var b;v=(b=od(this.target_,i))==null?void 0:b.value}if(s){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(g&&(this.values_.delete(i),g instanceof bo&&(v=g.value_),EA(g)),this.keysAtom_.reportChanged(),(c=this.pendingKeys_)==null||(c=c.get(i))==null||c.set(i in this.target_),h||p){var T={type:$1,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:v,name:i};h&&di(this,T)}}finally{ii()}return!0},e.observe_=function(i,s){return Zc(this,i)},e.intercept_=function(i){return Wc(this,i)},e.notifyPropertyAddition_=function(i,s){var l,c=hi(this),h=!1;if(c||h){var p=c||h?{type:_s,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:s}:null;c&&di(this,p)}(l=this.pendingKeys_)==null||(l=l.get(i))==null||l.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Fl(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function Lo(n,e){var t;if(Oa(n,Fe))return n;var i=(t=e==null?void 0:e.name)!=null?t:"ObservableObject",s=new kA(n,new Map,String(i),px(e));return Kc(n,Fe,s),n}var oP=Po("ObservableObjectAdministration",kA);function G1(n){return H1[n]||(H1[n]={get:function(){return this[Fe].getObservablePropValue_(n)},set:function(t){return this[Fe].setObservablePropValue_(n,t)}})}function Xd(n){return qd(n)?oP(n[Fe]):!1}function K1(n,e,t){var i;(i=n.target_[ki])==null||delete i[t]}var lP=jA(0),uP=function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,n===!1}(),Ig=0,UA=function(){};function cP(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}cP(UA,Array.prototype);var $v=function(n){function e(i,s,l,c){var h;return l===void 0&&(l="ObservableArray"),c===void 0&&(c=!1),h=n.call(this)||this,ks(function(){var p=new Hv(l,s,c,!0);p.proxy_=h,JS(h,Fe,p),i&&i.length&&h.spliceWithArray(0,0,i),uP&&Object.defineProperty(h,"0",lP)}),h}nA(e,n);var t=e.prototype;return t.concat=function(){this[Fe].atom_.reportObserved();for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return Array.prototype.concat.apply(this.slice(),l.map(function(h){return Yd(h)?h.slice():h}))},t[Symbol.iterator]=function(){var i=this,s=0;return Gv({next:function(){return s<i.length?{value:i[s++],done:!1}:{done:!0,value:void 0}}})},au(e,[{key:"length",get:function(){return this[Fe].getArrayLength_()},set:function(s){this[Fe].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(UA);Object.entries(hd).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&Kc($v.prototype,e,t)});function jA(n){return{enumerable:!1,configurable:!0,get:function(){return this[Fe].get_(n)},set:function(t){this[Fe].set_(n,t)}}}function fP(n){Bi($v.prototype,""+n,jA(n))}function BA(n){if(n>Ig){for(var e=Ig;e<n+100;e++)fP(e);Ig=n}}BA(1e3);function hP(n,e,t){return new $v(n,e,t)}function pd(n,e){if(typeof n=="object"&&n!==null){if(Yd(n))return e!==void 0&&At(23),n[Fe].atom_;if(Li(n))return n.atom_;if(Vo(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||At(25,e,Zy(n)),t}if(Xd(n)){if(!e)return At(26);var i=n[Fe].values_.get(e);return i||At(27,e,Zy(n)),i}if(Bv(n)||Qd(n)||fd(n))return n}else if(pi(n)&&fd(n[Fe]))return n[Fe];At(28)}function dP(n,e){if(n||At(29),Bv(n)||Qd(n)||fd(n)||Vo(n)||Li(n))return n;if(n[Fe])return n[Fe];At(24,n)}function Zy(n,e){var t;if(e!==void 0)t=pd(n,e);else{if(kc(n))return n.name;Xd(n)||Vo(n)||Li(n)?t=dP(n):t=pd(n)}return t.name_}function ks(n){var e=Mo(),t=Gd(!0);ri();try{return n()}finally{ii(),Kd(t),Ia(e)}}var Q1=zd.toString;function zA(n,e,t){return t===void 0&&(t=-1),Jy(n,e,t)}function Jy(n,e,t,i,s){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var l=typeof n;if(l!=="function"&&l!=="object"&&typeof e!="object")return!1;var c=Q1.call(n);if(c!==Q1.call(e))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=Y1(n),e=Y1(e);var h=c==="[object Array]";if(!h){if(typeof n!="object"||typeof e!="object")return!1;var p=n.constructor,g=e.constructor;if(p!==g&&!(pi(p)&&p instanceof p&&pi(g)&&g instanceof g)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),i=i||[],s=s||[];for(var v=i.length;v--;)if(i[v]===n)return s[v]===e;if(i.push(n),s.push(e),h){if(v=n.length,v!==e.length)return!1;for(;v--;)if(!Jy(n[v],e[v],t-1,i,s))return!1}else{var b=Object.keys(n),T=b.length;if(Object.keys(e).length!==T)return!1;for(var w=0;w<T;w++){var O=b[w];if(!(Oa(e,O)&&Jy(n[O],e[O],t-1,i,s)))return!1}}return i.pop(),s.pop(),!0}function Y1(n){return Yd(n)?n.slice():iu(n)||Vo(n)||Ta(n)||Li(n)?Array.from(n.entries()):n}var X1,pP=((X1=Bd().Iterator)==null?void 0:X1.prototype)||{};function Gv(n){return n[Symbol.iterator]=mP,Object.assign(Object.create(pP),n)}function mP(){return this}["Symbol","Map","Set"].forEach(function(n){var e=Bd();typeof e[n]>"u"&&At("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:xx,extras:{getDebugName:Zy},$mobx:Fe});if(!K.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!PA)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var gP=OS();function yP(n){n()}function vP(n){n||(n=yP),Gx({reactionScheduler:n})}function _P(n){return Kx(n)}var EP=1e4,bP=1e4,TP=function(){function n(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=EP),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var s=Date.now();t.registrations.forEach(function(l,c){s-l.registeredAt>=i&&(t.finalize(l.value),t.registrations.delete(c))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.registrations.set(i,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,bP))}}),n}(),wP=typeof FinalizationRegistry<"u"?FinalizationRegistry:TP,ev=new wP(function(n){var e;(e=n.reaction)===null||e===void 0||e.dispose(),n.reaction=null}),Dg={exports:{}},Ng={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function SP(){if(W1)return Ng;W1=1;var n=Vd();function e(b,T){return b===T&&(b!==0||1/b===1/T)||b!==b&&T!==T}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,s=n.useEffect,l=n.useLayoutEffect,c=n.useDebugValue;function h(b,T){var w=T(),O=i({inst:{value:w,getSnapshot:T}}),z=O[0].inst,R=O[1];return l(function(){z.value=w,z.getSnapshot=T,p(z)&&R({inst:z})},[b,w,T]),s(function(){return p(z)&&R({inst:z}),b(function(){p(z)&&R({inst:z})})},[b]),c(w),w}function p(b){var T=b.getSnapshot;b=b.value;try{var w=T();return!t(b,w)}catch{return!0}}function g(b,T){return T()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return Ng.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:v,Ng}var Z1;function AP(){return Z1||(Z1=1,Dg.exports=SP()),Dg.exports}var RP=AP();function J1(n){n.reaction=new Qi("observer".concat(n.name),function(){var e;n.stateVersion=Symbol(),(e=n.onStoreChange)===null||e===void 0||e.call(n)})}function CP(n,e){e===void 0&&(e="observed");var t=Ui.useRef(null);if(!t.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(h){return ev.unregister(i),i.onStoreChange=h,i.reaction||(J1(i),i.stateVersion=Symbol()),function(){var p;i.onStoreChange=null,(p=i.reaction)===null||p===void 0||p.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};t.current=i}var s=t.current;s.reaction||(J1(s),ev.register(t,s,s)),Ui.useDebugValue(s.reaction,_P),RP.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getSnapshot);var l,c;if(s.reaction.track(function(){try{l=n()}catch(h){c=h}}),c)throw c;return l}var xg,Pg,qA=typeof Symbol=="function"&&Symbol.for,OP=(Pg=(xg=Object.getOwnPropertyDescriptor(function(){},"name"))===null||xg===void 0?void 0:xg.configurable)!==null&&Pg!==void 0?Pg:!1,eT=qA?Symbol.for("react.forward_ref"):typeof K.forwardRef=="function"&&K.forwardRef(function(n){return null}).$$typeof,tT=qA?Symbol.for("react.memo"):typeof K.memo=="function"&&K.memo(function(n){return null}).$$typeof;function Jc(n,e){var t;if(tT&&n.$$typeof===tT)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(t=void 0)!==null&&t!==void 0?t:!1,s=n,l=n.displayName||n.name;if(eT&&n.$$typeof===eT&&(i=!0,s=n.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var c=function(h,p){return CP(function(){return s(h,p)},l)};return c.displayName=n.displayName,OP&&Object.defineProperty(c,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(c.contextTypes=n.contextTypes),i&&(c=K.forwardRef(c)),c=K.memo(c),DP(n,c),c}var IP={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function DP(n,e){Object.keys(n).forEach(function(t){IP[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}var Mg;vP(gP.unstable_batchedUpdates);Mg=ev.finalizeAllImmediately;function tv(){return tv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tv.apply(null,arguments)}function NP(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var xP=["children"],nT=Ui.createContext({});function FA(n){var e=n.children,t=NP(n,xP),i=Ui.useContext(nT),s=Ui.useRef(tv({},i,t)),l=s.current;return Ui.createElement(nT.Provider,{value:l},e)}FA.displayName="MobXProvider";Ui.version.split(".")[0];if(!K.Component)throw new Error("mobx-react requires React to be available");if(!Cn)throw new Error("mobx-react requires mobx to be available");const PP=()=>{};var rT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},MP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],h=n[t++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},$A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,h=c?n[s+1]:0,p=s+2<n.length,g=p?n[s+2]:0,v=l>>2,b=(l&3)<<4|h>>4;let T=(h&15)<<2|g>>6,w=g&63;p||(w=64,c||(T=64)),i.push(t[v],t[b],t[T],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(HA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const b=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||h==null||g==null||b==null)throw new VP;const T=l<<2|h>>4;if(i.push(T),g!==64){const w=h<<4&240|g>>2;if(i.push(w),b!==64){const O=g<<6&192|b;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class VP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LP=function(n){const e=HA(n);return $A.encodeByteArray(e,!0)},md=function(n){return LP(n).replace(/\./g,"")},GA=function(n){try{return $A.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=()=>kP().__FIREBASE_DEFAULTS__,jP=()=>{if(typeof process>"u"||typeof rT>"u")return;const n=rT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&GA(n[1]);return e&&JSON.parse(e)},Wd=()=>{try{return PP()||UP()||jP()||BP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},KA=n=>{var e,t;return(t=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},zP=n=>{const e=KA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},QA=()=>{var n;return(n=Wd())===null||n===void 0?void 0:n.config},YA=n=>{var e;return(e=Wd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[md(JSON.stringify(t)),md(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function $P(){var n;const e=(n=Wd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YP(){const n=or();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function XP(){return!$P()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WP(){try{return typeof indexedDB=="object"}catch{return!1}}function ZP(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="FirebaseError";class Ba extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=JP,Object.setPrototypeOf(this,Ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ef.prototype.create)}}class ef{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?e4(l,i):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new Ba(s,h,i)}}function e4(n,e){return n.replace(t4,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const t4=/\{\$([^}]+)}/g;function n4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(iT(l)&&iT(c)){if(!Pa(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function iT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function bc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Tc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function r4(n,e){const t=new i4(n,e);return t.subscribe.bind(t)}class i4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");a4(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Vg),s.error===void 0&&(s.error=Vg),s.complete===void 0&&(s.complete=Vg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Vg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(n){return n&&n._delegate?n._delegate:n}class Co{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new qP;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l4(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:o4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o4(n){return n===yo?void 0:n}function l4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ut||(ut={}));const c4={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},f4=ut.INFO,h4={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},d4=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=h4[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kv{constructor(e){this.name=e,this._logLevel=f4,this._logHandler=d4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const p4=(n,e)=>e.some(t=>n instanceof t);let aT,sT;function m4(){return aT||(aT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g4(){return sT||(sT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XA=new WeakMap,nv=new WeakMap,WA=new WeakMap,Lg=new WeakMap,Qv=new WeakMap;function y4(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(bs(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&XA.set(t,n)}).catch(()=>{}),Qv.set(e,n),e}function v4(n){if(nv.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});nv.set(n,e)}let rv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return nv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||WA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _4(n){rv=n(rv)}function E4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(kg(this),e,...t);return WA.set(i,e.sort?e.sort():[e]),bs(i)}:g4().includes(n)?function(...e){return n.apply(kg(this),e),bs(XA.get(this))}:function(...e){return bs(n.apply(kg(this),e))}}function b4(n){return typeof n=="function"?E4(n):(n instanceof IDBTransaction&&v4(n),p4(n,m4())?new Proxy(n,rv):n)}function bs(n){if(n instanceof IDBRequest)return y4(n);if(Lg.has(n))return Lg.get(n);const e=b4(n);return e!==n&&(Lg.set(n,e),Qv.set(e,n)),e}const kg=n=>Qv.get(n);function T4(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),h=bs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(bs(c.result),p.oldVersion,p.newVersion,bs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const w4=["get","getKey","getAll","getAllKeys","count"],S4=["put","add","delete","clear"],Ug=new Map;function oT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ug.get(e))return Ug.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=S4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||w4.includes(t)))return;const l=async function(c,...h){const p=this.transaction(c,s?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),s&&p.done]))[0]};return Ug.set(e,l),l}_4(n=>({...n,get:(e,t,i)=>oT(e,t)||n.get(e,t,i),has:(e,t)=>!!oT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(R4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function R4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iv="@firebase/app",lT="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Kv("@firebase/app"),C4="@firebase/app-compat",O4="@firebase/analytics-compat",I4="@firebase/analytics",D4="@firebase/app-check-compat",N4="@firebase/app-check",x4="@firebase/auth",P4="@firebase/auth-compat",M4="@firebase/database",V4="@firebase/data-connect",L4="@firebase/database-compat",k4="@firebase/functions",U4="@firebase/functions-compat",j4="@firebase/installations",B4="@firebase/installations-compat",z4="@firebase/messaging",q4="@firebase/messaging-compat",F4="@firebase/performance",H4="@firebase/performance-compat",$4="@firebase/remote-config",G4="@firebase/remote-config-compat",K4="@firebase/storage",Q4="@firebase/storage-compat",Y4="@firebase/firestore",X4="@firebase/vertexai",W4="@firebase/firestore-compat",Z4="firebase",J4="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="[DEFAULT]",eM={[iv]:"fire-core",[C4]:"fire-core-compat",[I4]:"fire-analytics",[O4]:"fire-analytics-compat",[N4]:"fire-app-check",[D4]:"fire-app-check-compat",[x4]:"fire-auth",[P4]:"fire-auth-compat",[M4]:"fire-rtdb",[V4]:"fire-data-connect",[L4]:"fire-rtdb-compat",[k4]:"fire-fn",[U4]:"fire-fn-compat",[j4]:"fire-iid",[B4]:"fire-iid-compat",[z4]:"fire-fcm",[q4]:"fire-fcm-compat",[F4]:"fire-perf",[H4]:"fire-perf-compat",[$4]:"fire-rc",[G4]:"fire-rc-compat",[K4]:"fire-gcs",[Q4]:"fire-gcs-compat",[Y4]:"fire-fst",[W4]:"fire-fst-compat",[X4]:"fire-vertex","fire-js":"fire-js",[Z4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map,tM=new Map,sv=new Map;function uT(n,e){try{n.container.addComponent(e)}catch(t){Ma.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Gl(n){const e=n.name;if(sv.has(e))return Ma.debug(`There were multiple attempts to register component ${e}.`),!1;sv.set(e,n);for(const t of gd.values())uT(t,n);for(const t of tM.values())uT(t,n);return!0}function Yv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ni(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new ef("app","Firebase",nM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=J4;function ZA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:av,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Ts.create("bad-app-name",{appName:String(s)});if(t||(t=QA()),!t)throw Ts.create("no-options");const l=gd.get(s);if(l){if(Pa(t,l.options)&&Pa(i,l.config))return l;throw Ts.create("duplicate-app",{appName:s})}const c=new u4(s);for(const p of sv.values())c.addComponent(p);const h=new rM(t,i,c);return gd.set(s,h),h}function JA(n=av){const e=gd.get(n);if(!e&&n===av&&QA())return ZA();if(!e)throw Ts.create("no-app",{appName:n});return e}function ws(n,e,t){var i;let s=(i=eM[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${s}" with version "${e}":`];l&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ma.warn(h.join(" "));return}Gl(new Co(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="firebase-heartbeat-database",aM=1,jc="firebase-heartbeat-store";let jg=null;function eR(){return jg||(jg=T4(iM,aM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ts.create("idb-open",{originalErrorMessage:n.message})})),jg}async function sM(n){try{const t=(await eR()).transaction(jc),i=await t.objectStore(jc).get(tR(n));return await t.done,i}catch(e){if(e instanceof Ba)Ma.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ma.warn(t.message)}}}async function cT(n,e){try{const i=(await eR()).transaction(jc,"readwrite");await i.objectStore(jc).put(e,tR(n)),await i.done}catch(t){if(t instanceof Ba)Ma.warn(t.message);else{const i=Ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ma.warn(i.message)}}}function tR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=1024,lM=30;class uM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fM(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=fT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>lM){const c=hM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ma.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fT(),{heartbeatsToSend:i,unsentEntries:s}=cM(this._heartbeatsCache.heartbeats),l=md(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ma.warn(t),""}}}function fT(){return new Date().toISOString().substring(0,10)}function cM(n,e=oM){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),hT(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),hT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class fM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WP()?ZP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return cT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return cT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hT(n){return md(JSON.stringify({version:2,heartbeats:n})).length}function hM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(n){Gl(new Co("platform-logger",e=>new A4(e),"PRIVATE")),Gl(new Co("heartbeat",e=>new uM(e),"PRIVATE")),ws(iv,lT,n),ws(iv,lT,"esm2017"),ws("fire-js","")}dM("");var pM="firebase",mM="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(pM,mM,"app");var dT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,nR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function I(){}I.prototype=A.prototype,D.D=A.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(x,j,U){for(var V=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)V[Xe-2]=arguments[Xe];return A.prototype[j].apply(x,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,A,I){I||(I=0);var x=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)x[j]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(j=0;16>j;++j)x[j]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=D.g[0],I=D.g[1],j=D.g[2];var U=D.g[3],V=A+(U^I&(j^U))+x[0]+3614090360&4294967295;A=I+(V<<7&4294967295|V>>>25),V=U+(j^A&(I^j))+x[1]+3905402710&4294967295,U=A+(V<<12&4294967295|V>>>20),V=j+(I^U&(A^I))+x[2]+606105819&4294967295,j=U+(V<<17&4294967295|V>>>15),V=I+(A^j&(U^A))+x[3]+3250441966&4294967295,I=j+(V<<22&4294967295|V>>>10),V=A+(U^I&(j^U))+x[4]+4118548399&4294967295,A=I+(V<<7&4294967295|V>>>25),V=U+(j^A&(I^j))+x[5]+1200080426&4294967295,U=A+(V<<12&4294967295|V>>>20),V=j+(I^U&(A^I))+x[6]+2821735955&4294967295,j=U+(V<<17&4294967295|V>>>15),V=I+(A^j&(U^A))+x[7]+4249261313&4294967295,I=j+(V<<22&4294967295|V>>>10),V=A+(U^I&(j^U))+x[8]+1770035416&4294967295,A=I+(V<<7&4294967295|V>>>25),V=U+(j^A&(I^j))+x[9]+2336552879&4294967295,U=A+(V<<12&4294967295|V>>>20),V=j+(I^U&(A^I))+x[10]+4294925233&4294967295,j=U+(V<<17&4294967295|V>>>15),V=I+(A^j&(U^A))+x[11]+2304563134&4294967295,I=j+(V<<22&4294967295|V>>>10),V=A+(U^I&(j^U))+x[12]+1804603682&4294967295,A=I+(V<<7&4294967295|V>>>25),V=U+(j^A&(I^j))+x[13]+4254626195&4294967295,U=A+(V<<12&4294967295|V>>>20),V=j+(I^U&(A^I))+x[14]+2792965006&4294967295,j=U+(V<<17&4294967295|V>>>15),V=I+(A^j&(U^A))+x[15]+1236535329&4294967295,I=j+(V<<22&4294967295|V>>>10),V=A+(j^U&(I^j))+x[1]+4129170786&4294967295,A=I+(V<<5&4294967295|V>>>27),V=U+(I^j&(A^I))+x[6]+3225465664&4294967295,U=A+(V<<9&4294967295|V>>>23),V=j+(A^I&(U^A))+x[11]+643717713&4294967295,j=U+(V<<14&4294967295|V>>>18),V=I+(U^A&(j^U))+x[0]+3921069994&4294967295,I=j+(V<<20&4294967295|V>>>12),V=A+(j^U&(I^j))+x[5]+3593408605&4294967295,A=I+(V<<5&4294967295|V>>>27),V=U+(I^j&(A^I))+x[10]+38016083&4294967295,U=A+(V<<9&4294967295|V>>>23),V=j+(A^I&(U^A))+x[15]+3634488961&4294967295,j=U+(V<<14&4294967295|V>>>18),V=I+(U^A&(j^U))+x[4]+3889429448&4294967295,I=j+(V<<20&4294967295|V>>>12),V=A+(j^U&(I^j))+x[9]+568446438&4294967295,A=I+(V<<5&4294967295|V>>>27),V=U+(I^j&(A^I))+x[14]+3275163606&4294967295,U=A+(V<<9&4294967295|V>>>23),V=j+(A^I&(U^A))+x[3]+4107603335&4294967295,j=U+(V<<14&4294967295|V>>>18),V=I+(U^A&(j^U))+x[8]+1163531501&4294967295,I=j+(V<<20&4294967295|V>>>12),V=A+(j^U&(I^j))+x[13]+2850285829&4294967295,A=I+(V<<5&4294967295|V>>>27),V=U+(I^j&(A^I))+x[2]+4243563512&4294967295,U=A+(V<<9&4294967295|V>>>23),V=j+(A^I&(U^A))+x[7]+1735328473&4294967295,j=U+(V<<14&4294967295|V>>>18),V=I+(U^A&(j^U))+x[12]+2368359562&4294967295,I=j+(V<<20&4294967295|V>>>12),V=A+(I^j^U)+x[5]+4294588738&4294967295,A=I+(V<<4&4294967295|V>>>28),V=U+(A^I^j)+x[8]+2272392833&4294967295,U=A+(V<<11&4294967295|V>>>21),V=j+(U^A^I)+x[11]+1839030562&4294967295,j=U+(V<<16&4294967295|V>>>16),V=I+(j^U^A)+x[14]+4259657740&4294967295,I=j+(V<<23&4294967295|V>>>9),V=A+(I^j^U)+x[1]+2763975236&4294967295,A=I+(V<<4&4294967295|V>>>28),V=U+(A^I^j)+x[4]+1272893353&4294967295,U=A+(V<<11&4294967295|V>>>21),V=j+(U^A^I)+x[7]+4139469664&4294967295,j=U+(V<<16&4294967295|V>>>16),V=I+(j^U^A)+x[10]+3200236656&4294967295,I=j+(V<<23&4294967295|V>>>9),V=A+(I^j^U)+x[13]+681279174&4294967295,A=I+(V<<4&4294967295|V>>>28),V=U+(A^I^j)+x[0]+3936430074&4294967295,U=A+(V<<11&4294967295|V>>>21),V=j+(U^A^I)+x[3]+3572445317&4294967295,j=U+(V<<16&4294967295|V>>>16),V=I+(j^U^A)+x[6]+76029189&4294967295,I=j+(V<<23&4294967295|V>>>9),V=A+(I^j^U)+x[9]+3654602809&4294967295,A=I+(V<<4&4294967295|V>>>28),V=U+(A^I^j)+x[12]+3873151461&4294967295,U=A+(V<<11&4294967295|V>>>21),V=j+(U^A^I)+x[15]+530742520&4294967295,j=U+(V<<16&4294967295|V>>>16),V=I+(j^U^A)+x[2]+3299628645&4294967295,I=j+(V<<23&4294967295|V>>>9),V=A+(j^(I|~U))+x[0]+4096336452&4294967295,A=I+(V<<6&4294967295|V>>>26),V=U+(I^(A|~j))+x[7]+1126891415&4294967295,U=A+(V<<10&4294967295|V>>>22),V=j+(A^(U|~I))+x[14]+2878612391&4294967295,j=U+(V<<15&4294967295|V>>>17),V=I+(U^(j|~A))+x[5]+4237533241&4294967295,I=j+(V<<21&4294967295|V>>>11),V=A+(j^(I|~U))+x[12]+1700485571&4294967295,A=I+(V<<6&4294967295|V>>>26),V=U+(I^(A|~j))+x[3]+2399980690&4294967295,U=A+(V<<10&4294967295|V>>>22),V=j+(A^(U|~I))+x[10]+4293915773&4294967295,j=U+(V<<15&4294967295|V>>>17),V=I+(U^(j|~A))+x[1]+2240044497&4294967295,I=j+(V<<21&4294967295|V>>>11),V=A+(j^(I|~U))+x[8]+1873313359&4294967295,A=I+(V<<6&4294967295|V>>>26),V=U+(I^(A|~j))+x[15]+4264355552&4294967295,U=A+(V<<10&4294967295|V>>>22),V=j+(A^(U|~I))+x[6]+2734768916&4294967295,j=U+(V<<15&4294967295|V>>>17),V=I+(U^(j|~A))+x[13]+1309151649&4294967295,I=j+(V<<21&4294967295|V>>>11),V=A+(j^(I|~U))+x[4]+4149444226&4294967295,A=I+(V<<6&4294967295|V>>>26),V=U+(I^(A|~j))+x[11]+3174756917&4294967295,U=A+(V<<10&4294967295|V>>>22),V=j+(A^(U|~I))+x[2]+718787259&4294967295,j=U+(V<<15&4294967295|V>>>17),V=I+(U^(j|~A))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+j&4294967295,D.g[3]=D.g[3]+U&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var I=A-this.blockSize,x=this.B,j=this.h,U=0;U<A;){if(j==0)for(;U<=I;)s(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<A;)if(x[j++]=D.charCodeAt(U++),j==this.blockSize){s(this,x),j=0;break}}else for(;U<A;)if(x[j++]=D[U++],j==this.blockSize){s(this,x),j=0;break}}this.h=j,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var I=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=I&255,I/=256;for(this.u(D),D=Array(16),A=I=0;4>A;++A)for(var x=0;32>x;x+=8)D[I++]=this.g[A]>>>x&255;return D};function l(D,A){var I=h;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=A(D)}function c(D,A){this.h=A;for(var I=[],x=!0,j=D.length-1;0<=j;j--){var U=D[j]|0;x&&U==A||(I[j]=U,x=!1)}this.g=I}var h={};function p(D){return-128<=D&&128>D?l(D,function(A){return new c([A|0],0>A?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return R(g(-D));for(var A=[],I=1,x=0;D>=I;x++)A[x]=D/I|0,I*=4294967296;return new c(A,0)}function v(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return R(v(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(A,8)),x=b,j=0;j<D.length;j+=8){var U=Math.min(8,D.length-j),V=parseInt(D.substring(j,j+U),A);8>U?(U=g(Math.pow(A,U)),x=x.j(U).add(g(V))):(x=x.j(I),x=x.add(g(V)))}return x}var b=p(0),T=p(1),w=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-R(this).m();for(var D=0,A=1,I=0;I<this.g.length;I++){var x=this.i(I);D+=(0<=x?x:4294967296+x)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(z(this))return"-"+R(this).toString(D);for(var A=g(Math.pow(D,6)),I=this,x="";;){var j=Z(I,A).g;I=M(I,j.j(A));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=j,O(I))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function z(D){return D.h==-1}n.l=function(D){return D=M(this,D),z(D)?-1:O(D)?0:1};function R(D){for(var A=D.g.length,I=[],x=0;x<A;x++)I[x]=~D.g[x];return new c(I,~D.h).add(T)}n.abs=function(){return z(this)?R(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],x=0,j=0;j<=A;j++){var U=x+(this.i(j)&65535)+(D.i(j)&65535),V=(U>>>16)+(this.i(j)>>>16)+(D.i(j)>>>16);x=V>>>16,U&=65535,V&=65535,I[j]=V<<16|U}return new c(I,I[I.length-1]&-2147483648?-1:0)};function M(D,A){return D.add(R(A))}n.j=function(D){if(O(this)||O(D))return b;if(z(this))return z(D)?R(this).j(R(D)):R(R(this).j(D));if(z(D))return R(this.j(R(D)));if(0>this.l(w)&&0>D.l(w))return g(this.m()*D.m());for(var A=this.g.length+D.g.length,I=[],x=0;x<2*A;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var j=0;j<D.g.length;j++){var U=this.i(x)>>>16,V=this.i(x)&65535,Xe=D.i(j)>>>16,Me=D.i(j)&65535;I[2*x+2*j]+=V*Me,k(I,2*x+2*j),I[2*x+2*j+1]+=U*Me,k(I,2*x+2*j+1),I[2*x+2*j+1]+=V*Xe,k(I,2*x+2*j+1),I[2*x+2*j+2]+=U*Xe,k(I,2*x+2*j+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new c(I,0)};function k(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function G(D,A){this.g=D,this.h=A}function Z(D,A){if(O(A))throw Error("division by zero");if(O(D))return new G(b,b);if(z(D))return A=Z(R(D),A),new G(R(A.g),R(A.h));if(z(A))return A=Z(D,R(A)),new G(R(A.g),A.h);if(30<D.g.length){if(z(D)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var I=T,x=A;0>=x.l(D);)I=N(I),x=N(x);var j=re(I,1),U=re(x,1);for(x=re(x,2),I=re(I,2);!O(x);){var V=U.add(x);0>=V.l(D)&&(j=j.add(I),U=V),x=re(x,1),I=re(I,1)}return A=M(D,j.j(A)),new G(j,A)}for(j=b;0<=D.l(A);){for(I=Math.max(1,Math.floor(D.m()/A.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=g(I),V=U.j(A);z(V)||0<V.l(D);)I-=x,U=g(I),V=U.j(A);O(U)&&(U=T),j=j.add(U),D=M(D,V)}return new G(j,D)}n.A=function(D){return Z(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],x=0;x<A;x++)I[x]=this.i(x)&D.i(x);return new c(I,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],x=0;x<A;x++)I[x]=this.i(x)|D.i(x);return new c(I,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],x=0;x<A;x++)I[x]=this.i(x)^D.i(x);return new c(I,this.h^D.h)};function N(D){for(var A=D.g.length+1,I=[],x=0;x<A;x++)I[x]=D.i(x)<<1|D.i(x-1)>>>31;return new c(I,D.h)}function re(D,A){var I=A>>5;A%=32;for(var x=D.g.length-I,j=[],U=0;U<x;U++)j[U]=0<A?D.i(U+I)>>>A|D.i(U+I+1)<<32-A:D.i(U+I);return new c(j,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,nR=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ss=c}).apply(typeof dT<"u"?dT:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rR,wc,iR,Kh,ov,aR,sR,oR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,_){return f==Array.prototype||f==Object.prototype||(f[y]=_.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function s(f,y){if(y)e:{var _=i;f=f.split(".");for(var C=0;C<f.length-1;C++){var Q=f[C];if(!(Q in _))break e;_=_[Q]}f=f[f.length-1],C=_[f],y=y(C),y!=C&&y!=null&&e(_,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var _=0,C=!1,Q={next:function(){if(!C&&_<f.length){var ie=_++;return{value:y(ie,f[ie]),done:!1}}return C=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(f){return f||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,_){return f.call.apply(f.bind,arguments)}function b(f,y,_){if(!f)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,C),f.apply(y,Q)}}return function(){return f.apply(y,arguments)}}function T(f,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function w(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function O(f,y){function _(){}_.prototype=y.prototype,f.aa=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(C,Q,ie){for(var ve=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)ve[bt-2]=arguments[bt];return y.prototype[Q].apply(C,ve)}}function z(f){const y=f.length;if(0<y){const _=Array(y);for(let C=0;C<y;C++)_[C]=f[C];return _}return[]}function R(f,y){for(let _=1;_<arguments.length;_++){const C=arguments[_];if(p(C)){const Q=f.length||0,ie=C.length||0;f.length=Q+ie;for(let ve=0;ve<ie;ve++)f[Q+ve]=C[ve]}else f.push(C)}}class M{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(f){return/^[\s\xa0]*$/.test(f)}function G(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function Z(f){return Z[" "](f),f}Z[" "]=function(){};var N=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function re(f,y,_){for(const C in f)y.call(_,f[C],C,f)}function D(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function A(f){const y={};for(const _ in f)y[_]=f[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(f,y){let _,C;for(let Q=1;Q<arguments.length;Q++){C=arguments[Q];for(_ in C)f[_]=C[_];for(let ie=0;ie<I.length;ie++)_=I[ie],Object.prototype.hasOwnProperty.call(C,_)&&(f[_]=C[_])}}function j(f){var y=1;f=f.split(":");const _=[];for(;0<y&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function U(f){h.setTimeout(()=>{throw f},0)}function V(){var f=Ve;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Xe{constructor(){this.h=this.g=null}add(y,_){const C=Me.get();C.set(y,_),this.h?this.h.next=C:this.g=C,this.h=C}}var Me=new M(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,pe=!1,Ve=new Xe,B=()=>{const f=h.Promise.resolve(void 0);ye=()=>{f.then(le)}};var le=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(_){U(_)}var y=Me;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}pe=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return f}();function Pe(f,y){if(de.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(N){e:{try{Z(y.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(y=null)}}else _=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:De[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Pe.aa.h.call(this)}}O(Pe,de);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),rt=0;function Qe(f,y,_,C,Q){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!C,this.ha=Q,this.key=++rt,this.da=this.fa=!1}function ze(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function mt(f){this.src=f,this.g={},this.h=0}mt.prototype.add=function(f,y,_,C,Q){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var ve=ht(f,y,C,Q);return-1<ve?(y=f[ve],_||(y.fa=!1)):(y=new Qe(y,this.src,ie,!!C,Q),y.fa=_,f.push(y)),y};function lt(f,y){var _=y.type;if(_ in f.g){var C=f.g[_],Q=Array.prototype.indexOf.call(C,y,void 0),ie;(ie=0<=Q)&&Array.prototype.splice.call(C,Q,1),ie&&(ze(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function ht(f,y,_,C){for(var Q=0;Q<f.length;++Q){var ie=f[Q];if(!ie.da&&ie.listener==y&&ie.capture==!!_&&ie.ha==C)return Q}return-1}var Ht="closure_lm_"+(1e6*Math.random()|0),hn={};function Xt(f,y,_,C,Q){if(Array.isArray(y)){for(var ie=0;ie<y.length;ie++)Xt(f,y[ie],_,C,Q);return null}return _=lr(_),f&&f[Pt]?f.K(y,_,g(C)?!!C.capture:!1,Q):Mt(f,y,_,!1,C,Q)}function Mt(f,y,_,C,Q,ie){if(!y)throw Error("Invalid event type");var ve=g(Q)?!!Q.capture:!!Q,bt=Jn(f);if(bt||(f[Ht]=bt=new mt(f)),_=bt.add(y,_,C,ve,ie),_.proxy)return _;if(C=Dn(),_.proxy=C,C.src=f,C.listener=_,f.addEventListener)we||(Q=ve),Q===void 0&&(Q=!1),f.addEventListener(y.toString(),C,Q);else if(f.attachEvent)f.attachEvent(qt(y.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Dn(){function f(_){return y.call(f.src,f.listener,_)}const y=Zn;return f}function pr(f,y,_,C,Q){if(Array.isArray(y))for(var ie=0;ie<y.length;ie++)pr(f,y[ie],_,C,Q);else C=g(C)?!!C.capture:!!C,_=lr(_),f&&f[Pt]?(f=f.i,y=String(y).toString(),y in f.g&&(ie=f.g[y],_=ht(ie,_,C,Q),-1<_&&(ze(ie[_]),Array.prototype.splice.call(ie,_,1),ie.length==0&&(delete f.g[y],f.h--)))):f&&(f=Jn(f))&&(y=f.g[y.toString()],f=-1,y&&(f=ht(y,_,C,Q)),(_=-1<f?y[f]:null)&&Bn(_))}function Bn(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Pt])lt(y.i,f);else{var _=f.type,C=f.proxy;y.removeEventListener?y.removeEventListener(_,C,f.capture):y.detachEvent?y.detachEvent(qt(_),C):y.addListener&&y.removeListener&&y.removeListener(C),(_=Jn(y))?(lt(_,f),_.h==0&&(_.src=null,y[Ht]=null)):ze(f)}}}function qt(f){return f in hn?hn[f]:hn[f]="on"+f}function Zn(f,y){if(f.da)f=!0;else{y=new Pe(y,this);var _=f.listener,C=f.ha||f.src;f.fa&&Bn(f),f=_.call(C,y)}return f}function Jn(f){return f=f[Ht],f instanceof mt?f:null}var er="__closure_events_fn_"+(1e9*Math.random()>>>0);function lr(f){return typeof f=="function"?f:(f[er]||(f[er]=function(y){return f.handleEvent(y)}),f[er])}function gt(){me.call(this),this.i=new mt(this),this.M=this,this.F=null}O(gt,me),gt.prototype[Pt]=!0,gt.prototype.removeEventListener=function(f,y,_,C){pr(this,f,y,_,C)};function dt(f,y){var _,C=f.F;if(C)for(_=[];C;C=C.F)_.push(C);if(f=f.M,C=y.type||y,typeof y=="string")y=new de(y,f);else if(y instanceof de)y.target=y.target||f;else{var Q=y;y=new de(C,f),x(y,Q)}if(Q=!0,_)for(var ie=_.length-1;0<=ie;ie--){var ve=y.g=_[ie];Q=_n(ve,C,!0,y)&&Q}if(ve=y.g=f,Q=_n(ve,C,!0,y)&&Q,Q=_n(ve,C,!1,y)&&Q,_)for(ie=0;ie<_.length;ie++)ve=y.g=_[ie],Q=_n(ve,C,!1,y)&&Q}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var _=f.g[y],C=0;C<_.length;C++)ze(_[C]);delete f.g[y],f.h--}}this.F=null},gt.prototype.K=function(f,y,_,C){return this.i.add(String(f),y,!1,_,C)},gt.prototype.L=function(f,y,_,C){return this.i.add(String(f),y,!0,_,C)};function _n(f,y,_,C){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var Q=!0,ie=0;ie<y.length;++ie){var ve=y[ie];if(ve&&!ve.da&&ve.capture==_){var bt=ve.listener,Tn=ve.ha||ve.src;ve.fa&&lt(f.i,ve),Q=bt.call(Tn,C)!==!1&&Q}}return Q&&!C.defaultPrevented}function Wt(f,y,_){if(typeof f=="function")_&&(f=T(f,_));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function zn(f){f.g=Wt(()=>{f.g=null,f.i&&(f.i=!1,zn(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Wi extends me{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(f){me.call(this),this.h=f,this.g={}}O(Ur,me);var jr=[];function br(f){re(f.g,function(y,_){this.g.hasOwnProperty(_)&&Bn(y)},f),f.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),br(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=h.JSON.stringify,X=h.JSON.parse,J=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function We(){}We.prototype.h=null;function yt(f){return f.h||(f.h=f.i())}function vt(){}var ke={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ln(){de.call(this,"d")}O(ln,de);function Nn(){de.call(this,"c")}O(Nn,de);var Vt={},tr=null;function mr(){return tr=tr||new gt}Vt.La="serverreachability";function q(f){de.call(this,Vt.La,f)}O(q,de);function H(f){const y=mr();dt(y,new q(y))}Vt.STAT_EVENT="statevent";function ne(f,y){de.call(this,Vt.STAT_EVENT,f),this.stat=y}O(ne,de);function oe(f){const y=mr();dt(y,new ne(y,f))}Vt.Ma="timingevent";function ge(f,y){de.call(this,Vt.Ma,f),this.size=y}O(ge,de);function be(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function Se(f,y,_,C,Q,ie){f.info(function(){if(f.g)if(ie)for(var ve="",bt=ie.split("&"),Tn=0;Tn<bt.length;Tn++){var Tt=bt[Tn].split("=");if(1<Tt.length){var Pn=Tt[0];Tt=Tt[1];var wn=Pn.split("_");ve=2<=wn.length&&wn[1]=="type"?ve+(Pn+"="+Tt+"&"):ve+(Pn+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+C+") [attempt "+Q+"]: "+y+`
`+_+`
`+ve})}function Ie(f,y,_,C,Q,ie,ve){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Q+"]: "+y+`
`+_+`
`+ie+" "+ve})}function _e(f,y,_,C){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ne(f,_)+(C?" "+C:"")})}function Oe(f,y){f.info(function(){return"TIMEOUT: "+y})}Ae.prototype.info=function(){};function Ne(f,y){if(!f.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var C=_[f];if(!(2>C.length)){var Q=C[1];if(Array.isArray(Q)&&!(1>Q.length)){var ie=Q[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<Q.length;ve++)Q[ve]=""}}}}return En(_)}catch{return y}}var $e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ot;function _t(){}O(_t,We),_t.prototype.g=function(){return new XMLHttpRequest},_t.prototype.i=function(){return{}},Ot=new _t;function Je(f,y,_,C){this.j=f,this.i=y,this.l=_,this.R=C||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}var bn={},qn={};function en(f,y,_){f.L=1,f.v=Hs(Sr(y)),f.m=_,f.P=!0,tn(f,null)}function tn(f,y){f.F=Date.now(),ur(f),f.A=Sr(f.v);var _=f.A,C=f.R;Array.isArray(C)||(C=[String(C)]),vu(_.i,"t",C),f.C=0,_=f.j.J,f.h=new Ge,f.g=Af(f.j,_?y:null,!f.m),0<f.O&&(f.M=new Wi(T(f.Y,f,f.g),f.O)),y=f.U,_=f.g,C=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(jr[0]=Q.toString()),Q=jr);for(var ie=0;ie<Q.length;ie++){var ve=Xt(_,Q[ie],C||y.handleEvent,!1,y.h||y);if(!ve)break;y.g[ve.key]=ve}y=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),H(),Se(f.i,f.u,f.A,f.l,f.R,f.m)}Je.prototype.ca=function(f){f=f.target;const y=this.M;y&&Hr(f)==3?y.j():this.Y(f)},Je.prototype.Y=function(f){try{if(f==this.g)e:{const wn=Hr(this.g);var y=this.g.Ba();const sa=this.g.Z();if(!(3>wn)&&(wn!=3||this.g&&(this.h.h||this.g.oa()||yf(this.g)))){this.J||wn!=4||y==7||(y==8||0>=sa?H(3):H(2)),Tr(this);var _=this.g.Z();this.X=_;t:if(qa(this)){var C=yf(this.g);f="";var Q=C.length,ie=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Et(this),it(this);var ve="";break t}this.h.i=new h.TextDecoder}for(y=0;y<Q;y++)this.h.h=!0,f+=this.h.i.decode(C[y],{stream:!(ie&&y==Q-1)});C.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=_==200,Ie(this.i,this.u,this.A,this.l,this.R,wn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,Tn=this.g;if((bt=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(bt)){var Tt=bt;break t}}Tt=null}if(_=Tt)_e(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Br(this,_);else{this.o=!1,this.s=3,oe(12),Et(this),it(this);break e}}if(this.P){_=!0;let Fn;for(;!this.J&&this.C<ve.length;)if(Fn=Ei(this,ve),Fn==qn){wn==4&&(this.s=4,oe(14),_=!1),_e(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==bn){this.s=4,oe(15),_e(this.i,this.l,ve,"[Invalid Chunk]"),_=!1;break}else _e(this.i,this.l,Fn,null),Br(this,Fn);if(qa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wn!=4||ve.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)_e(this.i,this.l,ve,"[Invalid Chunked Response]"),Et(this),it(this);else if(0<ve.length&&!this.W){this.W=!0;var Pn=this.j;Pn.g==this&&Pn.ba&&!Pn.M&&(Pn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Zs(Pn),Pn.M=!0,oe(11))}}else _e(this.i,this.l,ve,null),Br(this,ve);wn==4&&Et(this),this.o&&!this.J&&(wn==4?Tf(this.j,this):(this.o=!1,ur(this)))}else Sp(this.g),_==400&&0<ve.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),Et(this),it(this)}}}catch{}finally{}};function qa(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ei(f,y){var _=f.C,C=y.indexOf(`
`,_);return C==-1?qn:(_=Number(y.substring(_,C)),isNaN(_)?bn:(C+=1,C+_>y.length?qn:(y=y.slice(C,C+_),f.C=C+_,y)))}Je.prototype.cancel=function(){this.J=!0,Et(this)};function ur(f){f.S=Date.now()+f.I,Zi(f,f.I)}function Zi(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=be(T(f.ba,f),y)}function Tr(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Je.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Oe(this.i,this.A),this.L!=2&&(H(),oe(17)),Et(this),this.s=2,it(this)):Zi(this,this.S-f)};function it(f){f.j.G==0||f.J||Tf(f.j,f)}function Et(f){Tr(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,br(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Br(f,y){try{var _=f.j;if(_.G!=0&&(_.g==f||zs(_.h,f))){if(!f.K&&zs(_.h,f)&&_.G==3){try{var C=_.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Q=C;if(Q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)Xo(_),Qo(_);else break e;wu(_),oe(18)}}else _.za=Q[1],0<_.za-_.T&&37500>Q[2]&&_.F&&_.v==0&&!_.C&&(_.C=be(T(_.Za,_),6e3));if(1>=Ji(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else aa(_,11)}else if((f.K||_.g==f)&&Xo(_),!k(y))for(Q=_.Da.g.parse(y),y=0;y<Q.length;y++){let Tt=Q[y];if(_.T=Tt[0],Tt=Tt[1],_.G==2)if(Tt[0]=="c"){_.K=Tt[1],_.ia=Tt[2];const Pn=Tt[3];Pn!=null&&(_.la=Pn,_.j.info("VER="+_.la));const wn=Tt[4];wn!=null&&(_.Aa=wn,_.j.info("SVER="+_.Aa));const sa=Tt[5];sa!=null&&typeof sa=="number"&&0<sa&&(C=1.5*sa,_.L=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const Fn=f.g;if(Fn){const Oi=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var ie=C.h;ie.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(zo(ie,ie.h),ie.h=null))}if(C.D){const Au=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Au&&(C.ya=Au,Ut(C.I,C.D,Au))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),C=_;var ve=f;if(C.qa=Sf(C,C.J?C.ia:null,C.W),ve.K){cr(C.h,ve);var bt=ve,Tn=C.L;Tn&&(bt.I=Tn),bt.B&&(Tr(bt),ur(bt)),C.g=ve}else Ef(C);0<_.i.length&&Yo(_)}else Tt[0]!="stop"&&Tt[0]!="close"||aa(_,7);else _.G==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?aa(_,7):bu(_):Tt[0]!="noop"&&_.l&&_.l.ta(Tt),_.v=0)}}H(4)}catch{}}var bi=class{constructor(f,y){this.g=f,this.map=y}};function Dt(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ji(f){return f.h?1:f.g?f.g.size:0}function zs(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function zo(f,y){f.g?f.g.add(y):f.h=y}function cr(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Dt.prototype.cancel=function(){if(this.i=pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function pu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.D);return y}return z(f.i)}function Ep(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],_=f.length,C=0;C<_;C++)y.push(f[C]);return y}y=[],_=0;for(C in f)y[_++]=f[C];return y}function qo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var _=0;_<f;_++)y.push(_);return y}y=[],_=0;for(const C in f)y[_++]=C;return y}}}function mu(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var _=qo(f),C=Ep(f),Q=C.length,ie=0;ie<Q;ie++)y.call(void 0,C[ie],_&&_[ie],f)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bp(f,y){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var C=f[_].indexOf("="),Q=null;if(0<=C){var ie=f[_].substring(0,C);Q=f[_].substring(C+1)}else ie=f[_];y(ie,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function dn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof dn){this.h=f.h,Fs(this,f.j),this.o=f.o,this.g=f.g,Fa(this,f.s),this.l=f.l;var y=f.i,_=new ta;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ea(this,_),this.m=f.m}else f&&(y=String(f).match(qs))?(this.h=!1,Fs(this,y[1]||"",!0),this.o=zr(y[2]||""),this.g=zr(y[3]||"",!0),Fa(this,y[4]),this.l=zr(y[5]||"",!0),ea(this,y[6]||"",!0),this.m=zr(y[7]||"")):(this.h=!1,this.i=new ta(null,this.h))}dn.prototype.toString=function(){var f=[],y=this.j;y&&f.push($s(y,gu,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push($s(y,gu,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push($s(_,_.charAt(0)=="/"?Tp:yu,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",$s(_,Fo)),f.join("")};function Sr(f){return new dn(f)}function Fs(f,y,_){f.j=_?zr(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Fa(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function ea(f,y,_){y instanceof ta?(f.i=y,mf(f.i,f.h)):(_||(y=$s(y,wp)),f.i=new ta(y,f.h))}function Ut(f,y,_){f.i.set(y,_)}function Hs(f){return Ut(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function zr(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function $s(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,pf),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function pf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var gu=/[#\/\?@]/g,yu=/[#\?:]/g,Tp=/[#\?]/g,wp=/[#\?@]/g,Fo=/#/g;function ta(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function qr(f){f.g||(f.g=new Map,f.h=0,f.i&&bp(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=ta.prototype,n.add=function(f,y){qr(this),this.i=null,f=Ti(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function na(f,y){qr(f),y=Ti(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function ra(f,y){return qr(f),y=Ti(f,y),f.g.has(y)}n.forEach=function(f,y){qr(this),this.g.forEach(function(_,C){_.forEach(function(Q){f.call(y,Q,C,this)},this)},this)},n.na=function(){qr(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let C=0;C<y.length;C++){const Q=f[C];for(let ie=0;ie<Q.length;ie++)_.push(y[C])}return _},n.V=function(f){qr(this);let y=[];if(typeof f=="string")ra(this,f)&&(y=y.concat(this.g.get(Ti(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)y=y.concat(f[_])}return y},n.set=function(f,y){return qr(this),this.i=null,f=Ti(this,f),ra(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function vu(f,y,_){na(f,y),0<_.length&&(f.i=null,f.g.set(Ti(f,y),z(_)),f.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var C=y[_];const ie=encodeURIComponent(String(C)),ve=this.V(C);for(C=0;C<ve.length;C++){var Q=ie;ve[C]!==""&&(Q+="="+encodeURIComponent(String(ve[C]))),f.push(Q)}}return this.i=f.join("&")};function Ti(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function mf(f,y){y&&!f.j&&(qr(f),f.i=null,f.g.forEach(function(_,C){var Q=C.toLowerCase();C!=Q&&(na(this,C),vu(this,Q,_))},f)),f.j=y}function Gs(f,y){const _=new Ae;if(h.Image){const C=new Image;C.onload=w(Fr,_,"TestLoadImage: loaded",!0,y,C),C.onerror=w(Fr,_,"TestLoadImage: error",!1,y,C),C.onabort=w(Fr,_,"TestLoadImage: abort",!1,y,C),C.ontimeout=w(Fr,_,"TestLoadImage: timeout",!1,y,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else y(!1)}function oi(f,y){const _=new Ae,C=new AbortController,Q=setTimeout(()=>{C.abort(),Fr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:C.signal}).then(ie=>{clearTimeout(Q),ie.ok?Fr(_,"TestPingServer: ok",!0,y):Fr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Q),Fr(_,"TestPingServer: error",!1,y)})}function Fr(f,y,_,C,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),C(_)}catch{}}function Ks(){this.g=new J}function wi(f,y,_){const C=_||"";try{mu(f,function(Q,ie){let ve=Q;g(Q)&&(ve=En(Q)),y.push(C+ie+"="+encodeURIComponent(ve))})}catch(Q){throw y.push(C+"type="+encodeURIComponent("_badmap")),Q}}function Ha(f){this.l=f.Ub||null,this.j=f.eb||!1}O(Ha,We),Ha.prototype.g=function(){return new ia(this.l,this.j)},Ha.prototype.i=function(f){return function(){return f}}({});function ia(f,y){gt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ia,gt),n=ia.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Ai(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_u(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function _u(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Si(this):Ai(this),this.readyState==3&&_u(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Si(this))},n.Qa=function(f){this.g&&(this.response=f,Si(this))},n.ga=function(){this.g&&Si(this)};function Si(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ai(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function Ai(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Eu(f){let y="";return re(f,function(_,C){y+=C,y+=":",y+=_,y+=`\r
`}),y}function xn(f,y,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=Eu(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):Ut(f,y,_))}function Nt(f){gt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Nt,gt);var Ho=/^https?$/i,Qs=["POST","PUT"];n=Nt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ot.g(),this.v=this.o?yt(this.o):yt(Ot),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(ie){gf(this,ie);return}if(f=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Q in C)_.set(Q,C[Q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const ie of C.keys())_.set(ie,C.get(ie));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Qs,y,void 0))||C||Q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of _)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){gf(this,ie)}};function gf(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,$o(f),Ri(f)}function $o(f){f.A||(f.A=!0,dt(f,"complete"),dt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,dt(this,"complete"),dt(this,"abort"),Ri(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Go(this):this.bb())},n.bb=function(){Go(this)};function Go(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Hr(f)!=4||f.Z()!=2)){if(f.u&&Hr(f)==4)Wt(f.Ea,0,f);else if(dt(f,"readystatechange"),Hr(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var C;if(C=ve===0){var Q=String(f.D).match(qs)[1]||null;!Q&&h.self&&h.self.location&&(Q=h.self.location.protocol.slice(0,-1)),C=!Ho.test(Q?Q.toLowerCase():"")}_=C}if(_)dt(f,"complete"),dt(f,"success");else{f.m=6;try{var ie=2<Hr(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",$o(f)}}finally{Ri(f)}}}}function Ri(f,y){if(f.g){Ys(f);const _=f.g,C=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||dt(f,"ready");try{_.onreadystatechange=C}catch{}}}function Ys(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Hr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),X(y)}};function yf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Sp(f){const y={};f=(f.g&&2<=Hr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(k(f[C]))continue;var _=j(f[C]);const Q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ie=y[Q]||[];y[Q]=ie,ie.push(_)}D(y,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function Ko(f){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,f),this.cb=Xs("retryDelaySeedMs",1e4,f),this.Wa=Xs("forwardChannelMaxRetries",2,f),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Dt(f&&f.concurrentRequestLimit),this.Da=new Ks,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ko.prototype,n.la=8,n.G=1,n.connect=function(f,y,_,C){oe(0),this.W=f,this.H=y||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.I=Sf(this,null,this.W),Yo(this)};function bu(f){if(vf(f),f.G==3){var y=f.U++,_=Sr(f.I);if(Ut(_,"SID",f.K),Ut(_,"RID",y),Ut(_,"TYPE","terminate"),Ws(f,_),y=new Je(f,f.j,y),y.L=2,y.v=Hs(Sr(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.v,_=!0),_||(y.g=Af(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ur(y)}wf(f)}function Qo(f){f.g&&(Zs(f),f.g.cancel(),f.g=null)}function vf(f){Qo(f),f.u&&(h.clearTimeout(f.u),f.u=null),Xo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Yo(f){if(!wr(f.h)&&!f.s){f.s=!0;var y=f.Ga;ye||B(),pe||(ye(),pe=!0),Ve.add(y,f),f.B=0}}function Ap(f,y){return Ji(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=be(T(f.Ga,f,y),Su(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new Je(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=A(ie),x(ie,this.S)):ie=this.S),this.m!==null||this.O||(Q.H=ie,ie=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=_f(this,Q,y),_=Sr(this.I),Ut(_,"RID",f),Ut(_,"CVER",22),this.D&&Ut(_,"X-HTTP-Session-Id",this.D),Ws(this,_),ie&&(this.O?y="headers="+encodeURIComponent(String(Eu(ie)))+"&"+y:this.m&&xn(_,this.m,ie)),zo(this.h,Q),this.Ua&&Ut(_,"TYPE","init"),this.P?(Ut(_,"$req",y),Ut(_,"SID","null"),Q.T=!0,en(Q,_,null)):en(Q,_,y),this.G=2}}else this.G==3&&(f?Tu(this,f):this.i.length==0||wr(this.h)||Tu(this))};function Tu(f,y){var _;y?_=y.l:_=f.U++;const C=Sr(f.I);Ut(C,"SID",f.K),Ut(C,"RID",_),Ut(C,"AID",f.T),Ws(f,C),f.m&&f.o&&xn(C,f.m,f.o),_=new Je(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),y&&(f.i=y.D.concat(f.i)),y=_f(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),zo(f.h,_),en(_,C,y)}function Ws(f,y){f.H&&re(f.H,function(_,C){Ut(y,C,_)}),f.l&&mu({},function(_,C){Ut(y,C,_)})}function _f(f,y,_){_=Math.min(f.i.length,_);var C=f.l?T(f.l.Na,f.l,f):null;e:{var Q=f.i;let ie=-1;for(;;){const ve=["count="+_];ie==-1?0<_?(ie=Q[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let bt=!0;for(let Tn=0;Tn<_;Tn++){let Tt=Q[Tn].g;const Pn=Q[Tn].map;if(Tt-=ie,0>Tt)ie=Math.max(0,Q[Tn].g-100),bt=!1;else try{wi(Pn,ve,"req"+Tt+"_")}catch{C&&C(Pn)}}if(bt){C=ve.join("&");break e}}}return f=f.i.splice(0,_),y.D=f,C}function Ef(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ye||B(),pe||(ye(),pe=!0),Ve.add(y,f),f.v=0}}function wu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=be(T(f.Fa,f),Su(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,bf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=be(T(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Qo(this),bf(this))};function Zs(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function bf(f){f.g=new Je(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Sr(f.qa);Ut(y,"RID","rpc"),Ut(y,"SID",f.K),Ut(y,"AID",f.T),Ut(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ut(y,"TO",f.ja),Ut(y,"TYPE","xmlhttp"),Ws(f,y),f.m&&f.o&&xn(y,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=Hs(Sr(y)),_.m=null,_.P=!0,tn(_,f)}n.Za=function(){this.C!=null&&(this.C=null,Qo(this),wu(this),oe(19))};function Xo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Tf(f,y){var _=null;if(f.g==y){Xo(f),Zs(f),f.g=null;var C=2}else if(zs(f.h,y))_=y.D,cr(f.h,y),C=1;else return;if(f.G!=0){if(y.o)if(C==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var Q=f.B;C=mr(),dt(C,new ge(C,_)),Yo(f)}else Ef(f);else if(Q=y.s,Q==3||Q==0&&0<y.X||!(C==1&&Ap(f,y)||C==2&&wu(f)))switch(_&&0<_.length&&(y=f.h,y.i=y.i.concat(_)),Q){case 1:aa(f,5);break;case 4:aa(f,10);break;case 3:aa(f,6);break;default:aa(f,2)}}}function Su(f,y){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*y}function aa(f,y){if(f.j.info("Error code "+y),y==2){var _=T(f.fb,f),C=f.Xa;const Q=!C;C=new dn(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Fs(C,"https"),Hs(C),Q?Gs(C.toString(),_):oi(C.toString(),_)}else oe(2);f.G=0,f.l&&f.l.sa(y),wf(f),vf(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function wf(f){if(f.G=0,f.ka=[],f.l){const y=pu(f.h);(y.length!=0||f.i.length!=0)&&(R(f.ka,y),R(f.ka,f.i),f.h.i.length=0,z(f.i),f.i.length=0),f.l.ra()}}function Sf(f,y,_){var C=_ instanceof dn?Sr(_):new dn(_);if(C.g!="")y&&(C.g=y+"."+C.g),Fa(C,C.s);else{var Q=h.location;C=Q.protocol,y=y?y+"."+Q.hostname:Q.hostname,Q=+Q.port;var ie=new dn(null);C&&Fs(ie,C),y&&(ie.g=y),Q&&Fa(ie,Q),_&&(ie.l=_),C=ie}return _=f.D,y=f.ya,_&&y&&Ut(C,_,y),Ut(C,"VER",f.la),Ws(f,C),C}function Af(f,y,_){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Nt(new Ha({eb:_})):new Nt(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rf(){}n=Rf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wo(){}Wo.prototype.g=function(f,y){return new fr(f,y)};function fr(f,y){gt.call(this),this.g=new Ko(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!k(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Ci(this)}O(fr,gt),fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){bu(this.g)},fr.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=En(f),f=_);y.i.push(new bi(y.Ya++,f)),y.G==3&&Yo(y)},fr.prototype.N=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,fr.aa.N.call(this)};function Cf(f){ln.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const _ in y){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}O(Cf,ln);function Of(){Nn.call(this),this.status=1}O(Of,Nn);function Ci(f){this.g=f}O(Ci,Rf),Ci.prototype.ua=function(){dt(this.g,"a")},Ci.prototype.ta=function(f){dt(this.g,new Cf(f))},Ci.prototype.sa=function(f){dt(this.g,new Of)},Ci.prototype.ra=function(){dt(this.g,"b")},Wo.prototype.createWebChannel=Wo.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,oR=function(){return new Wo},sR=function(){return mr()},aR=Vt,ov={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$e.NO_ERROR=0,$e.TIMEOUT=8,$e.HTTP_ERROR=6,Kh=$e,pt.COMPLETE="complete",iR=pt,vt.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",gt.prototype.listen=gt.prototype.K,wc=vt,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,rR=Nt}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const pT="@firebase/firestore",mT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Kv("@firebase/firestore");function Dl(){return Oo.logLevel}function Te(n,...e){if(Oo.logLevel<=ut.DEBUG){const t=e.map(Xv);Oo.debug(`Firestore (${ou}): ${n}`,...t)}}function Va(n,...e){if(Oo.logLevel<=ut.ERROR){const t=e.map(Xv);Oo.error(`Firestore (${ou}): ${n}`,...t)}}function Kl(n,...e){if(Oo.logLevel<=ut.WARN){const t=e.map(Xv);Oo.warn(`Firestore (${ou}): ${n}`,...t)}}function Xv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(n="Unexpected state"){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+n;throw Va(e),new Error(e)}function xt(n,e){n||He()}function Ye(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Ba{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ar.UNAUTHENTICATED))}shutdown(){}}class yM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vM{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xt(this.o===void 0);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Da;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Da,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},h=p=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Da)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(xt(typeof i.accessToken=="string"),new lR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new ar(e)}}class _M{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class EM{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new _M(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bM{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ni(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){xt(this.o===void 0);const i=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new gT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt(typeof t.token=="string"),this.R=t.token,new gT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=TM(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function tt(n,e){return n<e?-1:n>e?1:0}function lv(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return tt(i,s);{const l=uR(),c=wM(l.encode(yT(n,t)),l.encode(yT(e,t)));return c!==0?c:tt(i,s)}}t+=i>65535?2:1}return tt(n.length,e.length)}function yT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function wM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return tt(n[t],e[t]);return tt(n.length,e.length)}function Ql(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=-62135596800,_T=1e6;class On{static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*_T);return new On(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vT)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_T}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new On(0,0))}static max(){return new Ke(new On(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="__name__";class Vi{constructor(e,t,i){t===void 0?t=0:t>e.length&&He(),i===void 0?i=e.length-t:i>e.length-t&&He(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=Vi.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return tt(e.length,t.length)}static compareSegments(e,t){const i=Vi.isNumericId(e),s=Vi.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Vi.extractNumericId(e).compare(Vi.extractNumericId(t)):lv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class Yt extends Vi{construct(e,t,i){return new Yt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}const SM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Vi{construct(e,t,i){return new Xn(e,t,i)}static isValidIdentifier(e){return SM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ET}static keyField(){return new Xn([ET])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new Re(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Re(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Re(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(i+=h,s++):(l(),s++)}if(l(),c)throw new Re(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(t)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Yt.fromString(e))}static fromName(e){return new Le(Yt.fromString(e).popFirst(5))}static empty(){return new Le(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function AM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(i===1e9?new On(t+1,0):new On(t,i));return new Os(s,Le.empty(),e)}function RM(n){return new Os(n.readTime,n.key,Bc)}class Os{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Os(Ke.min(),Le.empty(),Bc)}static max(){return new Os(Ke.max(),Le.empty(),Bc)}}function CM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:tt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==OM)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&He(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let s=0,l=0,c=!1;e.forEach(h=>{++s,h.next(()=>{++l,c&&l===s&&t()},p=>i(p))}),c=!0,l===s&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(s=>s?fe.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,s)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{c[g]=v,++h,h===l&&i(c)},v=>s(v))}})}static doWhile(e,t){return new fe((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function DM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function uu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Zd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=-1;function Jd(n){return n==null}function yd(n){return n===0&&1/n==-1/0}function NM(n){return typeof n=="number"&&Number.isInteger(n)&&!yd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="";function xM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bT(e)),e=PM(n.get(t),e);return bT(e)}function PM(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case fR:t+="";break;default:t+=l}}return t}function bT(n){return n+fR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Us(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t){this.comparator=e,this.root=t||Yn.EMPTY}insert(e,t){return new an(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yn{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??Yn.RED,this.left=s??Yn.EMPTY,this.right=l??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new Yn(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Yn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw He();const e=this.left.check();if(e!==this.right.check())throw He();return e+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw He()}get value(){throw He()}get color(){throw He()}get left(){throw He()}get right(){throw He()}copy(e,t,i,s,l){return this}insert(e,t,i){return new Yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wT(this.data.getIterator())}getIteratorFrom(e){return new wT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class wT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Lr([])}unionWith(e){let t=new In(Xn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Lr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new dR("Invalid base64 string: "+l):l}}(e);return new Wn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new Wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const MM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(n){if(xt(!!n),typeof n=="string"){let e=0;const t=MM.exec(n);if(xt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fn(n.seconds),nanos:fn(n.nanos)}}function fn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ds(n){return typeof n=="string"?Wn.fromBase64String(n):Wn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="server_timestamp",mR="__type__",gR="__previous_value__",yR="__local_write_time__";function Zv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[mR])===null||t===void 0?void 0:t.stringValue)===pR}function ep(n){const e=n.mapValue.fields[gR];return Zv(e)?ep(e):e}function zc(n){const e=Is(n.mapValue.fields[yR].timestampValue);return new On(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t,i,s,l,c,h,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g}}const vd="(default)";class qc{constructor(e,t){this.projectId=e,this.database=t||vd}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===vd}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="__type__",LM="__max__",Lh={mapValue:{}},_R="__vector__",_d="value";function Ns(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zv(n)?4:UM(n)?9007199254740991:kM(n)?10:11:He()}function Yi(n,e){if(n===e)return!0;const t=Ns(n);if(t!==Ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zc(n).isEqual(zc(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Is(s.timestampValue),h=Is(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return Ds(s.bytesValue).isEqual(Ds(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return fn(s.geoPointValue.latitude)===fn(l.geoPointValue.latitude)&&fn(s.geoPointValue.longitude)===fn(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return fn(s.integerValue)===fn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=fn(s.doubleValue),h=fn(l.doubleValue);return c===h?yd(c)===yd(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return Ql(n.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},h=l.mapValue.fields||{};if(TT(c)!==TT(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Yi(c[p],h[p])))return!1;return!0}(n,e);default:return He()}}function Fc(n,e){return(n.values||[]).find(t=>Yi(t,e))!==void 0}function Yl(n,e){if(n===e)return 0;const t=Ns(n),i=Ns(e);if(t!==i)return tt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=fn(l.integerValue||l.doubleValue),p=fn(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return ST(n.timestampValue,e.timestampValue);case 4:return ST(zc(n),zc(e));case 5:return lv(n.stringValue,e.stringValue);case 6:return function(l,c){const h=Ds(l),p=Ds(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),p=c.split("/");for(let g=0;g<h.length&&g<p.length;g++){const v=tt(h[g],p[g]);if(v!==0)return v}return tt(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=tt(fn(l.latitude),fn(c.latitude));return h!==0?h:tt(fn(l.longitude),fn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return AT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,p,g,v;const b=l.fields||{},T=c.fields||{},w=(h=b[_d])===null||h===void 0?void 0:h.arrayValue,O=(p=T[_d])===null||p===void 0?void 0:p.arrayValue,z=tt(((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:AT(w,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Lh.mapValue&&c===Lh.mapValue)return 0;if(l===Lh.mapValue)return 1;if(c===Lh.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const T=lv(p[b],v[b]);if(T!==0)return T;const w=Yl(h[p[b]],g[v[b]]);if(w!==0)return w}return tt(p.length,v.length)}(n.mapValue,e.mapValue);default:throw He()}}function ST(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return tt(n,e);const t=Is(n),i=Is(e),s=tt(t.seconds,i.seconds);return s!==0?s:tt(t.nanos,i.nanos)}function AT(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=Yl(t[s],i[s]);if(l)return l}return tt(t.length,i.length)}function Xl(n){return uv(n)}function uv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Is(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ds(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=uv(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${uv(t.fields[c])}`;return s+"}"}(n.mapValue):He()}function Qh(n){switch(Ns(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ep(n);return e?16+Qh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ds(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+Qh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Us(i.fields,(l,c)=>{s+=l.length+Qh(c)}),s}(n.mapValue);default:throw He()}}function RT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cv(n){return!!n&&"integerValue"in n}function Jv(n){return!!n&&"arrayValue"in n}function CT(n){return!!n&&"nullValue"in n}function OT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yh(n){return!!n&&"mapValue"in n}function kM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vR])===null||t===void 0?void 0:t.stringValue)===_R}function Ic(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Us(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ic(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ic(n.arrayValue.values[t]);return e}return Object.assign({},n)}function UM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(t)}setAll(e){let t=Xn.emptyPath(),i={},s=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=h.popLast()}c?i[h.lastSegment()]=Ic(c):s.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());Yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Yh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Us(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new Er(Ic(this.value))}}function ER(n){const e=[];return Us(n.fields,(t,i)=>{const s=new Xn([t]);if(Yh(i)){const l=ER(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t,i,s,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new sr(e,0,Ke.min(),Ke.min(),Ke.min(),Er.empty(),0)}static newFoundDocument(e,t,i,s){return new sr(e,1,t,Ke.min(),i,s,0)}static newNoDocument(e,t){return new sr(e,2,t,Ke.min(),Ke.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new sr(e,3,t,Ke.min(),Ke.min(),Er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.position=e,this.inclusive=t}}function IT(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=Le.comparator(Le.fromName(c.referenceValue),t.key):i=Yl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function DT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function jM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{}class yn extends bR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new zM(e,t,i):t==="array-contains"?new HM(e,i):t==="in"?new $M(e,i):t==="not-in"?new GM(e,i):t==="array-contains-any"?new KM(e,i):new yn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new qM(e,i):new FM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Yl(t,this.value)):t!==null&&Ns(this.value)===Ns(t)&&this.matchesComparison(Yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends bR{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new gi(e,t)}matches(e){return TR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function TR(n){return n.op==="and"}function wR(n){return BM(n)&&TR(n)}function BM(n){for(const e of n.filters)if(e instanceof gi)return!1;return!0}function fv(n){if(n instanceof yn)return n.field.canonicalString()+n.op.toString()+Xl(n.value);if(wR(n))return n.filters.map(e=>fv(e)).join(",");{const e=n.filters.map(t=>fv(t)).join(",");return`${n.op}(${e})`}}function SR(n,e){return n instanceof yn?function(i,s){return s instanceof yn&&i.op===s.op&&i.field.isEqual(s.field)&&Yi(i.value,s.value)}(n,e):n instanceof gi?function(i,s){return s instanceof gi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,h)=>l&&SR(c,s.filters[h]),!0):!1}(n,e):void He()}function AR(n){return n instanceof yn?function(t){return`${t.field.canonicalString()} ${t.op} ${Xl(t.value)}`}(n):n instanceof gi?function(t){return t.op.toString()+" {"+t.getFilters().map(AR).join(" ,")+"}"}(n):"Filter"}class zM extends yn{constructor(e,t,i){super(e,t,i),this.key=Le.fromName(i.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class qM extends yn{constructor(e,t){super(e,"in",t),this.keys=RR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FM extends yn{constructor(e,t){super(e,"not-in",t),this.keys=RR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Le.fromName(i.referenceValue))}class HM extends yn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jv(t)&&Fc(t.arrayValue,this.value)}}class $M extends yn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fc(this.value.arrayValue,t)}}class GM extends yn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Fc(this.value.arrayValue,t)}}class KM extends yn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Fc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,t=null,i=[],s=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=h,this.le=null}}function NT(n,e=null,t=[],i=[],s=null,l=null,c=null){return new QM(n,e,t,i,s,l,c)}function e_(n){const e=Ye(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>fv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Jd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Xl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Xl(i)).join(",")),e.le=t}return e.le}function t_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DT(n.startAt,e.startAt)&&DT(n.endAt,e.endAt)}function hv(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t=null,i=[],s=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function YM(n,e,t,i,s,l,c,h){return new nf(n,e,t,i,s,l,c,h)}function n_(n){return new nf(n)}function xT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function CR(n){return n.collectionGroup!==null}function Dc(n){const e=Ye(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new In(Xn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new bd(l,i))}),t.has(Xn.keyField().canonicalString())||e.he.push(new bd(Xn.keyField(),i))}return e.he}function Fi(n){const e=Ye(n);return e.Pe||(e.Pe=XM(e,Dc(n))),e.Pe}function XM(n,e){if(n.limitType==="F")return NT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new bd(s.field,l)});const t=n.endAt?new Ed(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ed(n.startAt.position,n.startAt.inclusive):null;return NT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function dv(n,e){const t=n.filters.concat([e]);return new nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function pv(n,e,t){return new nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tp(n,e){return t_(Fi(n),Fi(e))&&n.limitType===e.limitType}function OR(n){return`${e_(Fi(n))}|lt:${n.limitType}`}function Nl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>AR(s)).join(", ")}]`),Jd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Xl(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Xl(s)).join(",")),`Target(${i})`}(Fi(n))}; limitType=${n.limitType})`}function np(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Le.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of Dc(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,h,p){const g=IT(c,h,p);return c.inclusive?g<=0:g<0}(i.startAt,Dc(i),s)||i.endAt&&!function(c,h,p){const g=IT(c,h,p);return c.inclusive?g>=0:g>0}(i.endAt,Dc(i),s))}(n,e)}function WM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IR(n){return(e,t)=>{let i=!1;for(const s of Dc(n)){const l=ZM(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function ZM(n,e,t){const i=n.field.isKeyField()?Le.comparator(e.key,t.key):function(l,c,h){const p=c.data.field(l),g=h.data.field(l);return p!==null&&g!==null?Yl(p,g):He()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return He()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return hR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new an(Le.comparator);function La(){return JM}const DR=new an(Le.comparator);function Sc(...n){let e=DR;for(const t of n)e=e.insert(t.key,t);return e}function NR(n){let e=DR;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Eo(){return Nc()}function xR(){return Nc()}function Nc(){return new ko(n=>n.toString(),(n,e)=>n.isEqual(e))}const e3=new an(Le.comparator),t3=new In(Le.comparator);function ct(...n){let e=t3;for(const t of n)e=e.add(t);return e}const n3=new In(tt);function r3(){return n3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(e)?"-0":e}}function PR(n){return{integerValue:""+n}}function i3(n,e){return NM(e)?PR(e):r_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(){this._=void 0}}function a3(n,e,t){return n instanceof Td?function(s,l){const c={fields:{[mR]:{stringValue:pR},[yR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Zv(l)&&(l=ep(l)),l&&(c.fields[gR]=l),{mapValue:c}}(t,e):n instanceof Wl?VR(n,e):n instanceof Zl?LR(n,e):function(s,l){const c=MR(s,l),h=PT(c)+PT(s.Ie);return cv(c)&&cv(s.Ie)?PR(h):r_(s.serializer,h)}(n,e)}function s3(n,e,t){return n instanceof Wl?VR(n,e):n instanceof Zl?LR(n,e):t}function MR(n,e){return n instanceof wd?function(i){return cv(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Td extends rp{}class Wl extends rp{constructor(e){super(),this.elements=e}}function VR(n,e){const t=kR(e);for(const i of n.elements)t.some(s=>Yi(s,i))||t.push(i);return{arrayValue:{values:t}}}class Zl extends rp{constructor(e){super(),this.elements=e}}function LR(n,e){let t=kR(e);for(const i of n.elements)t=t.filter(s=>!Yi(s,i));return{arrayValue:{values:t}}}class wd extends rp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function PT(n){return fn(n.integerValue||n.doubleValue)}function kR(n){return Jv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t){this.field=e,this.transform=t}}function o3(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Wl&&s instanceof Wl||i instanceof Zl&&s instanceof Zl?Ql(i.elements,s.elements,Yi):i instanceof wd&&s instanceof wd?Yi(i.Ie,s.Ie):i instanceof Td&&s instanceof Td}(n.transform,e.transform)}class l3{constructor(e,t){this.version=e,this.transformResults=t}}class Hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ip{}function jR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zR(n.key,Hi.none()):new rf(n.key,n.data,Hi.none());{const t=n.data,i=Er.empty();let s=new In(Xn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new js(n.key,i,new Lr(s.toArray()),Hi.none())}}function u3(n,e,t){n instanceof rf?function(s,l,c){const h=s.value.clone(),p=VT(s.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof js?function(s,l,c){if(!Xh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const h=VT(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(BR(s)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function xc(n,e,t,i){return n instanceof rf?function(l,c,h,p){if(!Xh(l.precondition,c))return h;const g=l.value.clone(),v=LT(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof js?function(l,c,h,p){if(!Xh(l.precondition,c))return h;const g=LT(l.fieldTransforms,p,c),v=c.data;return v.setAll(BR(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,c,h){return Xh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function c3(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=MR(i.transform,s||null);l!=null&&(t===null&&(t=Er.empty()),t.set(i.field,l))}return t||null}function MT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Ql(i,s,(l,c)=>o3(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class rf extends ip{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class js extends ip{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function BR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function VT(n,e,t){const i=new Map;xt(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,h=e.data.field(l.field);i.set(l.field,s3(c,h,t[s]))}return i}function LT(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,a3(l,c,e))}return i}class zR extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f3 extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&u3(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=xR();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(s.key)?null:h;const p=jR(c,h);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ct())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(t,i)=>MT(t,i))&&Ql(this.baseMutations,e.baseMutations,(t,i)=>MT(t,i))}}class i_{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){xt(e.mutations.length===i.length);let s=function(){return e3}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new i_(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,St;function m3(n){switch(n){case he.OK:return He();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return He()}}function qR(n){if(n===void 0)return Va("GRPC error has no .code"),he.UNKNOWN;switch(n){case gn.OK:return he.OK;case gn.CANCELLED:return he.CANCELLED;case gn.UNKNOWN:return he.UNKNOWN;case gn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case gn.INTERNAL:return he.INTERNAL;case gn.UNAVAILABLE:return he.UNAVAILABLE;case gn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case gn.NOT_FOUND:return he.NOT_FOUND;case gn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case gn.ABORTED:return he.ABORTED;case gn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case gn.DATA_LOSS:return he.DATA_LOSS;default:return He()}}(St=gn||(gn={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new Ss([4294967295,4294967295],0);function kT(n){const e=uR().encode(n),t=new nR;return t.update(e),new Uint8Array(t.digest())}function UT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ss([t,i],0),new Ss([s,l],0)]}class a_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ac(`Invalid padding: ${t}`);if(i<0)throw new Ac(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ss.fromNumber(this.Ee)}Ae(e,t,i){let s=e.add(t.multiply(Ss.fromNumber(i)));return s.compare(g3)===1&&(s=new Ss([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=kT(e),[i,s]=UT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,s,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new a_(l,s,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Ee===0)return;const t=kT(e),[i,s]=UT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,s,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,af.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ap(Ke.min(),s,new an(tt),La(),ct())}}class af{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new af(i,t,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t,i,s){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=s}}class FR{constructor(e,t){this.targetId=e,this.ge=t}}class HR{constructor(e,t,i=Wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class jT{constructor(){this.pe=0,this.ye=BT(),this.we=Wn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ct(),t=ct(),i=ct();return this.ye.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:He()}}),new af(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=BT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,xt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class y3{constructor(e){this.ke=e,this.qe=new Map,this.Qe=La(),this.$e=kh(),this.Ue=kh(),this.Ke=new an(tt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:He()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,i=e.ge.count,s=this.Xe(t);if(s){const l=s.target;if(hv(l))if(i===0){const c=new Le(l.path);this.ze(t,c,sr.newNoDocument(c,Ke.min()))}else xt(i===1);else{const c=this.et(t);if(c!==i){const h=this.tt(e),p=h?this.nt(h,e,c):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,h;try{c=Ds(i).toUint8Array()}catch(p){if(p instanceof dR)return Kl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new a_(c,s,l)}catch(p){return Kl(p instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.ke.it(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,l,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const h=this.Xe(c);if(h){if(l.current&&hv(h.target)){const p=new Le(h.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,sr.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=ct();this.Ue.forEach((l,c)=>{let h=!0;c.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const s=new ap(e,t,this.Ke,this.Qe,i);return this.Qe=La(),this.$e=kh(),this.Ue=kh(),this.Ke=new an(tt),s}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new jT,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new In(tt),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new In(tt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new jT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function kh(){return new an(Le.comparator)}function BT(){return new an(Le.comparator)}const v3={asc:"ASCENDING",desc:"DESCENDING"},_3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E3={and:"AND",or:"OR"};class b3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mv(n,e){return n.useProto3Json||Jd(e)?e:{value:e}}function Sd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $R(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function T3(n,e){return Sd(n,e.toTimestamp())}function $i(n){return xt(!!n),Ke.fromTimestamp(function(t){const i=Is(t);return new On(i.seconds,i.nanos)}(n))}function s_(n,e){return gv(n,e).canonicalString()}function gv(n,e){const t=function(s){return new Yt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function GR(n){const e=Yt.fromString(n);return xt(WR(e)),e}function yv(n,e){return s_(n.databaseId,e.path)}function Bg(n,e){const t=GR(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(QR(t))}function KR(n,e){return s_(n.databaseId,e)}function w3(n){const e=GR(n);return e.length===4?Yt.emptyPath():QR(e)}function vv(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QR(n){return xt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function zT(n,e,t){return{name:yv(n,e),fields:t.value.mapValue.fields}}function S3(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:He()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(xt(v===void 0||typeof v=="string"),Wn.fromBase64String(v||"")):(xt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Wn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(g){const v=g.code===void 0?he.UNKNOWN:qR(g.code);return new Re(v,g.message||"")}(c);t=new HR(i,s,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Bg(n,i.document.name),l=$i(i.document.updateTime),c=i.document.createTime?$i(i.document.createTime):Ke.min(),h=new Er({mapValue:{fields:i.document.fields}}),p=sr.newFoundDocument(s,l,c,h),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Wh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Bg(n,i.document),l=i.readTime?$i(i.readTime):Ke.min(),c=sr.newNoDocument(s,l),h=i.removedTargetIds||[];t=new Wh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Bg(n,i.document),l=i.removedTargetIds||[];t=new Wh([],l,s,null)}else{if(!("filter"in e))return He();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new p3(s,l),h=i.targetId;t=new FR(h,c)}}return t}function A3(n,e){let t;if(e instanceof rf)t={update:zT(n,e.key,e.value)};else if(e instanceof zR)t={delete:yv(n,e.key)};else if(e instanceof js)t={update:zT(n,e.key,e.data),updateMask:M3(e.fieldMask)};else{if(!(e instanceof f3))return He();t={verify:yv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof Td)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Wl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Zl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof wd)return{fieldPath:c.field.canonicalString(),increment:h.Ie};throw He()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:T3(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:He()}(n,e.precondition)),t}function R3(n,e){return n&&n.length>0?(xt(e!==void 0),n.map(t=>function(s,l){let c=s.updateTime?$i(s.updateTime):$i(l);return c.isEqual(Ke.min())&&(c=$i(l)),new l3(c,s.transformResults||[])}(t,e))):[]}function C3(n,e){return{documents:[KR(n,e.path)]}}function O3(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=KR(n,s);const l=function(g){if(g.length!==0)return XR(gi.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:xl(T.field),direction:N3(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=mv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:s}}function I3(n){let e=w3(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){xt(i===1);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const T=YR(b);return T instanceof gi&&wR(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(T=>function(O){return new bd(Pl(O.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(b){let T;return T=typeof b=="object"?b.value:b,Jd(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(b){const T=!!b.before,w=b.values||[];return new Ed(w,T)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const T=!b.before,w=b.values||[];return new Ed(w,T)}(t.endAt)),YM(e,s,c,l,h,"F",p,g)}function D3(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function YR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Pl(t.unaryFilter.field);return yn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Pl(t.unaryFilter.field);return yn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Pl(t.unaryFilter.field);return yn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Pl(t.unaryFilter.field);return yn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return He()}}(n):n.fieldFilter!==void 0?function(t){return yn.create(Pl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return He()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gi.create(t.compositeFilter.filters.map(i=>YR(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return He()}}(t.compositeFilter.op))}(n):He()}function N3(n){return v3[n]}function x3(n){return _3[n]}function P3(n){return E3[n]}function xl(n){return{fieldPath:n.canonicalString()}}function Pl(n){return Xn.fromServerFormat(n.fieldPath)}function XR(n){return n instanceof yn?function(t){if(t.op==="=="){if(OT(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NAN"}};if(CT(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OT(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NAN"}};if(CT(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(t.field),op:x3(t.op),value:t.value}}}(n):n instanceof gi?function(t){const i=t.getFilters().map(s=>XR(s));return i.length===1?i[0]:{compositeFilter:{op:P3(t.op),filters:i}}}(n):He()}function M3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,i,s,l=Ke.min(),c=Ke.min(),h=Wn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.Tt=e}}function L3(n){const e=I3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.Tn=new U3}addToCollectionParentIndex(e,t){return this.Tn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Os.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class U3{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new In(Yt.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new In(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZR=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(ZR,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Jl(0)}static Kn(){return new Jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="LruGarbageCollector",j3=1048576;function HT([n,e],[t,i]){const s=tt(n,t);return s===0?tt(e,i):s}class B3{constructor(e){this.Hn=e,this.buffer=new In(HT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();HT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class z3{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Te(FT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){uu(t)?Te(FT,"Ignoring IndexedDB error during garbage collection: ",t):await lu(t)}await this.er(3e5)})}}class q3{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(Zd.ae);const i=new B3(t);return this.tr.forEachTarget(e,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(qT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,s,l,c,h,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,c=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(i=b,h=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),Dl()<=ut.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:b})))}}function F3(n,e){return new q3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.changes=new ko(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&xc(i.mutation,s,Lr.empty(),On.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ct()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ct()){const s=Eo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=Sc();return l.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Eo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ct()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,s){let l=La();const c=Nc(),h=function(){return Nc()}();return t.forEach((p,g)=>{const v=i.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof js)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),xc(v.mutation,g,v.mutation.getFieldMask(),On.now())):c.set(g.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var b;return h.set(g,new $3(v,(b=c.get(g))!==null&&b!==void 0?b:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Nc();let s=new an((c,h)=>c-h),l=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||Lr.empty();v=h.applyToLocalView(g,v),i.set(p,v);const b=(s.get(h.batchId)||ct()).add(p);s=s.insert(h.batchId,b)})}).next(()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,v=p.value,b=xR();v.forEach(T=>{if(!l.has(T)){const w=jR(t.get(T),i.get(T));w!==null&&b.set(T,w),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return fe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return Le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):fe.resolve(Eo());let h=Bc,p=l;return c.next(g=>fe.forEach(g,(v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,ct())).next(v=>({batchId:h,changes:NR(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(i=>{let s=Sc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Sc();return this.indexManager.getCollectionParents(e,l).next(h=>fe.forEach(h,p=>{const g=function(b,T){return new nf(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next(v=>{v.forEach((b,T)=>{c=c.insert(b,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,sr.newInvalidDocument(v)))});let h=Sc();return c.forEach((p,g)=>{const v=l.get(p);v!==void 0&&xc(v.mutation,g,Lr.empty(),On.now()),np(t,g)&&(h=h.insert(p,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return fe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:$i(s.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:L3(s.bundledQuery),readTime:$i(s.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.overlays=new an(Le.comparator),this.Rr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Eo();return fe.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.Et(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const s=Eo(),l=t.length+1,c=new Le(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&s.set(p.getKey(),p)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new an((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Eo(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=Eo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>h.set(g,v)),!(h.size()>=s)););return fe.resolve(h)}Et(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new d3(t,i));let l=this.Rr.get(t);l===void 0&&(l=ct(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.Vr=new In(Un.mr),this.gr=new In(Un.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Un(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Un(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Le(new Yt([])),i=new Un(t,e),s=new Un(t,e+1),l=[];return this.gr.forEachInRange([i,s],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Le(new Yt([])),i=new Un(t,e),s=new Un(t,e+1);let l=ct();return this.gr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Un(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Un{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Le.comparator(e.key,t.key)||tt(e.Cr,t.Cr)}static pr(e,t){return tt(e.Cr,t.Cr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new In(Un.mr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new h3(l,t,i,s);this.mutationQueue.push(c);for(const h of s)this.Mr=this.Mr.add(new Un(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Nr(i),l=s<0?0:s;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Wv:this.Fr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Un(t,0),s=new Un(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,s],c=>{const h=this.Or(c.Cr);l.push(h)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(tt);return t.forEach(s=>{const l=new Un(s,0),c=new Un(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],h=>{i=i.add(h.Cr)})}),fe.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;Le.isDocumentKey(l)||(l=l.child(""));const c=new Un(new Le(l),0);let h=new In(tt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(h=h.add(p.Cr)),!0)},c),fe.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const s=this.Or(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){xt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return fe.forEach(t.mutations,s=>{const l=new Un(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Un(t,0),s=this.Mr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.kr=e,this.docs=function(){return new an(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():sr.newInvalidDocument(t))}getEntries(e,t){let i=La();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():sr.newInvalidDocument(s))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=La();const c=t.path,h=new Le(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||CM(RM(v),i)<=0||(s.has(v.key)||np(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,i,s){He()}qr(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Z3(this)}getSize(e){return fe.resolve(this.size)}}class Z3 extends H3{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.persistence=e,this.Qr=new ko(t=>e_(t),t_),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.$r=0,this.Ur=new o_,this.targetCount=0,this.Kr=Jl.Un()}forEachTarget(e,t){return this.Qr.forEach((i,s)=>t(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),fe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Jl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.zn(t),fe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.Qr.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),fe.waitFor(l).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Zd(0),this.zr=!1,this.zr=!0,this.jr=new Y3,this.referenceDelegate=e(this),this.Hr=new J3(this),this.indexManager=new k3,this.remoteDocumentCache=function(s){return new W3(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new V3(t),this.Yr=new K3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Q3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new X3(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Te("MemoryPersistence","Starting transaction:",e);const s=new e6(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(l=>this.referenceDelegate.Xr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}ei(e,t){return fe.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class e6 extends IM{constructor(e){super(),this.currentSequenceNumber=e}}class l_{constructor(e){this.persistence=e,this.ti=new o_,this.ni=null}static ri(e){return new l_(e)}get ii(){if(this.ni)return this.ni;throw He()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),fe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.ii,i=>{const s=Le.fromPath(i);return this.si(e,s).next(l=>{l||t.removeEntry(s,Ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return fe.or([()=>fe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ad{constructor(e,t){this.persistence=e,this.oi=new ko(i=>xM(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=F3(this,t)}static ri(e,t){return new Ad(e,t)}Zr(){}Xr(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return fe.forEach(this.oi,(i,s)=>this.ar(e,i,s).next(l=>l?fe.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.qr(e,c=>this.ar(e,c,t).next(h=>{h||(i++,l.removeEntry(c,Ke.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),fe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qh(e.data.value)),t}ar(e,t,i){return fe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return fe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=s}static Yi(e,t){let i=ct(),s=ct();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new u_(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return XP()?8:DM(or())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new t6;return this._s(e,t,c).next(h=>{if(l.result=h,this.Xi)return this.us(e,t,c,h.size)})}).next(()=>l.result)}us(e,t,i,s){return i.documentReadCount<this.es?(Dl()<=ut.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Nl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),fe.resolve()):(Dl()<=ut.DEBUG&&Te("QueryEngine","Query:",Nl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(Dl()<=ut.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Nl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(t))):fe.resolve())}rs(e,t){if(xT(t))return fe.resolve(null);let i=Fi(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=pv(t,null,"F"),i=Fi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ct(...l);return this.ns.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.cs(t,h);return this.ls(t,g,c,p.readTime)?this.rs(e,pv(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,i,s){return xT(t)||s.isEqual(Ke.min())?fe.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,s)?fe.resolve(null):(Dl()<=ut.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Nl(t)),this.hs(e,c,t,AM(s,Bc)).next(h=>h))})}cs(e,t){let i=new In(IR(e));return t.forEach((s,l)=>{np(e,l)&&(i=i.add(l))}),i}ls(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}_s(e,t,i){return Dl()<=ut.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Nl(t)),this.ns.getDocumentsMatchingQuery(e,t,Os.min(),i)}hs(e,t,i,s){return this.ns.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="LocalStore",r6=3e8;class i6{constructor(e,t,i,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new an(tt),this.Is=new ko(l=>e_(l),t_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G3(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function a6(n,e,t,i){return new i6(n,e,t,i)}async function e2(n,e){const t=Ye(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let p=ct();for(const g of s){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:h}))})})}function s6(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,p,g,v){const b=g.batch,T=b.keys();let w=fe.resolve();return T.forEach(O=>{w=w.next(()=>v.getEntry(p,O)).next(z=>{const R=g.docVersions.get(O);xt(R!==null),z.version.compareTo(R)<0&&(b.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))})}),w.next(()=>h.mutationQueue.removeMutationBatch(p,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=ct();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(p=p.add(h.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function t2(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function o6(n,e){const t=Ye(n),i=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const h=[];e.targetChanges.forEach((v,b)=>{const T=s.get(b);if(!T)return;h.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,b)));let w=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(Wn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,i)),s=s.insert(b,w),function(z,R,M){return z.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=r6?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(T,w,v)&&h.push(t.Hr.updateTargetData(l,w))});let p=La(),g=ct();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),h.push(l6(l,c,e.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!i.isEqual(Ke.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(b=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(v)}return fe.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=s,l))}function l6(n,e,t){let i=ct(),s=ct();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=La();return t.forEach((h,p)=>{const g=l.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(h)),p.isNoDocument()&&p.version.isEqual(Ke.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):Te(c_,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)}),{Vs:c,fs:s}})}function u6(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Wv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function c6(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Hr.getTargetData(i,e).next(l=>l?(s=l,fe.resolve(s)):t.Hr.allocateTargetId(i).next(c=>(s=new Es(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function _v(n,e,t){const i=Ye(n),s=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!uu(c))throw c;Te(c_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(s.target)}function $T(n,e,t){const i=Ye(n);let s=Ke.min(),l=ct();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const b=Ye(p),T=b.Is.get(v);return T!==void 0?fe.resolve(b.Ts.get(T)):b.Hr.getTargetData(g,v)}(i,c,Fi(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?s:Ke.min(),t?l:ct())).next(h=>(f6(i,WM(e),h),{documents:h,gs:l})))}function f6(n,e,t){let i=n.Es.get(e)||Ke.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class GT{constructor(){this.activeTargetIds=r3()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h6{constructor(){this.ho=new GT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new GT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="ConnectivityMonitor";class QT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Te(KT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Te(KT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=null;function Ev(){return Uh===null?Uh=function(){return 268435456+Math.round(2147483648*Math.random())}():Uh++,"0x"+Uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="RestConnection",p6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m6{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===vd?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(e,t,i,s,l){const c=Ev(),h=this.bo(e,t.toUriEncodedString());Te(zg,`Sending RPC '${e}' ${c}:`,h,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,s,l),this.vo(e,h,p,i).then(g=>(Te(zg,`Received RPC '${e}' ${c}: `,g),g),g=>{throw Kl(zg,`RPC '${e}' ${c} failed with error: `,g,"url: ",h,"request:",i),g})}Co(e,t,i,s,l,c){return this.So(e,t,i,s,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ou}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}bo(e,t){const i=p6[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="WebChannelConnection";class y6 extends m6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,s){const l=Ev();return new Promise((c,h)=>{const p=new rR;p.setWithCredentials(!0),p.listenOnce(iR.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Kh.NO_ERROR:const v=p.getResponseJson();Te(ir,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Kh.TIMEOUT:Te(ir,`RPC '${e}' ${l} timed out`),h(new Re(he.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const b=p.getStatus();if(Te(ir,`RPC '${e}' ${l} failed with status:`,b,"response text:",p.getResponseText()),b>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const w=T==null?void 0:T.error;if(w&&w.status&&w.message){const O=function(R){const M=R.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(M)>=0?M:he.UNKNOWN}(w.status);h(new Re(O,w.message))}else h(new Re(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Re(he.UNAVAILABLE,"Connection failed."));break;default:He()}}finally{Te(ir,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);Te(ir,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",g,i,15)})}Wo(e,t,i){const s=Ev(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=oR(),h=sR(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");Te(ir,`Creating RPC '${e}' stream ${s}: ${v}`,p);const b=c.createWebChannel(v,p);let T=!1,w=!1;const O=new g6({Fo:R=>{w?Te(ir,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(T||(Te(ir,`Opening RPC '${e}' stream ${s} transport.`),b.open(),T=!0),Te(ir,`RPC '${e}' stream ${s} sending:`,R),b.send(R))},Mo:()=>b.close()}),z=(R,M,k)=>{R.listen(M,G=>{try{k(G)}catch(Z){setTimeout(()=>{throw Z},0)}})};return z(b,wc.EventType.OPEN,()=>{w||(Te(ir,`RPC '${e}' stream ${s} transport opened.`),O.Qo())}),z(b,wc.EventType.CLOSE,()=>{w||(w=!0,Te(ir,`RPC '${e}' stream ${s} transport closed`),O.Uo())}),z(b,wc.EventType.ERROR,R=>{w||(w=!0,Kl(ir,`RPC '${e}' stream ${s} transport errored:`,R),O.Uo(new Re(he.UNAVAILABLE,"The operation could not be completed")))}),z(b,wc.EventType.MESSAGE,R=>{var M;if(!w){const k=R.data[0];xt(!!k);const G=k,Z=(G==null?void 0:G.error)||((M=G[0])===null||M===void 0?void 0:M.error);if(Z){Te(ir,`RPC '${e}' stream ${s} received error:`,Z);const N=Z.status;let re=function(I){const x=gn[I];if(x!==void 0)return qR(x)}(N),D=Z.message;re===void 0&&(re=he.INTERNAL,D="Unknown error status: "+N+" with message "+Z.message),w=!0,O.Uo(new Re(re,D)),b.close()}else Te(ir,`RPC '${e}' stream ${s} received:`,k),O.Ko(k)}}),z(h,aR.STAT_EVENT,R=>{R.stat===ov.PROXY?Te(ir,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===ov.NOPROXY&&Te(ir,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(n){return new b3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=s,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-i);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="PersistentStream";class r2{constructor(e,t,i,s,l,c,h,p){this.Ti=e,this.n_=i,this.r_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new n2(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Va(t.toString()),Va("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===t&&this.V_(i,s)},i=>{e(()=>{const s=new Re(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Te(YT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Te(YT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v6 extends r2{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=S3(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ke.min():c.readTime?$i(c.readTime):Ke.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=vv(this.serializer),t.addTarget=function(l,c){let h;const p=c.target;if(h=hv(p)?{documents:C3(l,p)}:{query:O3(l,p).ht},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=$R(l,c.resumeToken);const g=mv(l,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ke.min())>0){h.readTime=Sd(l,c.snapshotVersion.toTimestamp());const g=mv(l,c.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const i=D3(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=vv(this.serializer),t.removeTarget=e,this.I_(t)}}class _6 extends r2{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return xt(!!e.streamToken),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=R3(e.writeResults,e.commitTime),i=$i(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=vv(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>A3(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{}class b6 extends E6{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,gv(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(he.UNKNOWN,l.toString())})}Co(e,t,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Co(e,gv(t,i),s,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(he.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class T6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Va(t),this.N_=!1):Te("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="RemoteStore";class w6{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Uo(this)&&(Te(Io,"Restarting streams for network reachability change."),await async function(p){const g=Ye(p);g.W_.add(4),await sf(g),g.j_.set("Unknown"),g.W_.delete(4),await op(g)}(this))})}),this.j_=new T6(i,s)}}async function op(n){if(Uo(n))for(const e of n.G_)await e(!0)}async function sf(n){for(const e of n.G_)await e(!1)}function i2(n,e){const t=Ye(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),p_(t)?d_(t):cu(t).c_()&&h_(t,e))}function f_(n,e){const t=Ye(n),i=cu(t);t.K_.delete(e),i.c_()&&a2(t,e),t.K_.size===0&&(i.c_()?i.P_():Uo(t)&&t.j_.set("Unknown"))}function h_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cu(n).y_(e)}function a2(n,e){n.H_.Ne(e),cu(n).w_(e)}function d_(n){n.H_=new y3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),cu(n).start(),n.j_.B_()}function p_(n){return Uo(n)&&!cu(n).u_()&&n.K_.size>0}function Uo(n){return Ye(n).W_.size===0}function s2(n){n.H_=void 0}async function S6(n){n.j_.set("Online")}async function A6(n){n.K_.forEach((e,t)=>{h_(n,e)})}async function R6(n,e){s2(n),p_(n)?(n.j_.q_(e),d_(n)):n.j_.set("Unknown")}async function C6(n,e,t){if(n.j_.set("Online"),e instanceof HR&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const h of l.targetIds)s.K_.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s.K_.delete(h),s.H_.removeTarget(h))}(n,e)}catch(i){Te(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Rd(n,i)}else if(e instanceof Wh?n.H_.We(e):e instanceof FR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ke.min()))try{const i=await t2(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.H_.ot(c);return h.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.K_.get(g);v&&l.K_.set(g,v.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,g)=>{const v=l.K_.get(p);if(!v)return;l.K_.set(p,v.withResumeToken(Wn.EMPTY_BYTE_STRING,v.snapshotVersion)),a2(l,p);const b=new Es(v.target,p,g,v.sequenceNumber);h_(l,b)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){Te(Io,"Failed to raise snapshot:",i),await Rd(n,i)}}async function Rd(n,e,t){if(!uu(e))throw e;n.W_.add(1),await sf(n),n.j_.set("Offline"),t||(t=()=>t2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Te(Io,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await op(n)})}function o2(n,e){return e().catch(t=>Rd(n,t,e))}async function lp(n){const e=Ye(n),t=xs(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:Wv;for(;O6(e);)try{const s=await u6(e.localStore,i);if(s===null){e.U_.length===0&&t.P_();break}i=s.batchId,I6(e,s)}catch(s){await Rd(e,s)}l2(e)&&u2(e)}function O6(n){return Uo(n)&&n.U_.length<10}function I6(n,e){n.U_.push(e);const t=xs(n);t.c_()&&t.S_&&t.b_(e.mutations)}function l2(n){return Uo(n)&&!xs(n).u_()&&n.U_.length>0}function u2(n){xs(n).start()}async function D6(n){xs(n).C_()}async function N6(n){const e=xs(n);for(const t of n.U_)e.b_(t.mutations)}async function x6(n,e,t){const i=n.U_.shift(),s=i_.from(i,e,t);await o2(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await lp(n)}async function P6(n,e){e&&xs(n).S_&&await async function(i,s){if(function(c){return m3(c)&&c!==he.ABORTED}(s.code)){const l=i.U_.shift();xs(i).h_(),await o2(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await lp(i)}}(n,e),l2(n)&&u2(n)}async function XT(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Te(Io,"RemoteStore received new credentials");const i=Uo(t);t.W_.add(3),await sf(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await op(t)}async function M6(n,e){const t=Ye(n);e?(t.W_.delete(2),await op(t)):e||(t.W_.add(2),await sf(t),t.j_.set("Unknown"))}function cu(n){return n.J_||(n.J_=function(t,i,s){const l=Ye(t);return l.M_(),new v6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:S6.bind(null,n),No:A6.bind(null,n),Lo:R6.bind(null,n),p_:C6.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),p_(n)?d_(n):n.j_.set("Unknown")):(await n.J_.stop(),s2(n))})),n.J_}function xs(n){return n.Y_||(n.Y_=function(t,i,s){const l=Ye(t);return l.M_(),new _6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:D6.bind(null,n),Lo:P6.bind(null,n),D_:N6.bind(null,n),v_:x6.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await lp(n)):(await n.Y_.stop(),n.U_.length>0&&(Te(Io,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,h=new m_(e,t,c,s,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g_(n,e){if(Va("AsyncQueue",`${e}: ${n}`),uu(n))return new Re(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Le.comparator(t.key,i.key):(t,i)=>Le.comparator(t.key,i.key),this.keyedMap=Sc(),this.sortedSet=new an(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ul;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.Z_=new an(Le.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):He():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class eu{constructor(e,t,i,s,l,c,h,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new eu(e,t,Ul.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class L6{constructor(){this.queries=ZT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const s=Ye(t),l=s.queries;s.queries=ZT(),l.forEach((c,h)=>{for(const p of h.ta)p.onError(i)})})(this,new Re(he.ABORTED,"Firestore shutting down"))}}function ZT(){return new ko(n=>OR(n),tp)}async function c2(n,e){const t=Ye(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.na()&&e.ra()&&(i=2):(l=new V6,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(s,!0);break;case 1:l.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const h=g_(c,`Initialization of query '${Nl(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&y_(t)}async function f2(n,e){const t=Ye(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?s=e.ra()?0:1:!l.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function k6(n,e){const t=Ye(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const h of c.ta)h.oa(s)&&(i=!0);c.ea=s}}i&&y_(t)}function U6(n,e,t){const i=Ye(n),s=i.queries.get(e);if(s)for(const l of s.ta)l.onError(t);i.queries.delete(e)}function y_(n){n.ia.forEach(e=>{e.next()})}var bv,JT;(JT=bv||(bv={}))._a="default",JT.Cache="cache";class h2{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new eu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==bv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.key=e}}class p2{constructor(e){this.key=e}}class j6{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ct(),this.mutatedKeys=ct(),this.ya=IR(e),this.wa=new Ul(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new WT,s=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,h=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,b)=>{const T=s.get(v),w=np(this.query,b)?b:null,O=!!T&&this.mutatedKeys.has(T.key),z=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;T&&w?T.data.isEqual(w.data)?O!==z&&(i.track({type:3,doc:w}),R=!0):this.va(T,w)||(i.track({type:2,doc:w}),R=!0,(p&&this.ya(w,p)>0||g&&this.ya(w,g)<0)&&(h=!0)):!T&&w?(i.track({type:0,doc:w}),R=!0):T&&!w&&(i.track({type:1,doc:T}),R=!0,(p||g)&&(h=!0)),R&&(w?(c=c.add(w),l=z?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:h,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,b)=>function(w,O){const z=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He()}};return z(w)-z(O)}(v.type,b.type)||this.ya(v.doc,b.doc)),this.Ca(i),s=s!=null&&s;const h=t&&!s?this.Fa():[],p=this.pa.size===0&&this.current&&!s?1:0,g=p!==this.ga;return this.ga=p,c.length!==0||g?{snapshot:new eu(this.query,e.wa,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new WT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ct(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new p2(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new d2(i))}),t}Oa(e){this.fa=e.gs,this.pa=ct();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return eu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const v_="SyncEngine";class B6{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class z6{constructor(e){this.key=e,this.Ba=!1}}class q6{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ko(h=>OR(h),tp),this.qa=new Map,this.Qa=new Set,this.$a=new an(Le.comparator),this.Ua=new Map,this.Ka=new o_,this.Wa={},this.Ga=new Map,this.za=Jl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function F6(n,e,t=!0){const i=E2(n);let s;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Na()):s=await m2(i,e,t,!0),s}async function H6(n,e){const t=E2(n);await m2(t,e,!0,!1)}async function m2(n,e,t,i){const s=await c6(n.localStore,Fi(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await $6(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&i2(n.remoteStore,s),h}async function $6(n,e,t,i,s){n.Ha=(b,T,w)=>async function(z,R,M,k){let G=R.view.ba(M);G.ls&&(G=await $T(z.localStore,R.query,!1).then(({documents:D})=>R.view.ba(D,G)));const Z=k&&k.targetChanges.get(R.targetId),N=k&&k.targetMismatches.get(R.targetId)!=null,re=R.view.applyChanges(G,z.isPrimaryClient,Z,N);return tw(z,R.targetId,re.Ma),re.snapshot}(n,b,T,w);const l=await $T(n.localStore,e,!0),c=new j6(e,l.gs),h=c.ba(l.documents),p=af.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),g=c.applyChanges(h,n.isPrimaryClient,p);tw(n,t,g.Ma);const v=new B6(e,t,c);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function G6(n,e,t){const i=Ye(n),s=i.ka.get(e),l=i.qa.get(s.targetId);if(l.length>1)return i.qa.set(s.targetId,l.filter(c=>!tp(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await _v(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&f_(i.remoteStore,s.targetId),Tv(i,s.targetId)}).catch(lu)):(Tv(i,s.targetId),await _v(i.localStore,s.targetId,!0))}async function K6(n,e){const t=Ye(n),i=t.ka.get(e),s=t.qa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),f_(t.remoteStore,i.targetId))}async function Q6(n,e,t){const i=t9(n);try{const s=await function(c,h){const p=Ye(c),g=On.now(),v=h.reduce((w,O)=>w.add(O.key),ct());let b,T;return p.persistence.runTransaction("Locally write mutations","readwrite",w=>{let O=La(),z=ct();return p.ds.getEntries(w,v).next(R=>{O=R,O.forEach((M,k)=>{k.isValidDocument()||(z=z.add(M))})}).next(()=>p.localDocuments.getOverlayedDocuments(w,O)).next(R=>{b=R;const M=[];for(const k of h){const G=c3(k,b.get(k.key).overlayedDocument);G!=null&&M.push(new js(k.key,G,ER(G.value.mapValue),Hi.exists(!0)))}return p.mutationQueue.addMutationBatch(w,g,M,h)}).next(R=>{T=R;const M=R.applyToLocalDocumentSet(b,z);return p.documentOverlayCache.saveOverlays(w,R.batchId,M)})}).then(()=>({batchId:T.batchId,changes:NR(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,h,p){let g=c.Wa[c.currentUser.toKey()];g||(g=new an(tt)),g=g.insert(h,p),c.Wa[c.currentUser.toKey()]=g}(i,s.batchId,t),await of(i,s.changes),await lp(i.remoteStore)}catch(s){const l=g_(s,"Failed to persist write");t.reject(l)}}async function g2(n,e){const t=Ye(n);try{const i=await o6(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Ua.get(l);c&&(xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Ba=!0:s.modifiedDocuments.size>0?xt(c.Ba):s.removedDocuments.size>0&&(xt(c.Ba),c.Ba=!1))}),await of(t,i,e)}catch(i){await lu(i)}}function ew(n,e,t){const i=Ye(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ka.forEach((l,c)=>{const h=c.view.sa(e);h.snapshot&&s.push(h.snapshot)}),function(c,h){const p=Ye(c);p.onlineState=h;let g=!1;p.queries.forEach((v,b)=>{for(const T of b.ta)T.sa(h)&&(g=!0)}),g&&y_(p)}(i.eventManager,e),s.length&&i.La.p_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Y6(n,e,t){const i=Ye(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ua.get(e),l=s&&s.key;if(l){let c=new an(Le.comparator);c=c.insert(l,sr.newNoDocument(l,Ke.min()));const h=ct().add(l),p=new ap(Ke.min(),new Map,new an(tt),c,h);await g2(i,p),i.$a=i.$a.remove(l),i.Ua.delete(e),__(i)}else await _v(i.localStore,e,!1).then(()=>Tv(i,e,t)).catch(lu)}async function X6(n,e){const t=Ye(n),i=e.batch.batchId;try{const s=await s6(t.localStore,e);v2(t,i,null),y2(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await of(t,s)}catch(s){await lu(s)}}async function W6(n,e,t){const i=Ye(n);try{const s=await function(c,h){const p=Ye(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,h).next(b=>(xt(b!==null),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);v2(i,e,t),y2(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await of(i,s)}catch(s){await lu(s)}}function y2(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function v2(n,e,t){const i=Ye(n);let s=i.Wa[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Wa[i.currentUser.toKey()]=s}}function Tv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||_2(n,i)})}function _2(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(f_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),__(n))}function tw(n,e,t){for(const i of t)i instanceof d2?(n.Ka.addReference(i.key,e),Z6(n,i)):i instanceof p2?(Te(v_,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||_2(n,i.key)):He()}function Z6(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Te(v_,"New document in limbo: "+t),n.Qa.add(i),__(n))}function __(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Le(Yt.fromString(e)),i=n.za.next();n.Ua.set(i,new z6(t)),n.$a=n.$a.insert(t,i),i2(n.remoteStore,new Es(Fi(n_(t.path)),i,"TargetPurposeLimboResolution",Zd.ae))}}async function of(n,e,t){const i=Ye(n),s=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((h,p)=>{c.push(i.Ha(p,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){s.push(g);const b=u_.Yi(p.targetId,g);l.push(b)}}))}),await Promise.all(c),i.La.p_(s),await async function(p,g){const v=Ye(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>fe.forEach(g,T=>fe.forEach(T.Hi,w=>v.persistence.referenceDelegate.addReference(b,T.targetId,w)).next(()=>fe.forEach(T.Ji,w=>v.persistence.referenceDelegate.removeReference(b,T.targetId,w)))))}catch(b){if(!uu(b))throw b;Te(c_,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const w=v.Ts.get(T),O=w.snapshotVersion,z=w.withLastLimboFreeSnapshotVersion(O);v.Ts=v.Ts.insert(T,z)}}}(i.localStore,l))}async function J6(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Te(v_,"User change. New user:",e.toKey());const i=await e2(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(h=>{h.forEach(p=>{p.reject(new Re(he.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await of(t,i.Rs)}}function e9(n,e){const t=Ye(n),i=t.Ua.get(e);if(i&&i.Ba)return ct().add(i.key);{let s=ct();const l=t.qa.get(e);if(!l)return s;for(const c of l){const h=t.ka.get(c);s=s.unionWith(h.view.Sa)}return s}}function E2(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=g2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y6.bind(null,e),e.La.p_=k6.bind(null,e.eventManager),e.La.Ja=U6.bind(null,e.eventManager),e}function t9(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W6.bind(null,e),e}class Cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return a6(this.persistence,new n6,e.initialUser,this.serializer)}Xa(e){return new JR(l_.ri,this.serializer)}Za(e){return new h6}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cd.provider={build:()=>new Cd};class n9 extends Cd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){xt(this.persistence.referenceDelegate instanceof Ad);const i=this.persistence.referenceDelegate.garbageCollector;return new z3(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new JR(i=>Ad.ri(i,t),this.serializer)}}class wv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ew(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=J6.bind(null,this.syncEngine),await M6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L6}()}createDatastore(e){const t=sp(e.databaseInfo.databaseId),i=function(l){return new y6(l)}(e.databaseInfo);return function(l,c,h,p){return new b6(l,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,h){return new w6(i,s,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>ew(this.syncEngine,t,0),function(){return QT.D()?new QT:new d6}())}createSyncEngine(e,t){return function(s,l,c,h,p,g,v){const b=new q6(s,l,c,h,p,g);return v&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Ye(s);Te(Io,"RemoteStore shutting down."),l.W_.add(5),await sf(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}wv.provider={build:()=>new wv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Va("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class r9{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=ar.UNAUTHENTICATED,this.clientId=cR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Te(Ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Te(Ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=g_(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Fg(n,e){n.asyncQueue.verifyOperationInProgress(),Te(Ps,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await e2(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function nw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await i9(n);Te(Ps,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>XT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>XT(e.remoteStore,s)),n._onlineComponents=e}async function i9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(Ps,"Using user provided OfflineComponentProvider");try{await Fg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Kl("Error using user provided cache. Falling back to memory cache: "+t),await Fg(n,new Cd)}}else Te(Ps,"Using default OfflineComponentProvider"),await Fg(n,new n9(void 0));return n._offlineComponents}async function T2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(Ps,"Using user provided OnlineComponentProvider"),await nw(n,n._uninitializedComponentsProvider._online)):(Te(Ps,"Using default OnlineComponentProvider"),await nw(n,new wv))),n._onlineComponents}function a9(n){return T2(n).then(e=>e.syncEngine)}async function w2(n){const e=await T2(n),t=e.eventManager;return t.onListen=F6.bind(null,e.syncEngine),t.onUnlisten=G6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=H6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=K6.bind(null,e.syncEngine),t}function s9(n,e,t={}){const i=new Da;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,g){const v=new b2({next:T=>{v.su(),c.enqueueAndForget(()=>f2(l,b));const w=T.docs.has(h);!w&&T.fromCache?g.reject(new Re(he.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&T.fromCache&&p&&p.source==="server"?g.reject(new Re(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new h2(n_(h.path),v,{includeMetadataChanges:!0,Ta:!0});return c2(l,b)}(await w2(n),n.asyncQueue,e,t,i)),i.promise}function o9(n,e,t={}){const i=new Da;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,g){const v=new b2({next:T=>{v.su(),c.enqueueAndForget(()=>f2(l,b)),T.fromCache&&p.source==="server"?g.reject(new Re(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new h2(h,v,{includeMetadataChanges:!0,Ta:!0});return c2(l,b)}(await w2(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(n,e,t){if(!t)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function l9(n,e,t,i){if(e===!0&&i===!0)throw new Re(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iw(n){if(!Le.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aw(n){if(Le.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function up(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":He()}function ka(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=up(n);throw new Re(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="firestore.googleapis.com",sw=!0;class ow{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R2,this.ssl=sw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:sw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j3)throw new Re(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S2((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ow({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ow(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new gM;switch(i.type){case"firstParty":return new EM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Re(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=rw.get(t);i&&(Te("ComponentProvider","Removing Datastore"),rw.delete(t),i.terminate())}(this),Promise.resolve()}}function u9(n,e,t,i={}){var s;const l=(n=ka(n,cp))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;l.host!==R2&&l.host!==h&&Kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:h,ssl:!1,emulatorOptions:i});if(!Pa(p,c)&&(n._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=ar.MOCK_USER;else{g=FP(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Re(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ar(b)}n._authCredentials=new yM(new lR(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fu(this.firestore,e,this._query)}}class dr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class As extends fu{constructor(e,t,i){super(e,t,n_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new Le(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function lw(n,e,...t){if(n=jn(n),A2("collection","path",e),n instanceof cp){const i=Yt.fromString(e,...t);return aw(i),new As(n,null,i)}{if(!(n instanceof dr||n instanceof As))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yt.fromString(e,...t));return aw(i),new As(n.firestore,null,i)}}function jl(n,e,...t){if(n=jn(n),arguments.length===1&&(e=cR.newId()),A2("doc","path",e),n instanceof cp){const i=Yt.fromString(e,...t);return iw(i),new dr(n,null,new Le(i))}{if(!(n instanceof dr||n instanceof As))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yt.fromString(e,...t));return iw(i),new dr(n.firestore,n instanceof As?n.converter:null,new Le(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="AsyncQueue";class cw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new n2(this,"async_queue_retry"),this.Su=()=>{const i=qg();i&&Te(uw,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=qg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=qg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Da;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!uu(e))throw e;Te(uw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const s=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw Va("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=m_.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(s),s}Du(){this.gu&&He()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class lf extends cp{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new cw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cw(e),this._firestoreClient=void 0,await e}}}function c9(n,e){const t=typeof n=="object"?n:JA(),i=typeof n=="string"?n:vd,s=Yv(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=zP("firestore");l&&u9(s,...l)}return s}function E_(n){if(n._terminated)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||f9(n),n._firestoreClient}function f9(n){var e,t,i;const s=n._freezeSettings(),l=function(h,p,g,v){return new VM(h,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,S2(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new r9(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tu(Wn.fromBase64String(e))}catch(t){throw new Re(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tu(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=/^__.*__$/;class d9{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,t,this.fieldTransforms):new rf(e,this.data,t,this.fieldTransforms)}}class C2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function O2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He()}}class hp{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.$u(e),s}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Od(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(O2(this.Lu)&&h9.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class p9{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||sp(e)}ju(e,t,i,s=!1){return new hp({Lu:e,methodName:t,zu:i,path:Xn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function w_(n){const e=n._freezeSettings(),t=sp(n._databaseId);return new p9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function m9(n,e,t,i,s,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,s);R_("Data must be an object, but it was:",c,i);const h=D2(i,c);let p,g;if(l.merge)p=new Lr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const T=Sv(e,b,t);if(!c.contains(T))throw new Re(he.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);x2(v,T)||v.push(T)}p=new Lr(v),g=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=c.fieldTransforms;return new d9(new Er(h),p,g)}class dp extends uf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dp}}function I2(n,e,t){return new hp({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class S_ extends uf{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=I2(this,e,!0),i=this.Hu.map(l=>jo(l,t)),s=new Wl(i);return new UR(e.path,s)}isEqual(e){return e instanceof S_&&Pa(this.Hu,e.Hu)}}class A_ extends uf{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=I2(this,e,!0),i=this.Hu.map(l=>jo(l,t)),s=new Zl(i);return new UR(e.path,s)}isEqual(e){return e instanceof A_&&Pa(this.Hu,e.Hu)}}function g9(n,e,t,i){const s=n.ju(1,e,t);R_("Data must be an object, but it was:",s,i);const l=[],c=Er.empty();Us(i,(p,g)=>{const v=C_(e,p,t);g=jn(g);const b=s.Uu(v);if(g instanceof dp)l.push(v);else{const T=jo(g,b);T!=null&&(l.push(v),c.set(v,T))}});const h=new Lr(l);return new C2(c,h,s.fieldTransforms)}function y9(n,e,t,i,s,l){const c=n.ju(1,e,t),h=[Sv(e,i,t)],p=[s];if(l.length%2!=0)throw new Re(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(Sv(e,l[T])),p.push(l[T+1]);const g=[],v=Er.empty();for(let T=h.length-1;T>=0;--T)if(!x2(g,h[T])){const w=h[T];let O=p[T];O=jn(O);const z=c.Uu(w);if(O instanceof dp)g.push(w);else{const R=jo(O,z);R!=null&&(g.push(w),v.set(w,R))}}const b=new Lr(g);return new C2(v,b,c.fieldTransforms)}function v9(n,e,t,i=!1){return jo(t,n.ju(i?4:3,e))}function jo(n,e){if(N2(n=jn(n)))return R_("Unsupported field value:",e,n),D2(n,e);if(n instanceof uf)return function(i,s){if(!O2(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const h of i){let p=jo(h,s.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=jn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return i3(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=On.fromDate(i);return{timestampValue:Sd(s.serializer,l)}}if(i instanceof On){const l=new On(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sd(s.serializer,l)}}if(i instanceof b_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof tu)return{bytesValue:$R(s.serializer,i._byteString)};if(i instanceof dr){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:s_(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof T_)return function(c,h){return{mapValue:{fields:{[vR]:{stringValue:_R},[_d]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw h.Wu("VectorValues must only contain numeric values.");return r_(h.serializer,g)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${up(i)}`)}(n,e)}function D2(n,e){const t={};return hR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(n,(i,s)=>{const l=jo(s,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function N2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof On||n instanceof b_||n instanceof tu||n instanceof dr||n instanceof uf||n instanceof T_)}function R_(n,e,t){if(!N2(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=up(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Sv(n,e,t){if((e=jn(e))instanceof fp)return e._internalPath;if(typeof e=="string")return C_(n,e);throw Od("Field path arguments must be of type string or ",n,!1,void 0,t)}const _9=new RegExp("[~\\*/\\[\\]]");function C_(n,e,t){if(e.search(_9)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fp(...e.split("."))._internalPath}catch{throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Od(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new Re(he.INVALID_ARGUMENT,h+n+p)}function x2(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(O_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class E9 extends P2{data(){return super.data()}}function O_(n,e){return typeof e=="string"?C_(n,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Re(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I_{}class T9 extends I_{}function Hg(n,e,...t){let i=[];e instanceof I_&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof D_).length,h=l.filter(p=>p instanceof pp).length;if(c>1||c>0&&h>0)throw new Re(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class pp extends T9{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new pp(e,t,i)}_apply(e){const t=this._parse(e);return M2(e._query,t),new fu(e.firestore,e.converter,dv(e._query,t))}_parse(e){const t=w_(e.firestore);return function(l,c,h,p,g,v,b){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Re(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){hw(b,v);const O=[];for(const z of b)O.push(fw(p,l,z));T={arrayValue:{values:O}}}else T=fw(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||hw(b,v),T=v9(h,c,b,v==="in"||v==="not-in");return yn.create(g,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $g(n,e,t){const i=e,s=O_("where",n);return pp._create(s,i,t)}class D_ extends I_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new D_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:gi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const h=l.getFlattenedFilters();for(const p of h)M2(c,p),c=dv(c,p)}(e._query,t),new fu(e.firestore,e.converter,dv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fw(n,e,t){if(typeof(t=jn(t))=="string"){if(t==="")throw new Re(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CR(e)&&t.indexOf("/")!==-1)throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Yt.fromString(t));if(!Le.isDocumentKey(i))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return RT(n,new Le(i))}if(t instanceof dr)return RT(n,t._key);throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${up(t)}.`)}function hw(n,e){if(!Array.isArray(n)||n.length===0)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M2(n,e){const t=function(s,l){for(const c of s)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Re(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class w9{convertValue(e,t="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw He()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Us(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[_d].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>fn(c.doubleValue));return new T_(l)}convertGeoPoint(e){return new b_(fn(e.latitude),fn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ep(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const t=Is(e);return new On(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Yt.fromString(e);xt(WR(i));const s=new qc(i.get(1),i.get(3)),l=new Le(i.popFirst(5));return s.isEqual(t)||Va(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class V2 extends P2{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(O_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Zh extends V2{data(e={}){return super.data(e)}}class A9{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Rc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Zh(this._firestore,this._userDataWriter,i.key,i,new Rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(h=>{const p=new Zh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Rc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const p=new Zh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Rc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:R9(h.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function R9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(n){n=ka(n,dr);const e=ka(n.firestore,lf);return s9(E_(e),n._key).then(t=>O9(e,n,t))}class L2 extends w9{constructor(e){super(),this.firestore=e}convertBytes(e){return new tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}function dw(n){n=ka(n,fu);const e=ka(n.firestore,lf),t=E_(e),i=new L2(e);return b9(n._query),o9(t,n._query).then(s=>new A9(e,i,n,s))}function C9(n,e,t){n=ka(n,dr);const i=ka(n.firestore,lf),s=S9(n.converter,e);return k2(i,[m9(w_(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Hi.none())])}function pw(n,e,t,...i){n=ka(n,dr);const s=ka(n.firestore,lf),l=w_(s);let c;return c=typeof(e=jn(e))=="string"||e instanceof fp?y9(l,"updateDoc",n._key,e,t,i):g9(l,"updateDoc",n._key,e),k2(s,[c.toMutation(n._key,Hi.exists(!0))])}function k2(n,e){return function(i,s){const l=new Da;return i.asyncQueue.enqueueAndForget(async()=>Q6(await a9(i),s,l)),l.promise}(E_(n),e)}function O9(n,e,t){const i=t.docs.get(e._key),s=new L2(n);return new V2(n,s,e._key,i,new Rc(t.hasPendingWrites,t.fromCache),e.converter)}function I9(...n){return new S_("arrayUnion",n)}function D9(...n){return new A_("arrayRemove",n)}(function(e,t=!0){(function(s){ou=s})(su),Gl(new Co("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new lf(new vM(i.getProvider("auth-internal")),new bM(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Re(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(g.options.projectId,v)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),ws(pT,mT,e),ws(pT,mT,"esm2017")})();function N_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function U2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N9=U2,j2=new ef("auth","Firebase",U2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new Kv("@firebase/auth");function x9(n,...e){Dd.logLevel<=ut.WARN&&Dd.warn(`Auth (${su}): ${n}`,...e)}function Jh(n,...e){Dd.logLevel<=ut.ERROR&&Dd.error(`Auth (${su}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n,...e){throw x_(n,...e)}function Gi(n,...e){return x_(n,...e)}function B2(n,e,t){const i=Object.assign(Object.assign({},N9()),{[e]:t});return new ef("auth","Firebase",i).create(e,{appName:n.name})}function Na(n){return B2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return j2.create(n,...e)}function Be(n,e,...t){if(!n)throw x_(e,...t)}function Aa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jh(e),new Error(e)}function Ua(n,e){n||Aa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function P9(){return mw()==="http:"||mw()==="https:"}function mw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P9()||KP()||"connection"in navigator)?navigator.onLine:!0}function V9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ua(t>e,"Short delay should be less than long delay!"),this.isMobile=HP()||QP()}get(){return M9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(n,e){Ua(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=new cf(3e4,6e4);function Bs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function za(n,e,t,i,s={}){return q2(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=tf(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return GP()||(g.referrerPolicy="no-referrer"),z2.fetch()(F2(n,n.config.apiHost,t,h),g)})}async function q2(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},L9),e);try{const s=new j9(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw jh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,g]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw jh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw jh(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw B2(n,v,g);yi(n,v)}}catch(s){if(s instanceof Ba)throw s;yi(n,"network-request-failed",{message:String(s)})}}async function ff(n,e,t,i,s={}){const l=await za(n,e,t,i,s);return"mfaPendingCredential"in l&&yi(n,"multi-factor-auth-required",{_serverResponse:l}),l}function F2(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?P_(n.config,s):`${n.config.apiScheme}://${s}`}function U9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Gi(this.auth,"network-request-failed")),k9.get())})}}function jh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Gi(n,e,i);return s.customData._tokenResponse=t,s}function gw(n){return n!==void 0&&n.enterprise!==void 0}class B9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return U9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function z9(n,e){return za(n,"GET","/v2/recaptchaConfig",Bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(n,e){return za(n,"POST","/v1/accounts:delete",e)}async function H2(n,e){return za(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F9(n,e=!1){const t=jn(n),i=await t.getIdToken(e),s=M_(i);Be(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:Pc(Gg(s.auth_time)),issuedAtTime:Pc(Gg(s.iat)),expirationTime:Pc(Gg(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Gg(n){return Number(n)*1e3}function M_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const s=GA(t);return s?JSON.parse(s):(Jh("Failed to decode base64 JWT payload"),null)}catch(s){return Jh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function yw(n){const e=M_(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ba&&H9(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function H9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(n){var e;const t=n.auth,i=await n.getIdToken(),s=await nu(n,H2(t,{idToken:i}));Be(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?$2(l.providerUserInfo):[],h=K9(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),v=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Rv(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function G9(n){const e=jn(n);await Nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K9(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function $2(n){return n.map(e=>{var{providerId:t}=e,i=N_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(n,e){const t=await q2(n,{},async()=>{const i=tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=F2(n,s,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",z2.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Y9(n,e){return za(n,"POST","/v2/accounts:revokeToken",Bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const t=yw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await Q9(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new Bl;return i&&(Be(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Be(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return Aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(n,e){Be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ra{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=N_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Rv(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await nu(this,this.stsTokenManager.getToken(this.auth,e));return Be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return F9(this,e)}reload(){return G9(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Nd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Na(this.auth));const e=await this.getIdToken();return await nu(this,q9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,h,p,g,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,w=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(h=t.tenantId)!==null&&h!==void 0?h:void 0,R=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,M=(g=t.createdAt)!==null&&g!==void 0?g:void 0,k=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:G,emailVerified:Z,isAnonymous:N,providerData:re,stsTokenManager:D}=t;Be(G&&D,e,"internal-error");const A=Bl.fromJSON(this.name,D);Be(typeof G=="string",e,"internal-error"),hs(b,e.name),hs(T,e.name),Be(typeof Z=="boolean",e,"internal-error"),Be(typeof N=="boolean",e,"internal-error"),hs(w,e.name),hs(O,e.name),hs(z,e.name),hs(R,e.name),hs(M,e.name),hs(k,e.name);const I=new Ra({uid:G,auth:e,email:T,emailVerified:Z,displayName:b,isAnonymous:N,photoURL:O,phoneNumber:w,tenantId:z,stsTokenManager:A,createdAt:M,lastLoginAt:k});return re&&Array.isArray(re)&&(I.providerData=re.map(x=>Object.assign({},x))),R&&(I._redirectEventId=R),I}static async _fromIdTokenResponse(e,t,i=!1){const s=new Bl;s.updateFromServerResponse(t);const l=new Ra({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Nd(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Be(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?$2(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),h=new Bl;h.updateFromIdToken(i);const p=new Ra({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Rv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;function Ca(n){Ua(n instanceof Function,"Expected a class definition");let e=vw.get(n);return e?(Ua(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}G2.type="NONE";const _w=G2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(n,e,t){return`firebase:${n}:${e}:${t}`}class zl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=ed(this.userKey,s.apiKey,l),this.fullPersistenceKey=ed("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ra._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new zl(Ca(_w),e,i);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||Ca(_w);const c=ed(i,e.config.apiKey,e.name);let h=null;for(const g of t)try{const v=await g._get(c);if(v){const b=Ra._fromJSON(e,v);g!==l&&(h=b),l=g;break}}catch{}const p=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new zl(l,e,i):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new zl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z2(e))return"Blackberry";if(J2(e))return"Webos";if(Q2(e))return"Safari";if((e.includes("chrome/")||Y2(e))&&!e.includes("edge/"))return"Chrome";if(W2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function K2(n=or()){return/firefox\//i.test(n)}function Q2(n=or()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y2(n=or()){return/crios\//i.test(n)}function X2(n=or()){return/iemobile/i.test(n)}function W2(n=or()){return/android/i.test(n)}function Z2(n=or()){return/blackberry/i.test(n)}function J2(n=or()){return/webos/i.test(n)}function V_(n=or()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function X9(n=or()){var e;return V_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function W9(){return YP()&&document.documentMode===10}function eC(n=or()){return V_(n)||W2(n)||J2(n)||Z2(n)||/windows phone/i.test(n)||X2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n,e=[]){let t;switch(n){case"Browser":t=Ew(or());break;case"Worker":t=`${Ew(or())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${su}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(n,e={}){return za(n,"GET","/v2/passwordPolicy",Bs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=6;class tV{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:eV,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bw(this),this.idTokenSubscription=new bw(this),this.beforeStateQueue=new Z9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ca(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await H2(this,{idToken:e}),i=await Ra._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(Na(this));const t=e?jn(e):null;return t&&Be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(Na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ca(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J9(this),t=new tV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ef("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Y9(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ca(e)||this._popupRedirectResolver;Be(t,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[Ca(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&x9(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Bo(n){return jn(n)}class bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=r4(t=>this.observer=t)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rV(n){mp=n}function nC(n){return mp.loadJS(n)}function iV(){return mp.recaptchaEnterpriseScript}function aV(){return mp.gapiScript}function sV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class oV{constructor(){this.enterprise=new lV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const uV="recaptcha-enterprise",rC="NO_RECAPTCHA";class cV{constructor(e){this.type=uV,this.auth=Bo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{z9(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new B9(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{h(p)})})}function s(l,c,h){const p=window.grecaptcha;gw(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(rC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!t&&gw(window.grecaptcha))s(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=iV();p.length!==0&&(p+=h),nC(p).then(()=>{s(h,l,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function Tw(n,e,t,i=!1,s=!1){const l=new cV(n);let c;if(s)c=rC;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Cv(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Tw(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Tw(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(n,e){const t=Yv(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Pa(l,e??{}))return s;yi(s,"already-initialized")}return t.initialize({options:e})}function hV(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ca);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function dV(n,e,t){const i=Bo(n);Be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=iC(e),{host:c,port:h}=pV(e),p=h===null?"":`:${h}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Be(Pa(g,i.config.emulator)&&Pa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,mV()}function iC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pV(n){const e=iC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:ww(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:ww(c)}}}function ww(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Aa("not implemented")}_getIdTokenResponse(e){return Aa("not implemented")}_linkToIdToken(e,t){return Aa("not implemented")}_getReauthenticationResolver(e){return Aa("not implemented")}}async function gV(n,e){return za(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(n,e){return ff(n,"POST","/v1/accounts:signInWithPassword",Bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(n,e){return ff(n,"POST","/v1/accounts:signInWithEmailLink",Bs(n,e))}async function _V(n,e){return ff(n,"POST","/v1/accounts:signInWithEmailLink",Bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends L_{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Hc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Hc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cv(e,t,"signInWithPassword",yV);case"emailLink":return vV(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cv(e,i,"signUpPassword",gV);case"emailLink":return _V(e,{idToken:t,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(n,e){return ff(n,"POST","/v1/accounts:signInWithIdp",Bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="http://localhost";class Do extends L_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=N_(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new Do(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ql(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ql(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ql(e,t)}buildRequest(){const e={requestUri:EV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TV(n){const e=bc(Tc(n)).link,t=e?bc(Tc(e)).deep_link_id:null,i=bc(Tc(n)).deep_link_id;return(i?bc(Tc(i)).link:null)||i||t||e||n}class k_{constructor(e){var t,i,s,l,c,h;const p=bc(Tc(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,b=bV((s=p.mode)!==null&&s!==void 0?s:null);Be(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=TV(e);try{return new k_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.providerId=hu.PROVIDER_ID}static credential(e,t){return Hc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=k_.parseLink(t);return Be(i,"argument-error"),Hc._fromEmailAndCode(e,i.code,i.tenantId)}}hu.PROVIDER_ID="password";hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends aC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends hf{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends hf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Do._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return gs.credential(t,i)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends hf{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends hf{constructor(){super("twitter.com")}static credential(e,t){return Do._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(n,e){return ff(n,"POST","/v1/accounts:signUp",Bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await Ra._fromIdTokenResponse(e,i,s),c=Sw(i);return new No({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Sw(i);return new No({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Sw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends Ba{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,xd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new xd(e,t,i,s)}}function sC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?xd._fromErrorAndOperation(n,l,e,i):l})}async function SV(n,e,t=!1){const i=await nu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return No._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(n,e,t=!1){const{auth:i}=n;if(ni(i.app))return Promise.reject(Na(i));const s="reauthenticate";try{const l=await nu(n,sC(i,s,e,n),t);Be(l.idToken,i,"internal-error");const c=M_(l.idToken);Be(c,i,"internal-error");const{sub:h}=c;return Be(n.uid===h,i,"user-mismatch"),No._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&yi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(n,e,t=!1){if(ni(n.app))return Promise.reject(Na(n));const i="signIn",s=await sC(n,i,e),l=await No._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function RV(n,e){return oC(Bo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(n){const e=Bo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CV(n,e,t){if(ni(n.app))return Promise.reject(Na(n));const i=Bo(n),c=await Cv(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wV).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&lC(n),p}),h=await No._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function OV(n,e,t){return ni(n.app)?Promise.reject(Na(n)):RV(jn(n),hu.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&lC(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(n,e){return za(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=jn(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await nu(i,IV(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function NV(n,e,t,i){return jn(n).onIdTokenChanged(e,t,i)}function xV(n,e,t){return jn(n).beforeAuthStateChanged(e,t)}function PV(n,e,t,i){return jn(n).onAuthStateChanged(e,t,i)}const Pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pd,"1"),this.storage.removeItem(Pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=1e3,VV=10;class cC extends uC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);W9()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,VV):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},MV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cC.type="LOCAL";const LV=cC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC extends uC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fC.type="SESSION";const hC=fC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new gp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(c).map(async g=>g(t.origin,l)),p=await kV(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const g=U_("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function jV(n){Ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function BV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function qV(){return dC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebaseLocalStorageDb",FV=1,Md="firebaseLocalStorage",mC="fbase_key";class df{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yp(n,e){return n.transaction([Md],e?"readwrite":"readonly").objectStore(Md)}function HV(){const n=indexedDB.deleteDatabase(pC);return new df(n).toPromise()}function Ov(){const n=indexedDB.open(pC,FV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Md,{keyPath:mC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Md)?e(i):(i.close(),await HV(),e(await Ov()))})})}async function Aw(n,e,t){const i=yp(n,!0).put({[mC]:e,value:t});return new df(i).toPromise()}async function $V(n,e){const t=yp(n,!1).get(e),i=await new df(t).toPromise();return i===void 0?null:i.value}function Rw(n,e){const t=yp(n,!0).delete(e);return new df(t).toPromise()}const GV=800,KV=3;class gC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ov(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>KV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(qV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await BV(),!this.activeServiceWorker)return;this.sender=new UV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ov();return await Aw(e,Pd,"1"),await Rw(e,Pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Aw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>$V(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=yp(s,!1).getAll();return new df(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gC.type="LOCAL";const QV=gC;new cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(n,e){return e?Ca(e):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends L_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ql(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ql(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XV(n){return oC(n.auth,new j_(n),n.bypassAuthState)}function WV(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),AV(t,new j_(n),n.bypassAuthState)}async function ZV(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),SV(t,new j_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XV;case"linkViaPopup":case"linkViaRedirect":return ZV;case"reauthViaPopup":case"reauthViaRedirect":return WV;default:yi(this.auth,"internal-error")}}resolve(e){Ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new cf(2e3,1e4);class kl extends yC{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Ua(this.filter.length===1,"Popup operations only handle one event");const e=U_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JV.get())};e()}}kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="pendingRedirect",td=new Map;class tL extends yC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{const i=await nL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nL(n,e){const t=aL(e),i=iL(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function rL(n,e){td.set(n._key(),e)}function iL(n){return Ca(n._redirectPersistence)}function aL(n){return ed(eL,n.config.apiKey,n.name)}async function sL(n,e,t=!1){if(ni(n.app))return Promise.reject(Na(n));const i=Bo(n),s=YV(i,e),c=await new tL(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=10*60*1e3;class lL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!vC(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Gi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cw(e))}saveEventToCache(e){this.cachedEventUids.add(Cw(e)),this.lastProcessedEventTime=Date.now()}}function Cw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(n,e={}){return za(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hL=/^https?/;async function dL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cL(n);for(const t of e)try{if(pL(t))return}catch{}yi(n,"unauthorized-domain")}function pL(n){const e=Av(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!hL.test(t))return!1;if(fL.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new cf(3e4,6e4);function Ow(){const n=Ki().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gL(n){return new Promise((e,t)=>{var i,s,l;function c(){Ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ow(),t(Gi(n,"network-request-failed"))},timeout:mL.get()})}if(!((s=(i=Ki().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Ki().gapi)===null||l===void 0)&&l.load)c();else{const h=sV("iframefcb");return Ki()[h]=()=>{gapi.load?c():t(Gi(n,"network-request-failed"))},nC(`${aV()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw nd=null,e})}let nd=null;function yL(n){return nd=nd||gL(n),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=new cf(5e3,15e3),_L="__/auth/iframe",EL="emulator/auth/iframe",bL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wL(n){const e=n.config;Be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?P_(e,EL):`https://${n.config.authDomain}/${_L}`,i={apiKey:e.apiKey,appName:n.name,v:su},s=TL.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${tf(i).slice(1)}`}async function SL(n){const e=await yL(n),t=Ki().gapi;return Be(t,n,"internal-error"),e.open({where:document.body,url:wL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bL,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Gi(n,"network-request-failed"),h=Ki().setTimeout(()=>{l(c)},vL.get());function p(){Ki().clearTimeout(h),s(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RL=500,CL=600,OL="_blank",IL="http://localhost";class Iw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DL(n,e,t,i=RL,s=CL){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},AL),{width:i.toString(),height:s.toString(),top:l,left:c}),g=or().toLowerCase();t&&(h=Y2(g)?OL:t),K2(g)&&(e=e||IL,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[w,O])=>`${T}${w}=${O},`,"");if(X9(g)&&h!=="_self")return NL(e||"",h),new Iw(null);const b=window.open(e||"",h,v);Be(b,n,"popup-blocked");try{b.focus()}catch{}return new Iw(b)}function NL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="__/auth/handler",PL="emulator/auth/handler",ML=encodeURIComponent("fac");async function Dw(n,e,t,i,s,l){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:su,eventId:s};if(e instanceof aC){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",n4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof hf){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const p=await n._getAppCheckToken(),g=p?`#${ML}=${encodeURIComponent(p)}`:"";return`${VL(n)}?${tf(h).slice(1)}${g}`}function VL({config:n}){return n.emulator?P_(n,PL):`https://${n.authDomain}/${xL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="webStorageSupport";class LL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hC,this._completeRedirectFn=sL,this._overrideRedirectResult=rL}async _openPopup(e,t,i,s){var l;Ua((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Dw(e,t,i,Av(),s);return DL(e,c,U_())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await Dw(e,t,i,Av(),s);return jV(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Ua(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await SL(e),i=new lL(e);return t.register("authEvent",s=>(Be(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kg,{type:Kg},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[Kg];c!==void 0&&t(!!c),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eC()||Q2()||V_()}}const kL=LL;var Nw="@firebase/auth",xw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BL(n){Gl(new Co("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Be(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tC(n)},g=new nV(i,s,l,p);return hV(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Gl(new Co("auth-internal",e=>{const t=Bo(e.getProvider("auth").getImmediate());return(i=>new UL(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(Nw,xw,jL(n)),ws(Nw,xw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=5*60,qL=YA("authIdTokenMaxAge")||zL;let Pw=null;const FL=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>qL)return;const s=t==null?void 0:t.token;Pw!==s&&(Pw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function HL(n=JA()){const e=Yv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fV(n,{popupRedirectResolver:kL,persistence:[QV,LV,hC]}),i=YA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=FL(l.toString());xV(t,c,()=>c(t.currentUser)),NV(t,h=>c(h))}}const s=KA("auth");return s&&dV(t,`http://${s}`),t}function $L(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=Gi("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",$L().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BL("Browser");const GL={apiKey:"AIzaSyCikTYhNEpkHoyrWkPvqb01EaU8gIiLs1A",authDomain:"kts-frontend-project.firebaseapp.com",projectId:"kts-frontend-project",storageBucket:"kts-frontend-project.firebasestorage.app",messagingSenderId:"368221037168",appId:"1:368221037168:web:5d9998beac2fc4f3530ab5"},_C=ZA(GL),rd=HL(_C),Rs=c9(_C);class KL{constructor(){Kn(this,"user",null);Kn(this,"cart",[]);Fv(this),this.init()}init(){PV(rd,async e=>{this.user=e,e?await this.loadCart():this.cart=[]})}setUser(e){this.user=e}async login(e,t){const i=await OV(rd,e,t);return this.user=i.user,i}logout(){rd.signOut(),this.user=null}async loadCart(){if(!this.user)return;const e=jl(Rs,"carts",this.user.uid),t=await Id(e);t.exists()?this.cart=t.data().items||[]:this.cart=[]}async addToCart(e){if(!this.user)throw new Error("User not logged in");const t=jl(Rs,"carts",this.user.uid);await pw(t,{items:I9(e)}).catch(async i=>{i.code==="not-found"&&await C9(t,{items:[e]})}),this.cart.push(e)}async removeFromCart(e){if(!this.user)throw new Error("User not logged in");const t=jl(Rs,"carts",this.user.uid);await pw(t,{items:D9(e)}),this.cart=this.cart.filter(i=>i!==e)}}const Vr=new KL;function QL(){return P.jsx("div",{className:"app",children:P.jsx(zD,{})})}const Iv=n=>{const e=Ui.useRef(null);return e.current===null&&(e.current=n()),Ui.useEffect(()=>()=>{var t;return(t=e.current)==null?void 0:t.destroy()},[]),e.current},YL="_text_qtsr3_1",Bh={text:YL,"text-title":"_text-title_qtsr3_7","text-button":"_text-button_qtsr3_12","text-p-20":"_text-p-20_qtsr3_16","text-p-18":"_text-p-18_qtsr3_20","text-p-16":"_text-p-16_qtsr3_24","text-p-14":"_text-p-14_qtsr3_28","text-weight-normal":"_text-weight-normal_qtsr3_32","text-weight-medium":"_text-weight-medium_qtsr3_35","text-weight-bold":"_text-weight-bold_qtsr3_38","text-color-primary":"_text-color-primary_qtsr3_41","text-color-secondary":"_text-color-secondary_qtsr3_44","text-color-accent":"_text-color-accent_qtsr3_47"},ft=({className:n="",view:e,tag:t="p",weight:i,children:s,color:l,maxLines:c})=>{const h=t,p=c?{WebkitLineClamp:c}:void 0;return P.jsx(h,{"data-testid":"text",className:`
        ${Bh.text} 
        ${n} 
        ${e?Bh[`text-${e}`]:""} 
        ${i?Bh[`text-weight-${i}`]:""} 
        ${l?Bh[`text-color-${l}`]:""}
      `,style:p,children:s})},XL="_header_18x7p_2",WL="_logo_18x7p_12",ZL="_icons_18x7p_15",JL="_open_18x7p_76",ek="_nav_18x7p_114",rn={header:XL,logo:WL,icons:ZL,"header-nav":"_header-nav_18x7p_21","header-link":"_header-link_18x7p_30","burger-menu-icon":"_burger-menu-icon_18x7p_38",open:JL,"header-nav--mobile":"_header-nav--mobile_18x7p_87","is-open":"_is-open_18x7p_101","nav--mobile":"_nav--mobile_18x7p_114",nav:ek},tk=({className:n=""})=>P.jsxs("svg",{className:n,width:"131",height:"42",viewBox:"0 0 131 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[P.jsxs("g",{clipPath:"url(#clip0_502_629)",children:[P.jsx("path",{d:"M32.9035 20.601L31.9655 24.101H13.6535L8.66949 5.50549H12.2955L16.338 20.601H32.9035Z",fill:"#AD7E5C"}),P.jsx("path",{d:"M31.402 26.201L30.464 29.701H9.60749L8.66949 26.201H31.402Z",fill:"#518581"}),P.jsx("path",{d:"M29.9005 31.801L28.9625 35.301H14.5915L13.6535 31.801H29.9005Z",fill:"#A6D8D1"})]}),P.jsx("path",{d:"M54 12.216H57.264V27.216H64.92V30.096H54V12.216Z",fill:"#151411"}),P.jsx("path",{d:"M70.7272 30.384C69.3512 30.384 68.2552 30.048 67.4392 29.376C66.6392 28.704 66.2393 27.792 66.2393 26.64C66.2393 25.536 66.6153 24.624 67.3673 23.904C68.1193 23.184 69.2472 22.704 70.7512 22.464L74.6392 21.84V21.408C74.6392 20.832 74.4153 20.36 73.9673 19.992C73.5353 19.624 72.9593 19.44 72.2393 19.44C71.5672 19.44 70.9672 19.624 70.4392 19.992C69.9272 20.344 69.5512 20.816 69.3112 21.408L66.7432 20.16C67.1272 19.136 67.8312 18.312 68.8552 17.688C69.8792 17.064 71.0472 16.752 72.3592 16.752C73.4152 16.752 74.3512 16.952 75.1672 17.352C75.9993 17.736 76.6392 18.288 77.0872 19.008C77.5513 19.712 77.7833 20.512 77.7833 21.408V30.096H74.8073V28.704C73.7833 29.824 72.4232 30.384 70.7272 30.384ZM69.5033 26.52C69.5033 26.968 69.6712 27.328 70.0072 27.6C70.3433 27.856 70.7752 27.984 71.3032 27.984C72.2792 27.984 73.0793 27.68 73.7033 27.072C74.3273 26.448 74.6392 25.68 74.6392 24.768V24.24L71.3512 24.792C70.7272 24.92 70.2633 25.128 69.9592 25.416C69.6552 25.688 69.5033 26.056 69.5033 26.52Z",fill:"#151411"}),P.jsx("path",{d:"M80.6891 11.928H83.8331V30.096H80.6891V11.928Z",fill:"#151411"}),P.jsx("path",{d:"M90.696 30.384C89.32 30.384 88.224 30.048 87.408 29.376C86.608 28.704 86.208 27.792 86.208 26.64C86.208 25.536 86.584 24.624 87.336 23.904C88.088 23.184 89.216 22.704 90.72 22.464L94.608 21.84V21.408C94.608 20.832 94.384 20.36 93.936 19.992C93.504 19.624 92.928 19.44 92.208 19.44C91.536 19.44 90.936 19.624 90.408 19.992C89.896 20.344 89.52 20.816 89.28 21.408L86.712 20.16C87.096 19.136 87.8 18.312 88.824 17.688C89.848 17.064 91.016 16.752 92.328 16.752C93.384 16.752 94.32 16.952 95.136 17.352C95.968 17.736 96.608 18.288 97.056 19.008C97.52 19.712 97.752 20.512 97.752 21.408V30.096H94.776V28.704C93.752 29.824 92.392 30.384 90.696 30.384ZM89.472 26.52C89.472 26.968 89.64 27.328 89.976 27.6C90.312 27.856 90.744 27.984 91.272 27.984C92.248 27.984 93.048 27.68 93.672 27.072C94.296 26.448 94.608 25.68 94.608 24.768V24.24L91.32 24.792C90.696 24.92 90.232 25.128 89.928 25.416C89.624 25.688 89.472 26.056 89.472 26.52Z",fill:"#151411"}),P.jsx("path",{d:"M105.554 30.36C104.242 30.36 103.082 30.048 102.074 29.424C101.082 28.8 100.378 27.944 99.9619 26.856L102.29 25.656C102.642 26.36 103.106 26.912 103.682 27.312C104.274 27.696 104.922 27.888 105.626 27.888C106.234 27.888 106.706 27.768 107.042 27.528C107.394 27.272 107.57 26.928 107.57 26.496C107.57 26.128 107.426 25.824 107.138 25.584C106.85 25.328 106.474 25.16 106.01 25.08L103.874 24.72C102.77 24.432 101.914 23.944 101.306 23.256C100.714 22.552 100.418 21.728 100.418 20.784C100.418 20 100.626 19.304 101.042 18.696C101.458 18.072 102.034 17.592 102.77 17.256C103.522 16.92 104.37 16.752 105.314 16.752C106.514 16.752 107.57 17.04 108.482 17.616C109.394 18.176 110.058 18.96 110.474 19.968L108.146 21.168C107.89 20.608 107.498 20.16 106.97 19.824C106.442 19.488 105.858 19.32 105.218 19.32C104.69 19.32 104.266 19.44 103.946 19.68C103.642 19.92 103.49 20.232 103.49 20.616C103.49 21.32 104.018 21.792 105.074 22.032L107.162 22.416C108.266 22.72 109.122 23.216 109.73 23.904C110.338 24.592 110.642 25.408 110.642 26.352C110.642 27.136 110.426 27.832 109.994 28.44C109.578 29.048 108.986 29.52 108.218 29.856C107.45 30.192 106.562 30.36 105.554 30.36Z",fill:"#151411"}),P.jsx("path",{d:"M112.986 17.04H116.13V30.096H112.986V17.04ZM112.746 13.44C112.746 12.864 112.906 12.416 113.226 12.096C113.546 11.776 113.986 11.616 114.546 11.616C115.122 11.616 115.57 11.776 115.89 12.096C116.21 12.416 116.37 12.864 116.37 13.44C116.37 14 116.21 14.44 115.89 14.76C115.586 15.08 115.138 15.24 114.546 15.24C113.986 15.24 113.546 15.08 113.226 14.76C112.906 14.44 112.746 14 112.746 13.44Z",fill:"#151411"}),P.jsx("path",{d:"M122.993 30.384C121.617 30.384 120.521 30.048 119.705 29.376C118.905 28.704 118.505 27.792 118.505 26.64C118.505 25.536 118.881 24.624 119.633 23.904C120.385 23.184 121.513 22.704 123.017 22.464L126.905 21.84V21.408C126.905 20.832 126.681 20.36 126.233 19.992C125.801 19.624 125.225 19.44 124.505 19.44C123.833 19.44 123.233 19.624 122.705 19.992C122.193 20.344 121.817 20.816 121.577 21.408L119.009 20.16C119.393 19.136 120.097 18.312 121.121 17.688C122.145 17.064 123.313 16.752 124.625 16.752C125.681 16.752 126.617 16.952 127.433 17.352C128.265 17.736 128.905 18.288 129.353 19.008C129.817 19.712 130.049 20.512 130.049 21.408V30.096H127.073V28.704C126.049 29.824 124.689 30.384 122.993 30.384ZM121.769 26.52C121.769 26.968 121.937 27.328 122.273 27.6C122.609 27.856 123.041 27.984 123.569 27.984C124.545 27.984 125.345 27.68 125.969 27.072C126.593 26.448 126.905 25.68 126.905 24.768V24.24L123.617 24.792C122.993 24.92 122.529 25.128 122.225 25.416C121.921 25.688 121.769 26.056 121.769 26.52Z",fill:"#151411"}),P.jsx("defs",{children:P.jsx("clipPath",{id:"clip0_502_629",children:P.jsx("rect",{width:"42",height:"42",fill:"white"})})})]}),ja=()=>{const[n,e]=K.useState(!1),t=()=>{e(!n)};return P.jsxs("header",{className:rn.header,children:[P.jsx(Qn,{to:Jt.main.create(),className:rn["header-link"],children:P.jsx(tk,{className:rn.logo})}),P.jsxs("nav",{className:rn["header-nav"],children:[P.jsx(Qn,{to:Jt.main.create(),className:rn["header-link"],children:P.jsx(ft,{children:"Products",view:"p-18",className:rn.nav})}),P.jsx(Qn,{to:Jt.categories.create(),className:rn["header-link"],children:P.jsx(ft,{children:"Categories",view:"p-18",className:rn.nav})}),P.jsx(Qn,{to:Jt.about.create(),className:rn["header-link"],children:P.jsx(ft,{children:"About us",view:"p-18",className:rn.nav})})]}),P.jsxs("nav",{className:`${rn["header-nav--mobile"]} ${n?rn["is-open"]:""}`,children:[P.jsx(Qn,{to:Jt.main.create(),className:rn["header-link"],onClick:()=>e(!1),children:P.jsx(ft,{children:"Products",view:"p-18",className:rn["nav--mobile"]})}),P.jsx(Qn,{to:Jt.categories.create(),className:rn["header-link"],onClick:()=>e(!1),children:P.jsx(ft,{children:"Categories",view:"p-18",className:rn["nav--mobile"]})}),P.jsx(Qn,{to:Jt.about.create(),className:rn["header-link"],onClick:()=>e(!1),children:P.jsx(ft,{children:"About us",view:"p-18",className:rn["nav--mobile"]})})]}),P.jsxs("div",{className:rn.icons,children:[P.jsx(Qn,{to:Jt.cart.create(),className:rn["header-link"],children:P.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[P.jsx("path",{d:"M9.375 9.58751V8.37501C9.375 5.56251 11.6375 2.80001 14.45 2.53751C17.8 2.21251 20.625 4.85001 20.625 8.13751V9.86251",stroke:"#151411",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),P.jsx("path",{d:"M11.25 27.5H18.75C23.775 27.5 24.675 25.4875 24.9375 23.0375L25.875 15.5375C26.2125 12.4875 25.3375 10 20 10H10C4.66253 10 3.78753 12.4875 4.12503 15.5375L5.06253 23.0375C5.32503 25.4875 6.22503 27.5 11.25 27.5Z",stroke:"#151411",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),P.jsx("path",{d:"M19.3694 15H19.3806",stroke:"#151411",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),P.jsx("path",{d:"M10.6181 15H10.6294",stroke:"#151411",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),P.jsx(Qn,{to:Jt.profile.create(),className:rn["header-link"],children:P.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[P.jsx("path",{d:"M15 15C18.4518 15 21.25 12.2018 21.25 8.75C21.25 5.29822 18.4518 2.5 15 2.5C11.5482 2.5 8.75 5.29822 8.75 8.75C8.75 12.2018 11.5482 15 15 15Z",stroke:"#151411",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),P.jsx("path",{d:"M25.7374 27.5C25.7374 22.6625 20.9249 18.75 14.9999 18.75C9.07495 18.75 4.26245 22.6625 4.26245 27.5",stroke:"#151411",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),P.jsxs("button",{className:`${rn["burger-menu-icon"]} ${n?rn.open:""}`,onClick:t,children:[P.jsx("span",{}),P.jsx("span",{}),P.jsx("span",{})]})]})]})},nk="_page_1y5cc_1",rk="_intro_1y5cc_6",ik="_introTitle_1y5cc_14",ak="_error_1y5cc_14",sk="_fadeIn_1y5cc_1",ok="_introDescription_1y5cc_20",lk="_introLoading_1y5cc_28",uk="_search_1y5cc_33",ck="_searchBar_1y5cc_38",fk="_searchButton_1y5cc_44",hk="_searchFilter_1y5cc_47",dk="_searchItemsCount_1y5cc_56",pk="_searchItemsCountHighlight_1y5cc_61",mk="_content_1y5cc_65",gk="_productGrid_1y5cc_71",yk="_productGridLink_1y5cc_78",vk="_pagination_1y5cc_83",_k="_paginationItem_1y5cc_90",Ek="_paginationItemActive_1y5cc_97",bk="_paginationArrow_1y5cc_102",Tk="_notification_1y5cc_118",wk="_success_1y5cc_128",Qt={page:nk,intro:rk,introTitle:ik,error:ak,fadeIn:sk,introDescription:ok,introLoading:lk,search:uk,searchBar:ck,searchButton:fk,searchFilter:hk,searchItemsCount:dk,searchItemsCountHighlight:pk,content:mk,productGrid:gk,productGridLink:yk,pagination:vk,paginationItem:_k,paginationItemActive:Ek,paginationArrow:bk,notification:Tk,success:wk},Sk=()=>P.jsxs("div",{className:Qt.intro,children:[P.jsx(ft,{view:"title",className:Qt.introTitle,children:"Products"}),P.jsx(ft,{view:"p-20",color:"secondary",className:Qt.introDescription,children:"We display products based on the latest products we have, if you want to see our old products please enter the name of the item"})]}),Ol={"input-wrapper":"_input-wrapper_12vg3_1","input-disabled":"_input-disabled_12vg3_15","input-element":"_input-element_12vg3_23","input-after-slot":"_input-after-slot_12vg3_44"},To=Ui.forwardRef(({value:n,onChange:e,afterSlot:t,type:i="text",className:s="",disabled:l,placeholder:c,...h},p)=>{const g=`
      ${Ol["input-wrapper"]} 
      ${s} 
      ${l?Ol["input-disabled"]:""}
      ${n?Ol["input-not-empty"]:Ol["input-empty"]}
    `;return P.jsxs("div",{className:g,children:[P.jsx("input",{...h,ref:p,type:i,value:n||"",placeholder:c,onChange:v=>e(v.target.value),className:Ol["input-element"],disabled:l}),t&&P.jsx("div",{className:Ol["input-after-slot"],children:t})]})}),Ak="_button_a3i98_1",Qg={button:Ak,"button-disabled":"_button-disabled_a3i98_16","button-loading":"_button-loading_a3i98_16"},Rk="_rotate_arg02_4",Il={"loader-container":"_loader-container_arg02_1",rotate:Rk},EC=({size:n="l",className:e="",color:t="#518581"})=>(()=>{switch(n){case"s":return P.jsx("svg",{className:`${Il["loader-container"]} ${Il.rotate} ${e}`,"data-testid":"loader",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M13.3497 17.8462C10.1209 18.5916 6.89917 16.5785 6.15374 13.3497C5.40832 10.1209 7.42148 6.89919 10.6503 6.15377C13.879 5.40835 17.1008 7.42151 17.8462 10.6503L19.7949 10.2004C18.801 5.89534 14.5054 3.21113 10.2004 4.20503C5.89532 5.19893 3.21111 9.49456 4.205 13.7996C5.1989 18.1046 9.49454 20.7888 13.7996 19.795L13.3497 17.8462Z",fill:t})});case"m":return P.jsx("svg",{className:`${Il["loader-container"]} ${Il.rotate} ${e}`,"data-testid":"loader",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M26.6993 35.6924C20.2418 37.1833 13.7983 33.157 12.3075 26.6994C10.8166 20.2418 14.843 13.7984 21.3005 12.3075C27.7581 10.8167 34.2015 14.843 35.6924 21.3006L39.5898 20.4008C37.6021 11.7907 29.0108 6.42227 20.4007 8.41006C11.7906 10.3979 6.42222 18.9891 8.41001 27.5992C10.3978 36.2093 18.9891 41.5777 27.5991 39.5899L26.6993 35.6924Z",fill:t})});case"l":default:return P.jsx("svg",{className:`${Il["loader-container"]} ${Il.rotate} ${e}`,"data-testid":"loader",width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M33.3741 44.6155C25.3022 46.4791 17.2479 41.4462 15.3843 33.3742C13.5207 25.3023 18.5536 17.248 26.6256 15.3844C34.6975 13.5209 42.7518 18.5538 44.6154 26.6257L49.4873 25.501C47.0025 14.7384 36.2634 8.02783 25.5008 10.5126C14.7382 12.9973 8.02771 23.7364 10.5124 34.499C12.9972 45.2616 23.7363 51.9721 34.4989 49.4874L33.3741 44.6155Z",fill:t})})}})(),Xi=({loading:n=!1,disabled:e=!1,children:t,className:i,...s})=>P.jsx("button",{className:`
        ${Qg.button} 
        ${i||""} 
        ${n?Qg["button-loading"]:""} 
        ${e?Qg["button-disabled"]:""}
      `,disabled:n||e,...s,children:n?P.jsxs(P.Fragment,{children:[P.jsx(EC,{size:"s",color:"#FFFFFF"}),P.jsx(ft,{tag:"div",view:"button",children:t})]}):P.jsx(ft,{tag:"div",view:"button",children:t})}),Ck="_selected_16njl_62",yc={"multi-dropdown-container":"_multi-dropdown-container_16njl_35","multi-dropdown-options":"_multi-dropdown-options_16njl_40","multi-dropdown-option-wrapper":"_multi-dropdown-option-wrapper_16njl_54","multi-dropdown-option-text":"_multi-dropdown-option-text_16njl_59",selected:Ck},Ok="_icon_tpn85_1",Ml={icon:Ok,"icon-primary":"_icon-primary_tpn85_6","icon-secondary":"_icon-secondary_tpn85_10","icon-accent":"_icon-accent_tpn85_14","icon-disabled":"_icon-disabled_tpn85_18","icon-white":"_icon-white_tpn85_22"};var bC=(n=>(n.Primary="primary",n.Secondary="secondary",n.Accent="accent",n.Disabled="disabled",n.White="white",n))(bC||{});const Ik={primary:Ml["icon-primary"],secondary:Ml["icon-secondary"],accent:Ml["icon-accent"],disabled:Ml["icon-disabled"],white:Ml["icon-white"]},Dk=({className:n="",color:e,width:t=24,height:i=24,stroke:s,...l})=>{const c=e?Ik[e]:"currentColor",h=`${Ml.icon} ${n} ${c}`;return P.jsx("svg",{className:h,width:t,height:i,...l})},Nk=({width:n=24,height:e=24,color:t,...i})=>P.jsx(Dk,{width:n,height:e,viewBox:"0 0 24 24",color:t,strokeWidth:"0",...i,children:P.jsx("path",{d:"M2.33563 8.74741L3.66436 7.25259L12 14.662L20.3356 7.25259L21.6644 8.74741L12 17.338L2.33563 8.74741Z"})}),xk=({className:n,options:e,value:t,onChange:i,disabled:s,getTitle:l})=>{const[c,h]=K.useState(!1),p=K.useRef(null),[g,v]=K.useState(""),[b,T]=K.useState(e),w=R=>{if(t.length)return;v(R);const M=e.filter(k=>k.value.toLowerCase().startsWith(R.toLowerCase()));T(M)},O=R=>{const M=t.findIndex(k=>k.key===R.key);if(M!==-1){i(t.slice(0,M).concat(t.slice(M+1)));return}i([...t,R])},z=R=>{p.current&&!p.current.contains(R.target)&&h(!1)};return K.useEffect(()=>(document.addEventListener("click",z),()=>document.removeEventListener("click",z)),[]),K.useEffect(()=>{T(e)},[e,T]),P.jsxs("div",{className:`${yc["multi-dropdown-container"]} ${n}`,ref:p,children:[P.jsx(To,{type:"text",value:t.length?l(t):g,onClick:()=>!s&&h(!0),onChange:w,placeholder:"Filter",disabled:s,afterSlot:P.jsx(Nk,{color:bC.Secondary})}),c&&!s&&P.jsx("div",{className:yc["multi-dropdown-options"],children:b.map(R=>P.jsx("div",{className:`${yc["multi-dropdown-option-wrapper"]} ${t.some(M=>M.key===R.key)?yc.selected:""}`,onClick:()=>O(R),"data-testid":R.key,children:P.jsx(ft,{className:yc["multi-dropdown-option-text"],children:R.value})},R.key))})]})},TC=[{key:"1",value:"Chair"},{key:"2",value:"Table"},{key:"3",value:"Cupboard"},{key:"4",value:"Decoration"},{key:"5",value:"All"}],Pk=({catalogStore:n,productsCount:e})=>{const t=K.useCallback(()=>{const l=n.selectedOptions.map(c=>c.value);n.searchProducts(n.searchValue,l)},[n]),i=K.useCallback(l=>{l.key==="Enter"&&t()},[t]),s=K.useCallback(l=>{l.some(c=>c.value==="All")?n.setSelectedOptions([]):n.setSelectedOptions(l),t()},[n,t]);return P.jsxs("div",{className:Qt.search,children:[P.jsxs("div",{className:Qt.searchBar,children:[P.jsx(To,{value:n.searchValue,onChange:l=>n.setSearchValue(l),onKeyDown:i,placeholder:"Search product"}),P.jsx(Xi,{className:Qt.searchButton,onClick:t,children:"Find now"})]}),P.jsx(xk,{className:Qt.searchFilter,options:TC,value:n.selectedOptions,onChange:s,getTitle:l=>l.map(c=>c.value).join(", ")}),P.jsxs(ft,{className:Qt.searchItemsCount,children:["Total products: ",P.jsx("span",{className:Qt.searchItemsCountHighlight,children:e})]})]})},Mk="_card_3fp4f_1",mo={card:Mk,"card-title":"_card-title_3fp4f_16","card-subtitle":"_card-subtitle_3fp4f_16","card-content":"_card-content_3fp4f_29","card-body":"_card-body_3fp4f_35","card-button":"_card-button_3fp4f_40","card-image":"_card-image_3fp4f_46"},wC=({className:n,image:e,captionSlot:t,title:i,subtitle:s,contentSlot:l,onClick:c,actionSlot:h})=>P.jsxs("div",{className:`${mo.card} ${n||""}`,onClick:c,children:[P.jsx("img",{src:e,alt:"card-image",className:mo["card-image"]}),P.jsxs("div",{className:mo["card-content"],children:[P.jsxs("div",{className:mo["card-body"],children:[t&&P.jsx(ft,{tag:"p",color:"secondary",view:"p-14",children:t}),i&&P.jsx(ft,{tag:"p","data-testid":"text",className:mo["card-title"],weight:"bold",view:"p-20",color:"primary",children:i}),s&&P.jsx(ft,{tag:"p","data-testid":"text",className:mo["card-subtitle"],color:"secondary",view:"p-16",children:s})]}),P.jsxs("div",{className:mo["card-button"],children:[l&&P.jsx(ft,{tag:"p",weight:"bold",view:"p-18",color:"primary",children:l}),h&&P.jsx("div",{children:h})]})]})]}),Vk=Jc(({products:n})=>{const[e,t]=K.useState(null),i=(l,c)=>{t({message:l,type:c,visible:!0}),setTimeout(()=>{t(h=>h?{...h,visible:!1}:null)},2e3)},s=async(l,c)=>{if(l.stopPropagation(),l.preventDefault(),!Vr.user){i("Please log in to add items to your cart.","error");return}try{await Vr.addToCart(c),i("Product added to cart!","success")}catch(h){console.error("Failed to add to cart:",h),i("Failed to add product to cart.","error")}};return P.jsxs("div",{className:Qt.productGrid,children:[(e==null?void 0:e.visible)&&P.jsx("div",{className:`${Qt.notification} ${Qt[e.type]}`,children:e.message}),n.map(l=>P.jsx(Qn,{className:Qt.productGridLink,to:Jt.product.create(l.id),children:P.jsx(wC,{image:l.image,title:l.title,subtitle:l.description,contentSlot:l.price,actionSlot:P.jsx(Xi,{onClick:c=>s(c,l.id),children:"Add to Cart"})},l.id)},l.id))]})}),Lk=({totalPosts:n,postsPerPage:e,setCurrentPage:t,currentPage:i})=>{const s=K.useMemo(()=>{const c=[];for(let h=1;h<=Math.ceil(n/e);h++)c.push(h);return c},[n,e]),l=c=>{t(c)};return P.jsxs("div",{className:Qt.pagination,children:[P.jsx("svg",{onClick:()=>{i>1&&l(i-1)},className:`${Qt.paginationArrow} ${Qt.paginationArrowPrev}`,width:"35",height:"35",viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M22.0062 5.95005L12.4979 15.4584C11.375 16.5813 11.375 18.4188 12.4979 19.5417L22.0062 29.05",stroke:"black",strokeOpacity:"0.3",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})}),P.jsx("div",{children:s.map((c,h)=>P.jsx("button",{onClick:()=>l(c),className:c==i?`${Qt.paginationItem} ${Qt.paginationItemActive}`:Qt.paginationItem,children:c},h))}),P.jsx("svg",{onClick:()=>{i<s.length&&l(i+1)},className:`${Qt.paginationArrow} ${Qt.paginationArrowNext}`,width:"35",height:"35",viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M22.0062 5.95005L12.4979 15.4584C11.375 16.5813 11.375 18.4188 12.4979 19.5417L22.0062 29.05",stroke:"black",strokeOpacity:"0.3",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(180 17.5 17.5)"})})]})};class SC{constructor(){Kn(this,"products",[]);Kn(this,"loading",!1);Kn(this,"error",null);Kn(this,"searchValue","");Kn(this,"selectedOptions",[]);Kn(this,"currentPage",1);Kn(this,"postsPerPage",6);Kn(this,"showSkeleton",!0);Fv(this)}get currentPosts(){const e=this.currentPage*this.postsPerPage,t=e-this.postsPerPage;return this.products.slice(t,e)}setSearchValue(e){this.searchValue=e}setSelectedOptions(e){this.selectedOptions=e}setCurrentPage(e){this.currentPage=e}setPostsPerPage(e){this.postsPerPage=e}setShowSkeleton(e){this.showSkeleton=e}async fetchAllProducts(){this.loading=!0,this.error=null;try{const e=lw(Rs,"Products"),i=(await dw(e)).docs.map(s=>({id:s.id,...s.data()}));ba(()=>{this.products=i})}catch(e){ba(()=>{this.error=e instanceof Error?e:new Error("Failed to fetch products")})}finally{ba(()=>{this.loading=!1})}}async searchProducts(e,t){this.loading=!0,this.error=null;try{const i=lw(Rs,"Products");let s=Hg(i);e&&(s=Hg(i,$g("title",">=",e),$g("title","<=",e+""))),t.length>0&&(s=Hg(s,$g("subtitle","in",t)));const c=(await dw(s)).docs.map(h=>({id:h.id,...h.data()}));ba(()=>{this.products=c})}catch(i){ba(()=>{this.error=i instanceof Error?i:new Error("Failed to fetch products")})}finally{ba(()=>{this.loading=!1})}}destroy(){}}new SC;var Yg,Mw;function du(){return Mw||(Mw=1,Yg=TypeError),Yg}const kk={},Uk=Object.freeze(Object.defineProperty({__proto__:null,default:kk},Symbol.toStringTag,{value:"Module"})),jk=oI(Uk);var Xg,Vw;function vp(){if(Vw)return Xg;Vw=1;var n=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=n&&e&&typeof e.get=="function"?e.get:null,i=n&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&typeof l.get=="function"?l.get:null,h=s&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,g=p?WeakMap.prototype.has:null,v=typeof WeakSet=="function"&&WeakSet.prototype,b=v?WeakSet.prototype.has:null,T=typeof WeakRef=="function"&&WeakRef.prototype,w=T?WeakRef.prototype.deref:null,O=Boolean.prototype.valueOf,z=Object.prototype.toString,R=Function.prototype.toString,M=String.prototype.match,k=String.prototype.slice,G=String.prototype.replace,Z=String.prototype.toUpperCase,N=String.prototype.toLowerCase,re=RegExp.prototype.test,D=Array.prototype.concat,A=Array.prototype.join,I=Array.prototype.slice,x=Math.floor,j=typeof BigInt=="function"?BigInt.prototype.valueOf:null,U=Object.getOwnPropertySymbols,V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Xe=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Me=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Xe||!0)?Symbol.toStringTag:null,ae=Object.prototype.propertyIsEnumerable,ye=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(X){return X.__proto__}:null);function pe(X,J){if(X===1/0||X===-1/0||X!==X||X&&X>-1e3&&X<1e3||re.call(/e/,J))return J;var We=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof X=="number"){var yt=X<0?-x(-X):x(X);if(yt!==X){var vt=String(yt),ke=k.call(J,vt.length+1);return G.call(vt,We,"$&_")+"."+G.call(G.call(ke,/([0-9]{3})/g,"$&_"),/_$/,"")}}return G.call(J,We,"$&_")}var Ve=jk,B=Ve.custom,le=Ht(B)?B:null,me={__proto__:null,double:'"',single:"'"},de={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Xg=function X(J,We,yt,vt){var ke=We||{};if(Mt(ke,"quoteStyle")&&!Mt(me,ke.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mt(ke,"maxStringLength")&&(typeof ke.maxStringLength=="number"?ke.maxStringLength<0&&ke.maxStringLength!==1/0:ke.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ln=Mt(ke,"customInspect")?ke.customInspect:!0;if(typeof ln!="boolean"&&ln!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mt(ke,"indent")&&ke.indent!==null&&ke.indent!=="	"&&!(parseInt(ke.indent,10)===ke.indent&&ke.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mt(ke,"numericSeparator")&&typeof ke.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Nn=ke.numericSeparator;if(typeof J>"u")return"undefined";if(J===null)return"null";if(typeof J=="boolean")return J?"true":"false";if(typeof J=="string")return dt(J,ke);if(typeof J=="number"){if(J===0)return 1/0/J>0?"0":"-0";var Vt=String(J);return Nn?pe(J,Vt):Vt}if(typeof J=="bigint"){var tr=String(J)+"n";return Nn?pe(J,tr):tr}var mr=typeof ke.depth>"u"?5:ke.depth;if(typeof yt>"u"&&(yt=0),yt>=mr&&mr>0&&typeof J=="object")return Pt(J)?"[Array]":"[Object]";var q=jr(ke,yt);if(typeof vt>"u")vt=[];else if(Bn(vt,J)>=0)return"[Circular]";function H(bn,qn,en){if(qn&&(vt=I.call(vt),vt.push(qn)),en){var tn={depth:ke.depth};return Mt(ke,"quoteStyle")&&(tn.quoteStyle=ke.quoteStyle),X(bn,tn,yt+1,vt)}return X(bn,ke,yt+1,vt)}if(typeof J=="function"&&!Qe(J)){var ne=pr(J),oe=En(J,H);return"[Function"+(ne?": "+ne:" (anonymous)")+"]"+(oe.length>0?" { "+A.call(oe,", ")+" }":"")}if(Ht(J)){var ge=Xe?G.call(String(J),/^(Symbol\(.*\))_[^)]*$/,"$1"):V.call(J);return typeof J=="object"&&!Xe?Wt(ge):ge}if(gt(J)){for(var be="<"+N.call(String(J.nodeName)),Ae=J.attributes||[],Se=0;Se<Ae.length;Se++)be+=" "+Ae[Se].name+"="+we(Pe(Ae[Se].value),"double",ke);return be+=">",J.childNodes&&J.childNodes.length&&(be+="..."),be+="</"+N.call(String(J.nodeName))+">",be}if(Pt(J)){if(J.length===0)return"[]";var Ie=En(J,H);return q&&!Ur(Ie)?"["+br(Ie,q)+"]":"[ "+A.call(Ie,", ")+" ]"}if(ze(J)){var _e=En(J,H);return!("cause"in Error.prototype)&&"cause"in J&&!ae.call(J,"cause")?"{ ["+String(J)+"] "+A.call(D.call("[cause]: "+H(J.cause),_e),", ")+" }":_e.length===0?"["+String(J)+"]":"{ ["+String(J)+"] "+A.call(_e,", ")+" }"}if(typeof J=="object"&&ln){if(le&&typeof J[le]=="function"&&Ve)return Ve(J,{depth:mr-yt});if(ln!=="symbol"&&typeof J.inspect=="function")return J.inspect()}if(qt(J)){var Oe=[];return i&&i.call(J,function(bn,qn){Oe.push(H(qn,J,!0)+" => "+H(bn,J))}),Wi("Map",t.call(J),Oe,q)}if(er(J)){var Ne=[];return h&&h.call(J,function(bn){Ne.push(H(bn,J))}),Wi("Set",c.call(J),Ne,q)}if(Zn(J))return zn("WeakMap");if(lr(J))return zn("WeakSet");if(Jn(J))return zn("WeakRef");if(lt(J))return Wt(H(Number(J)));if(hn(J))return Wt(H(j.call(J)));if(ht(J))return Wt(O.call(J));if(mt(J))return Wt(H(String(J)));if(typeof window<"u"&&J===window)return"{ [object Window] }";if(typeof globalThis<"u"&&J===globalThis||typeof Jb<"u"&&J===Jb)return"{ [object globalThis] }";if(!rt(J)&&!Qe(J)){var $e=En(J,H),pt=ye?ye(J)===Object.prototype:J instanceof Object||J.constructor===Object,Ot=J instanceof Object?"":"null prototype",_t=!pt&&Me&&Object(J)===J&&Me in J?k.call(Dn(J),8,-1):Ot?"Object":"",Je=pt||typeof J.constructor!="function"?"":J.constructor.name?J.constructor.name+" ":"",Ge=Je+(_t||Ot?"["+A.call(D.call([],_t||[],Ot||[]),": ")+"] ":"");return $e.length===0?Ge+"{}":q?Ge+"{"+br($e,q)+"}":Ge+"{ "+A.call($e,", ")+" }"}return String(J)};function we(X,J,We){var yt=We.quoteStyle||J,vt=me[yt];return vt+X+vt}function Pe(X){return G.call(String(X),/"/g,"&quot;")}function De(X){return!Me||!(typeof X=="object"&&(Me in X||typeof X[Me]<"u"))}function Pt(X){return Dn(X)==="[object Array]"&&De(X)}function rt(X){return Dn(X)==="[object Date]"&&De(X)}function Qe(X){return Dn(X)==="[object RegExp]"&&De(X)}function ze(X){return Dn(X)==="[object Error]"&&De(X)}function mt(X){return Dn(X)==="[object String]"&&De(X)}function lt(X){return Dn(X)==="[object Number]"&&De(X)}function ht(X){return Dn(X)==="[object Boolean]"&&De(X)}function Ht(X){if(Xe)return X&&typeof X=="object"&&X instanceof Symbol;if(typeof X=="symbol")return!0;if(!X||typeof X!="object"||!V)return!1;try{return V.call(X),!0}catch{}return!1}function hn(X){if(!X||typeof X!="object"||!j)return!1;try{return j.call(X),!0}catch{}return!1}var Xt=Object.prototype.hasOwnProperty||function(X){return X in this};function Mt(X,J){return Xt.call(X,J)}function Dn(X){return z.call(X)}function pr(X){if(X.name)return X.name;var J=M.call(R.call(X),/^function\s*([\w$]+)/);return J?J[1]:null}function Bn(X,J){if(X.indexOf)return X.indexOf(J);for(var We=0,yt=X.length;We<yt;We++)if(X[We]===J)return We;return-1}function qt(X){if(!t||!X||typeof X!="object")return!1;try{t.call(X);try{c.call(X)}catch{return!0}return X instanceof Map}catch{}return!1}function Zn(X){if(!g||!X||typeof X!="object")return!1;try{g.call(X,g);try{b.call(X,b)}catch{return!0}return X instanceof WeakMap}catch{}return!1}function Jn(X){if(!w||!X||typeof X!="object")return!1;try{return w.call(X),!0}catch{}return!1}function er(X){if(!c||!X||typeof X!="object")return!1;try{c.call(X);try{t.call(X)}catch{return!0}return X instanceof Set}catch{}return!1}function lr(X){if(!b||!X||typeof X!="object")return!1;try{b.call(X,b);try{g.call(X,g)}catch{return!0}return X instanceof WeakSet}catch{}return!1}function gt(X){return!X||typeof X!="object"?!1:typeof HTMLElement<"u"&&X instanceof HTMLElement?!0:typeof X.nodeName=="string"&&typeof X.getAttribute=="function"}function dt(X,J){if(X.length>J.maxStringLength){var We=X.length-J.maxStringLength,yt="... "+We+" more character"+(We>1?"s":"");return dt(k.call(X,0,J.maxStringLength),J)+yt}var vt=de[J.quoteStyle||"single"];vt.lastIndex=0;var ke=G.call(G.call(X,vt,"\\$1"),/[\x00-\x1f]/g,_n);return we(ke,"single",J)}function _n(X){var J=X.charCodeAt(0),We={8:"b",9:"t",10:"n",12:"f",13:"r"}[J];return We?"\\"+We:"\\x"+(J<16?"0":"")+Z.call(J.toString(16))}function Wt(X){return"Object("+X+")"}function zn(X){return X+" { ? }"}function Wi(X,J,We,yt){var vt=yt?br(We,yt):A.call(We,", ");return X+" ("+J+") {"+vt+"}"}function Ur(X){for(var J=0;J<X.length;J++)if(Bn(X[J],`
`)>=0)return!1;return!0}function jr(X,J){var We;if(X.indent==="	")We="	";else if(typeof X.indent=="number"&&X.indent>0)We=A.call(Array(X.indent+1)," ");else return null;return{base:We,prev:A.call(Array(J+1),We)}}function br(X,J){if(X.length===0)return"";var We=`
`+J.prev+J.base;return We+A.call(X,","+We)+`
`+J.prev}function En(X,J){var We=Pt(X),yt=[];if(We){yt.length=X.length;for(var vt=0;vt<X.length;vt++)yt[vt]=Mt(X,vt)?J(X[vt],X):""}var ke=typeof U=="function"?U(X):[],ln;if(Xe){ln={};for(var Nn=0;Nn<ke.length;Nn++)ln["$"+ke[Nn]]=ke[Nn]}for(var Vt in X)Mt(X,Vt)&&(We&&String(Number(Vt))===Vt&&Vt<X.length||Xe&&ln["$"+Vt]instanceof Symbol||(re.call(/[^\w$]/,Vt)?yt.push(J(Vt,X)+": "+J(X[Vt],X)):yt.push(Vt+": "+J(X[Vt],X))));if(typeof U=="function")for(var tr=0;tr<ke.length;tr++)ae.call(X,ke[tr])&&yt.push("["+J(ke[tr])+"]: "+J(X[ke[tr]],X));return yt}return Xg}var Wg,Lw;function Bk(){if(Lw)return Wg;Lw=1;var n=vp(),e=du(),t=function(h,p,g){for(var v=h,b;(b=v.next)!=null;v=b)if(b.key===p)return v.next=b.next,g||(b.next=h.next,h.next=b),b},i=function(h,p){if(h){var g=t(h,p);return g&&g.value}},s=function(h,p,g){var v=t(h,p);v?v.value=g:h.next={key:p,next:h.next,value:g}},l=function(h,p){return h?!!t(h,p):!1},c=function(h,p){if(h)return t(h,p,!0)};return Wg=function(){var p,g={assert:function(v){if(!g.has(v))throw new e("Side channel does not contain "+n(v))},delete:function(v){var b=p&&p.next,T=c(p,v);return T&&b&&b===T&&(p=void 0),!!T},get:function(v){return i(p,v)},has:function(v){return l(p,v)},set:function(v,b){p||(p={next:void 0}),s(p,v,b)}};return g},Wg}var Zg,kw;function AC(){return kw||(kw=1,Zg=Object),Zg}var Jg,Uw;function zk(){return Uw||(Uw=1,Jg=Error),Jg}var ey,jw;function qk(){return jw||(jw=1,ey=EvalError),ey}var ty,Bw;function Fk(){return Bw||(Bw=1,ty=RangeError),ty}var ny,zw;function Hk(){return zw||(zw=1,ny=ReferenceError),ny}var ry,qw;function $k(){return qw||(qw=1,ry=SyntaxError),ry}var iy,Fw;function Gk(){return Fw||(Fw=1,iy=URIError),iy}var ay,Hw;function Kk(){return Hw||(Hw=1,ay=Math.abs),ay}var sy,$w;function Qk(){return $w||($w=1,sy=Math.floor),sy}var oy,Gw;function Yk(){return Gw||(Gw=1,oy=Math.max),oy}var ly,Kw;function Xk(){return Kw||(Kw=1,ly=Math.min),ly}var uy,Qw;function Wk(){return Qw||(Qw=1,uy=Math.pow),uy}var cy,Yw;function Zk(){return Yw||(Yw=1,cy=Math.round),cy}var fy,Xw;function Jk(){return Xw||(Xw=1,fy=Number.isNaN||function(e){return e!==e}),fy}var hy,Ww;function e5(){if(Ww)return hy;Ww=1;var n=Jk();return hy=function(t){return n(t)||t===0?t:t<0?-1:1},hy}var dy,Zw;function t5(){return Zw||(Zw=1,dy=Object.getOwnPropertyDescriptor),dy}var py,Jw;function RC(){if(Jw)return py;Jw=1;var n=t5();if(n)try{n([],"length")}catch{n=null}return py=n,py}var my,eS;function n5(){if(eS)return my;eS=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return my=n,my}var gy,tS;function r5(){return tS||(tS=1,gy=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(var l in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(e,t);if(h.value!==s||h.enumerable!==!0)return!1}return!0}),gy}var yy,nS;function i5(){if(nS)return yy;nS=1;var n=typeof Symbol<"u"&&Symbol,e=r5();return yy=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},yy}var vy,rS;function CC(){return rS||(rS=1,vy=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),vy}var _y,iS;function OC(){if(iS)return _y;iS=1;var n=AC();return _y=n.getPrototypeOf||null,_y}var Ey,aS;function a5(){if(aS)return Ey;aS=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,i="[object Function]",s=function(p,g){for(var v=[],b=0;b<p.length;b+=1)v[b]=p[b];for(var T=0;T<g.length;T+=1)v[T+p.length]=g[T];return v},l=function(p,g){for(var v=[],b=g,T=0;b<p.length;b+=1,T+=1)v[T]=p[b];return v},c=function(h,p){for(var g="",v=0;v<h.length;v+=1)g+=h[v],v+1<h.length&&(g+=p);return g};return Ey=function(p){var g=this;if(typeof g!="function"||e.apply(g)!==i)throw new TypeError(n+g);for(var v=l(arguments,1),b,T=function(){if(this instanceof b){var M=g.apply(this,s(v,arguments));return Object(M)===M?M:this}return g.apply(p,s(v,arguments))},w=t(0,g.length-v.length),O=[],z=0;z<w;z++)O[z]="$"+z;if(b=Function("binder","return function ("+c(O,",")+"){ return binder.apply(this,arguments); }")(T),g.prototype){var R=function(){};R.prototype=g.prototype,b.prototype=new R,R.prototype=null}return b},Ey}var by,sS;function _p(){if(sS)return by;sS=1;var n=a5();return by=Function.prototype.bind||n,by}var Ty,oS;function B_(){return oS||(oS=1,Ty=Function.prototype.call),Ty}var wy,lS;function IC(){return lS||(lS=1,wy=Function.prototype.apply),wy}var Sy,uS;function s5(){return uS||(uS=1,Sy=typeof Reflect<"u"&&Reflect&&Reflect.apply),Sy}var Ay,cS;function o5(){if(cS)return Ay;cS=1;var n=_p(),e=IC(),t=B_(),i=s5();return Ay=i||n.call(t,e),Ay}var Ry,fS;function DC(){if(fS)return Ry;fS=1;var n=_p(),e=du(),t=B_(),i=o5();return Ry=function(l){if(l.length<1||typeof l[0]!="function")throw new e("a function is required");return i(n,t,l)},Ry}var Cy,hS;function l5(){if(hS)return Cy;hS=1;var n=DC(),e=RC(),t;try{t=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var i=!!t&&e&&e(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;return Cy=i&&typeof i.get=="function"?n([i.get]):typeof l=="function"?function(h){return l(h==null?h:s(h))}:!1,Cy}var Oy,dS;function u5(){if(dS)return Oy;dS=1;var n=CC(),e=OC(),t=l5();return Oy=n?function(s){return n(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:t?function(s){return t(s)}:null,Oy}var Iy,pS;function c5(){if(pS)return Iy;pS=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=_p();return Iy=t.call(n,e),Iy}var Dy,mS;function z_(){if(mS)return Dy;mS=1;var n,e=AC(),t=zk(),i=qk(),s=Fk(),l=Hk(),c=$k(),h=du(),p=Gk(),g=Kk(),v=Qk(),b=Yk(),T=Xk(),w=Wk(),O=Zk(),z=e5(),R=Function,M=function(Qe){try{return R('"use strict"; return ('+Qe+").constructor;")()}catch{}},k=RC(),G=n5(),Z=function(){throw new h},N=k?function(){try{return arguments.callee,Z}catch{try{return k(arguments,"callee").get}catch{return Z}}}():Z,re=i5()(),D=u5(),A=OC(),I=CC(),x=IC(),j=B_(),U={},V=typeof Uint8Array>"u"||!D?n:D(Uint8Array),Xe={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":re&&D?D([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":i,"%Float16Array%":typeof Float16Array>"u"?n:Float16Array,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":R,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":re&&D?D(D([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!re||!D?n:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":k,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!re||!D?n:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":re&&D?D(""[Symbol.iterator]()):n,"%Symbol%":re?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":N,"%TypedArray%":V,"%TypeError%":h,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":j,"%Function.prototype.apply%":x,"%Object.defineProperty%":G,"%Object.getPrototypeOf%":A,"%Math.abs%":g,"%Math.floor%":v,"%Math.max%":b,"%Math.min%":T,"%Math.pow%":w,"%Math.round%":O,"%Math.sign%":z,"%Reflect.getPrototypeOf%":I};if(D)try{null.error}catch(Qe){var Me=D(D(Qe));Xe["%Error.prototype%"]=Me}var ae=function Qe(ze){var mt;if(ze==="%AsyncFunction%")mt=M("async function () {}");else if(ze==="%GeneratorFunction%")mt=M("function* () {}");else if(ze==="%AsyncGeneratorFunction%")mt=M("async function* () {}");else if(ze==="%AsyncGenerator%"){var lt=Qe("%AsyncGeneratorFunction%");lt&&(mt=lt.prototype)}else if(ze==="%AsyncIteratorPrototype%"){var ht=Qe("%AsyncGenerator%");ht&&D&&(mt=D(ht.prototype))}return Xe[ze]=mt,mt},ye={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pe=_p(),Ve=c5(),B=pe.call(j,Array.prototype.concat),le=pe.call(x,Array.prototype.splice),me=pe.call(j,String.prototype.replace),de=pe.call(j,String.prototype.slice),we=pe.call(j,RegExp.prototype.exec),Pe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,De=/\\(\\)?/g,Pt=function(ze){var mt=de(ze,0,1),lt=de(ze,-1);if(mt==="%"&&lt!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(lt==="%"&&mt!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var ht=[];return me(ze,Pe,function(Ht,hn,Xt,Mt){ht[ht.length]=Xt?me(Mt,De,"$1"):hn||Ht}),ht},rt=function(ze,mt){var lt=ze,ht;if(Ve(ye,lt)&&(ht=ye[lt],lt="%"+ht[0]+"%"),Ve(Xe,lt)){var Ht=Xe[lt];if(Ht===U&&(Ht=ae(lt)),typeof Ht>"u"&&!mt)throw new h("intrinsic "+ze+" exists, but is not available. Please file an issue!");return{alias:ht,name:lt,value:Ht}}throw new c("intrinsic "+ze+" does not exist!")};return Dy=function(ze,mt){if(typeof ze!="string"||ze.length===0)throw new h("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof mt!="boolean")throw new h('"allowMissing" argument must be a boolean');if(we(/^%?[^%]*%?$/,ze)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var lt=Pt(ze),ht=lt.length>0?lt[0]:"",Ht=rt("%"+ht+"%",mt),hn=Ht.name,Xt=Ht.value,Mt=!1,Dn=Ht.alias;Dn&&(ht=Dn[0],le(lt,B([0,1],Dn)));for(var pr=1,Bn=!0;pr<lt.length;pr+=1){var qt=lt[pr],Zn=de(qt,0,1),Jn=de(qt,-1);if((Zn==='"'||Zn==="'"||Zn==="`"||Jn==='"'||Jn==="'"||Jn==="`")&&Zn!==Jn)throw new c("property names with quotes must have matching quotes");if((qt==="constructor"||!Bn)&&(Mt=!0),ht+="."+qt,hn="%"+ht+"%",Ve(Xe,hn))Xt=Xe[hn];else if(Xt!=null){if(!(qt in Xt)){if(!mt)throw new h("base intrinsic for "+ze+" exists, but the property is not available.");return}if(k&&pr+1>=lt.length){var er=k(Xt,qt);Bn=!!er,Bn&&"get"in er&&!("originalValue"in er.get)?Xt=er.get:Xt=Xt[qt]}else Bn=Ve(Xt,qt),Xt=Xt[qt];Bn&&!Mt&&(Xe[hn]=Xt)}}return Xt},Dy}var Ny,gS;function NC(){if(gS)return Ny;gS=1;var n=z_(),e=DC(),t=e([n("%String.prototype.indexOf%")]);return Ny=function(s,l){var c=n(s,!!l);return typeof c=="function"&&t(s,".prototype.")>-1?e([c]):c},Ny}var xy,yS;function xC(){if(yS)return xy;yS=1;var n=z_(),e=NC(),t=vp(),i=du(),s=n("%Map%",!0),l=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),h=e("Map.prototype.has",!0),p=e("Map.prototype.delete",!0),g=e("Map.prototype.size",!0);return xy=!!s&&function(){var b,T={assert:function(w){if(!T.has(w))throw new i("Side channel does not contain "+t(w))},delete:function(w){if(b){var O=p(b,w);return g(b)===0&&(b=void 0),O}return!1},get:function(w){if(b)return l(b,w)},has:function(w){return b?h(b,w):!1},set:function(w,O){b||(b=new s),c(b,w,O)}};return T},xy}var Py,vS;function f5(){if(vS)return Py;vS=1;var n=z_(),e=NC(),t=vp(),i=xC(),s=du(),l=n("%WeakMap%",!0),c=e("WeakMap.prototype.get",!0),h=e("WeakMap.prototype.set",!0),p=e("WeakMap.prototype.has",!0),g=e("WeakMap.prototype.delete",!0);return Py=l?function(){var b,T,w={assert:function(O){if(!w.has(O))throw new s("Side channel does not contain "+t(O))},delete:function(O){if(l&&O&&(typeof O=="object"||typeof O=="function")){if(b)return g(b,O)}else if(i&&T)return T.delete(O);return!1},get:function(O){return l&&O&&(typeof O=="object"||typeof O=="function")&&b?c(b,O):T&&T.get(O)},has:function(O){return l&&O&&(typeof O=="object"||typeof O=="function")&&b?p(b,O):!!T&&T.has(O)},set:function(O,z){l&&O&&(typeof O=="object"||typeof O=="function")?(b||(b=new l),h(b,O,z)):i&&(T||(T=i()),T.set(O,z))}};return w}:i,Py}var My,_S;function h5(){if(_S)return My;_S=1;var n=du(),e=vp(),t=Bk(),i=xC(),s=f5(),l=s||i||t;return My=function(){var h,p={assert:function(g){if(!p.has(g))throw new n("Side channel does not contain "+e(g))},delete:function(g){return!!h&&h.delete(g)},get:function(g){return h&&h.get(g)},has:function(g){return!!h&&h.has(g)},set:function(g,v){h||(h=l()),h.set(g,v)}};return p},My}var Vy,ES;function q_(){if(ES)return Vy;ES=1;var n=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Vy={default:t.RFC3986,formatters:{RFC1738:function(i){return n.call(i,e,"+")},RFC3986:function(i){return String(i)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},Vy}var Ly,bS;function PC(){if(bS)return Ly;bS=1;var n=q_(),e=Object.prototype.hasOwnProperty,t=Array.isArray,i=function(){for(var R=[],M=0;M<256;++M)R.push("%"+((M<16?"0":"")+M.toString(16)).toUpperCase());return R}(),s=function(M){for(;M.length>1;){var k=M.pop(),G=k.obj[k.prop];if(t(G)){for(var Z=[],N=0;N<G.length;++N)typeof G[N]<"u"&&Z.push(G[N]);k.obj[k.prop]=Z}}},l=function(M,k){for(var G=k&&k.plainObjects?{__proto__:null}:{},Z=0;Z<M.length;++Z)typeof M[Z]<"u"&&(G[Z]=M[Z]);return G},c=function R(M,k,G){if(!k)return M;if(typeof k!="object"&&typeof k!="function"){if(t(M))M.push(k);else if(M&&typeof M=="object")(G&&(G.plainObjects||G.allowPrototypes)||!e.call(Object.prototype,k))&&(M[k]=!0);else return[M,k];return M}if(!M||typeof M!="object")return[M].concat(k);var Z=M;return t(M)&&!t(k)&&(Z=l(M,G)),t(M)&&t(k)?(k.forEach(function(N,re){if(e.call(M,re)){var D=M[re];D&&typeof D=="object"&&N&&typeof N=="object"?M[re]=R(D,N,G):M.push(N)}else M[re]=N}),M):Object.keys(k).reduce(function(N,re){var D=k[re];return e.call(N,re)?N[re]=R(N[re],D,G):N[re]=D,N},Z)},h=function(M,k){return Object.keys(k).reduce(function(G,Z){return G[Z]=k[Z],G},M)},p=function(R,M,k){var G=R.replace(/\+/g," ");if(k==="iso-8859-1")return G.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(G)}catch{return G}},g=1024,v=function(M,k,G,Z,N){if(M.length===0)return M;var re=M;if(typeof M=="symbol"?re=Symbol.prototype.toString.call(M):typeof M!="string"&&(re=String(M)),G==="iso-8859-1")return escape(re).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var D="",A=0;A<re.length;A+=g){for(var I=re.length>=g?re.slice(A,A+g):re,x=[],j=0;j<I.length;++j){var U=I.charCodeAt(j);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||N===n.RFC1738&&(U===40||U===41)){x[x.length]=I.charAt(j);continue}if(U<128){x[x.length]=i[U];continue}if(U<2048){x[x.length]=i[192|U>>6]+i[128|U&63];continue}if(U<55296||U>=57344){x[x.length]=i[224|U>>12]+i[128|U>>6&63]+i[128|U&63];continue}j+=1,U=65536+((U&1023)<<10|I.charCodeAt(j)&1023),x[x.length]=i[240|U>>18]+i[128|U>>12&63]+i[128|U>>6&63]+i[128|U&63]}D+=x.join("")}return D},b=function(M){for(var k=[{obj:{o:M},prop:"o"}],G=[],Z=0;Z<k.length;++Z)for(var N=k[Z],re=N.obj[N.prop],D=Object.keys(re),A=0;A<D.length;++A){var I=D[A],x=re[I];typeof x=="object"&&x!==null&&G.indexOf(x)===-1&&(k.push({obj:re,prop:I}),G.push(x))}return s(k),M},T=function(M){return Object.prototype.toString.call(M)==="[object RegExp]"},w=function(M){return!M||typeof M!="object"?!1:!!(M.constructor&&M.constructor.isBuffer&&M.constructor.isBuffer(M))},O=function(M,k){return[].concat(M,k)},z=function(M,k){if(t(M)){for(var G=[],Z=0;Z<M.length;Z+=1)G.push(k(M[Z]));return G}return k(M)};return Ly={arrayToObject:l,assign:h,combine:O,compact:b,decode:p,encode:v,isBuffer:w,isRegExp:T,maybeMap:z,merge:c},Ly}var ky,TS;function d5(){if(TS)return ky;TS=1;var n=h5(),e=PC(),t=q_(),i=Object.prototype.hasOwnProperty,s={brackets:function(R){return R+"[]"},comma:"comma",indices:function(R,M){return R+"["+M+"]"},repeat:function(R){return R}},l=Array.isArray,c=Array.prototype.push,h=function(z,R){c.apply(z,l(R)?R:[R])},p=Date.prototype.toISOString,g=t.default,v={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:g,formatter:t.formatters[g],indices:!1,serializeDate:function(R){return p.call(R)},skipNulls:!1,strictNullHandling:!1},b=function(R){return typeof R=="string"||typeof R=="number"||typeof R=="boolean"||typeof R=="symbol"||typeof R=="bigint"},T={},w=function z(R,M,k,G,Z,N,re,D,A,I,x,j,U,V,Xe,Me,ae,ye){for(var pe=R,Ve=ye,B=0,le=!1;(Ve=Ve.get(T))!==void 0&&!le;){var me=Ve.get(R);if(B+=1,typeof me<"u"){if(me===B)throw new RangeError("Cyclic object value");le=!0}typeof Ve.get(T)>"u"&&(B=0)}if(typeof I=="function"?pe=I(M,pe):pe instanceof Date?pe=U(pe):k==="comma"&&l(pe)&&(pe=e.maybeMap(pe,function(hn){return hn instanceof Date?U(hn):hn})),pe===null){if(N)return A&&!Me?A(M,v.encoder,ae,"key",V):M;pe=""}if(b(pe)||e.isBuffer(pe)){if(A){var de=Me?M:A(M,v.encoder,ae,"key",V);return[Xe(de)+"="+Xe(A(pe,v.encoder,ae,"value",V))]}return[Xe(M)+"="+Xe(String(pe))]}var we=[];if(typeof pe>"u")return we;var Pe;if(k==="comma"&&l(pe))Me&&A&&(pe=e.maybeMap(pe,A)),Pe=[{value:pe.length>0?pe.join(",")||null:void 0}];else if(l(I))Pe=I;else{var De=Object.keys(pe);Pe=x?De.sort(x):De}var Pt=D?String(M).replace(/\./g,"%2E"):String(M),rt=G&&l(pe)&&pe.length===1?Pt+"[]":Pt;if(Z&&l(pe)&&pe.length===0)return rt+"[]";for(var Qe=0;Qe<Pe.length;++Qe){var ze=Pe[Qe],mt=typeof ze=="object"&&ze&&typeof ze.value<"u"?ze.value:pe[ze];if(!(re&&mt===null)){var lt=j&&D?String(ze).replace(/\./g,"%2E"):String(ze),ht=l(pe)?typeof k=="function"?k(rt,lt):rt:rt+(j?"."+lt:"["+lt+"]");ye.set(R,B);var Ht=n();Ht.set(T,ye),h(we,z(mt,ht,k,G,Z,N,re,D,k==="comma"&&Me&&l(pe)?null:A,I,x,j,U,V,Xe,Me,ae,Ht))}}return we},O=function(R){if(!R)return v;if(typeof R.allowEmptyArrays<"u"&&typeof R.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof R.encodeDotInKeys<"u"&&typeof R.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(R.encoder!==null&&typeof R.encoder<"u"&&typeof R.encoder!="function")throw new TypeError("Encoder has to be a function.");var M=R.charset||v.charset;if(typeof R.charset<"u"&&R.charset!=="utf-8"&&R.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var k=t.default;if(typeof R.format<"u"){if(!i.call(t.formatters,R.format))throw new TypeError("Unknown format option provided.");k=R.format}var G=t.formatters[k],Z=v.filter;(typeof R.filter=="function"||l(R.filter))&&(Z=R.filter);var N;if(R.arrayFormat in s?N=R.arrayFormat:"indices"in R?N=R.indices?"indices":"repeat":N=v.arrayFormat,"commaRoundTrip"in R&&typeof R.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var re=typeof R.allowDots>"u"?R.encodeDotInKeys===!0?!0:v.allowDots:!!R.allowDots;return{addQueryPrefix:typeof R.addQueryPrefix=="boolean"?R.addQueryPrefix:v.addQueryPrefix,allowDots:re,allowEmptyArrays:typeof R.allowEmptyArrays=="boolean"?!!R.allowEmptyArrays:v.allowEmptyArrays,arrayFormat:N,charset:M,charsetSentinel:typeof R.charsetSentinel=="boolean"?R.charsetSentinel:v.charsetSentinel,commaRoundTrip:!!R.commaRoundTrip,delimiter:typeof R.delimiter>"u"?v.delimiter:R.delimiter,encode:typeof R.encode=="boolean"?R.encode:v.encode,encodeDotInKeys:typeof R.encodeDotInKeys=="boolean"?R.encodeDotInKeys:v.encodeDotInKeys,encoder:typeof R.encoder=="function"?R.encoder:v.encoder,encodeValuesOnly:typeof R.encodeValuesOnly=="boolean"?R.encodeValuesOnly:v.encodeValuesOnly,filter:Z,format:k,formatter:G,serializeDate:typeof R.serializeDate=="function"?R.serializeDate:v.serializeDate,skipNulls:typeof R.skipNulls=="boolean"?R.skipNulls:v.skipNulls,sort:typeof R.sort=="function"?R.sort:null,strictNullHandling:typeof R.strictNullHandling=="boolean"?R.strictNullHandling:v.strictNullHandling}};return ky=function(z,R){var M=z,k=O(R),G,Z;typeof k.filter=="function"?(Z=k.filter,M=Z("",M)):l(k.filter)&&(Z=k.filter,G=Z);var N=[];if(typeof M!="object"||M===null)return"";var re=s[k.arrayFormat],D=re==="comma"&&k.commaRoundTrip;G||(G=Object.keys(M)),k.sort&&G.sort(k.sort);for(var A=n(),I=0;I<G.length;++I){var x=G[I],j=M[x];k.skipNulls&&j===null||h(N,w(j,x,re,D,k.allowEmptyArrays,k.strictNullHandling,k.skipNulls,k.encodeDotInKeys,k.encode?k.encoder:null,k.filter,k.sort,k.allowDots,k.serializeDate,k.format,k.formatter,k.encodeValuesOnly,k.charset,A))}var U=N.join(k.delimiter),V=k.addQueryPrefix===!0?"?":"";return k.charsetSentinel&&(k.charset==="iso-8859-1"?V+="utf8=%26%2310003%3B&":V+="utf8=%E2%9C%93&"),U.length>0?V+U:""},ky}var Uy,wS;function p5(){if(wS)return Uy;wS=1;var n=PC(),e=Object.prototype.hasOwnProperty,t=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(T){return T.replace(/&#(\d+);/g,function(w,O){return String.fromCharCode(parseInt(O,10))})},l=function(T,w,O){if(T&&typeof T=="string"&&w.comma&&T.indexOf(",")>-1)return T.split(",");if(w.throwOnLimitExceeded&&O>=w.arrayLimit)throw new RangeError("Array limit exceeded. Only "+w.arrayLimit+" element"+(w.arrayLimit===1?"":"s")+" allowed in an array.");return T},c="utf8=%26%2310003%3B",h="utf8=%E2%9C%93",p=function(w,O){var z={__proto__:null},R=O.ignoreQueryPrefix?w.replace(/^\?/,""):w;R=R.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var M=O.parameterLimit===1/0?void 0:O.parameterLimit,k=R.split(O.delimiter,O.throwOnLimitExceeded?M+1:M);if(O.throwOnLimitExceeded&&k.length>M)throw new RangeError("Parameter limit exceeded. Only "+M+" parameter"+(M===1?"":"s")+" allowed.");var G=-1,Z,N=O.charset;if(O.charsetSentinel)for(Z=0;Z<k.length;++Z)k[Z].indexOf("utf8=")===0&&(k[Z]===h?N="utf-8":k[Z]===c&&(N="iso-8859-1"),G=Z,Z=k.length);for(Z=0;Z<k.length;++Z)if(Z!==G){var re=k[Z],D=re.indexOf("]="),A=D===-1?re.indexOf("="):D+1,I,x;A===-1?(I=O.decoder(re,i.decoder,N,"key"),x=O.strictNullHandling?null:""):(I=O.decoder(re.slice(0,A),i.decoder,N,"key"),x=n.maybeMap(l(re.slice(A+1),O,t(z[I])?z[I].length:0),function(U){return O.decoder(U,i.decoder,N,"value")})),x&&O.interpretNumericEntities&&N==="iso-8859-1"&&(x=s(String(x))),re.indexOf("[]=")>-1&&(x=t(x)?[x]:x);var j=e.call(z,I);j&&O.duplicates==="combine"?z[I]=n.combine(z[I],x):(!j||O.duplicates==="last")&&(z[I]=x)}return z},g=function(T,w,O,z){var R=0;if(T.length>0&&T[T.length-1]==="[]"){var M=T.slice(0,-1).join("");R=Array.isArray(w)&&w[M]?w[M].length:0}for(var k=z?w:l(w,O,R),G=T.length-1;G>=0;--G){var Z,N=T[G];if(N==="[]"&&O.parseArrays)Z=O.allowEmptyArrays&&(k===""||O.strictNullHandling&&k===null)?[]:n.combine([],k);else{Z=O.plainObjects?{__proto__:null}:{};var re=N.charAt(0)==="["&&N.charAt(N.length-1)==="]"?N.slice(1,-1):N,D=O.decodeDotInKeys?re.replace(/%2E/g,"."):re,A=parseInt(D,10);!O.parseArrays&&D===""?Z={0:k}:!isNaN(A)&&N!==D&&String(A)===D&&A>=0&&O.parseArrays&&A<=O.arrayLimit?(Z=[],Z[A]=k):D!=="__proto__"&&(Z[D]=k)}k=Z}return k},v=function(w,O,z,R){if(w){var M=z.allowDots?w.replace(/\.([^.[]+)/g,"[$1]"):w,k=/(\[[^[\]]*])/,G=/(\[[^[\]]*])/g,Z=z.depth>0&&k.exec(M),N=Z?M.slice(0,Z.index):M,re=[];if(N){if(!z.plainObjects&&e.call(Object.prototype,N)&&!z.allowPrototypes)return;re.push(N)}for(var D=0;z.depth>0&&(Z=G.exec(M))!==null&&D<z.depth;){if(D+=1,!z.plainObjects&&e.call(Object.prototype,Z[1].slice(1,-1))&&!z.allowPrototypes)return;re.push(Z[1])}if(Z){if(z.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+z.depth+" and strictDepth is true");re.push("["+M.slice(Z.index)+"]")}return g(re,O,z,R)}},b=function(w){if(!w)return i;if(typeof w.allowEmptyArrays<"u"&&typeof w.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof w.decodeDotInKeys<"u"&&typeof w.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(w.decoder!==null&&typeof w.decoder<"u"&&typeof w.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof w.charset<"u"&&w.charset!=="utf-8"&&w.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof w.throwOnLimitExceeded<"u"&&typeof w.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var O=typeof w.charset>"u"?i.charset:w.charset,z=typeof w.duplicates>"u"?i.duplicates:w.duplicates;if(z!=="combine"&&z!=="first"&&z!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var R=typeof w.allowDots>"u"?w.decodeDotInKeys===!0?!0:i.allowDots:!!w.allowDots;return{allowDots:R,allowEmptyArrays:typeof w.allowEmptyArrays=="boolean"?!!w.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:typeof w.allowPrototypes=="boolean"?w.allowPrototypes:i.allowPrototypes,allowSparse:typeof w.allowSparse=="boolean"?w.allowSparse:i.allowSparse,arrayLimit:typeof w.arrayLimit=="number"?w.arrayLimit:i.arrayLimit,charset:O,charsetSentinel:typeof w.charsetSentinel=="boolean"?w.charsetSentinel:i.charsetSentinel,comma:typeof w.comma=="boolean"?w.comma:i.comma,decodeDotInKeys:typeof w.decodeDotInKeys=="boolean"?w.decodeDotInKeys:i.decodeDotInKeys,decoder:typeof w.decoder=="function"?w.decoder:i.decoder,delimiter:typeof w.delimiter=="string"||n.isRegExp(w.delimiter)?w.delimiter:i.delimiter,depth:typeof w.depth=="number"||w.depth===!1?+w.depth:i.depth,duplicates:z,ignoreQueryPrefix:w.ignoreQueryPrefix===!0,interpretNumericEntities:typeof w.interpretNumericEntities=="boolean"?w.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:typeof w.parameterLimit=="number"?w.parameterLimit:i.parameterLimit,parseArrays:w.parseArrays!==!1,plainObjects:typeof w.plainObjects=="boolean"?w.plainObjects:i.plainObjects,strictDepth:typeof w.strictDepth=="boolean"?!!w.strictDepth:i.strictDepth,strictNullHandling:typeof w.strictNullHandling=="boolean"?w.strictNullHandling:i.strictNullHandling,throwOnLimitExceeded:typeof w.throwOnLimitExceeded=="boolean"?w.throwOnLimitExceeded:!1}};return Uy=function(T,w){var O=b(w);if(T===""||T===null||typeof T>"u")return O.plainObjects?{__proto__:null}:{};for(var z=typeof T=="string"?p(T,O):T,R=O.plainObjects?{__proto__:null}:{},M=Object.keys(z),k=0;k<M.length;++k){var G=M[k],Z=v(G,z[G],O,typeof T=="string");R=n.merge(R,Z,O)}return O.allowSparse===!0?R:n.compact(R)},Uy}var jy,SS;function m5(){if(SS)return jy;SS=1;var n=d5(),e=p5(),t=q_();return jy={formats:t,parse:e,stringify:n},jy}var AS=m5();class g5{constructor(){Kn(this,"_params",{});Kn(this,"_search","");PA(this,{_params:Cn.ref,setSearch:Sa,setQueryParam:Sa})}getParam(e){const t=this._params[e];return Array.isArray(t)&&t.every(i=>typeof i=="string"),t}setSearch(e){e=e.startsWith("?")?e.slice(1):e,this._search!==e&&(this._search=e,this._params=AS.parse(e))}setQueryParam(e,t){t===void 0?delete this._params[e]:this._params[e]=t.toString(),this._search=AS.stringify(this._params),window.history.replaceState(null,"",`?${this._search}`)}destroy(){}}const Ea={"skeleton-card":"_skeleton-card_1f2ql_9","skeleton-card__image":"_skeleton-card__image_1f2ql_21","skeleton-card__content":"_skeleton-card__content_1f2ql_28","skeleton-card__title":"_skeleton-card__title_1f2ql_34","skeleton-card__subtitle":"_skeleton-card__subtitle_1f2ql_34","skeleton-card__description":"_skeleton-card__description_1f2ql_34","skeleton-card__button":"_skeleton-card__button_1f2ql_34"},y5=()=>P.jsxs("div",{className:Ea["skeleton-card"],children:[P.jsx("div",{className:Ea["skeleton-card__image"]}),P.jsxs("div",{className:Ea["skeleton-card__content"],children:[P.jsx("div",{className:Ea["skeleton-card__title"]}),P.jsx("div",{className:Ea["skeleton-card__subtitle"]}),P.jsx("div",{className:Ea["skeleton-card__description"]}),P.jsx("div",{className:Ea["skeleton-card__description"]}),P.jsx("div",{className:Ea["skeleton-card__description"]}),P.jsx("div",{className:Ea["skeleton-card__button"]})]})]}),v5=Jc(()=>{const n=Iv(()=>new SC),e=Iv(()=>new g5);return K.useEffect(()=>{e.setSearch(window.location.search);const t=e.getParam("q"),i=e.getParam("page"),s=e.getParam("category");if(t&&n.setSearchValue(t),i&&n.setCurrentPage(Number(i)),s){const l=TC.filter(c=>s.includes(c.key));n.setSelectedOptions(l)}},[e,n]),K.useEffect(()=>{const t=jx(()=>({searchValue:n.searchValue,currentPage:n.currentPage,selectedOptions:n.selectedOptions.map(i=>i.key)}),({searchValue:i,currentPage:s,selectedOptions:l})=>{e.setQueryParam("q",i),e.setQueryParam("page",s),e.setQueryParam("category",l.join(",")||void 0)});return()=>t()},[n,e]),K.useEffect(()=>{n.fetchAllProducts()},[n]),K.useEffect(()=>{const t=setTimeout(()=>n.setShowSkeleton(!1),1e3);return()=>clearTimeout(t)},[n.loading,n.selectedOptions]),K.useEffect(()=>{n.setShowSkeleton(!0)},[n.selectedOptions,n.products.length]),K.useEffect(()=>{const t=n.selectedOptions.map(i=>i.value);n.searchProducts(n.searchValue,t)},[n.selectedOptions,n.searchValue,n]),n.error?P.jsxs(ft,{className:Qt.error,view:"title",children:["Error: ",n.error.message]}):P.jsxs("div",{className:Qt.page,children:[P.jsx(ja,{}),P.jsxs("div",{className:Qt.content,children:[P.jsx(Sk,{}),P.jsx(Pk,{catalogStore:n,productsCount:n.products.length}),n.showSkeleton?P.jsx("div",{className:Qt.productGrid,children:Array.from({length:6}).map((t,i)=>P.jsx(y5,{},i))}):P.jsx(Vk,{products:n.currentPosts}),P.jsx(Lk,{totalPosts:n.products.length,postsPerPage:n.postsPerPage,setCurrentPage:n.setCurrentPage.bind(n),currentPage:n.currentPage})]})]})}),Rn={"product-page":"_product-page_1nfz7_1","product-page__content":"_product-page__content_1nfz7_5","product-page__back":"_product-page__back_1nfz7_10","product-page__back-link":"_product-page__back-link_1nfz7_15","product-page__back-icon":"_product-page__back-icon_1nfz7_18","product-page__loading":"_product-page__loading_1nfz7_22","product-page__progress":"_product-page__progress_1nfz7_25","product-details":"_product-details_1nfz7_35","product-details__image":"_product-details__image_1nfz7_41","product-details__image-img":"_product-details__image-img_1nfz7_45","product-details__info":"_product-details__info_1nfz7_75","product-details__description":"_product-details__description_1nfz7_78","product-details__price":"_product-details__price_1nfz7_82","product-details__actions":"_product-details__actions_1nfz7_85","product-details__add-button":"_product-details__add-button_1nfz7_90","related-products":"_related-products_1nfz7_99","related-products__title":"_related-products__title_1nfz7_103","related-products__grid":"_related-products__grid_1nfz7_106"},_5=()=>P.jsx(Qn,{to:Jt.main.create(),className:Rn["product-page__back-link"],children:P.jsxs("div",{className:Rn["product-page__back"],children:[P.jsx("svg",{className:Rn["product-page__back-icon"],viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M20.1201 26.56L11.4268 17.8667C10.4001 16.84 10.4001 15.16 11.4268 14.1333L20.1201 5.44",stroke:"black",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})}),P.jsx(ft,{view:"p-20",children:"Back",color:"primary"})]})}),E5=({product:n})=>P.jsx("div",{className:Rn["product-details__image"],children:P.jsx("img",{className:Rn["product-details__image-img"],src:n.image,alt:n.title})}),b5=({product:n})=>P.jsxs(P.Fragment,{children:[P.jsx(ft,{view:"title",children:n.title}),P.jsx(ft,{tag:"p",color:"secondary",className:Rn["product-details__description"],children:n.description})]}),T5=({product:n})=>P.jsxs(P.Fragment,{children:[P.jsx(ft,{view:"title",className:Rn["product-details__price"],children:n.price}),P.jsxs("div",{className:Rn["product-details__actions"],children:[P.jsx(Xi,{children:"Buy Now"}),P.jsx(Xi,{className:Rn["product-details__add-button"],children:"Add to Cart"})]})]}),w5=({products:n})=>P.jsxs("div",{className:Rn["related-products"],children:[P.jsx(ft,{tag:"h2",view:"title",className:Rn["related-products__title"],children:"Related Items"}),P.jsx("div",{className:Rn["related-products__grid"],children:n.map(e=>P.jsx(wC,{image:e.image,title:e.title,subtitle:e.subtitle,contentSlot:P.jsx(ft,{tag:"p",weight:"bold",children:e.price}),actionSlot:P.jsx(Xi,{children:"Add to Cart"})},e.id))})]}),S5="_title_1osz6_12",A5="_message_1osz6_13",Mi={"not-found-container":"_not-found-container_1osz6_1","error-code":"_error-code_1osz6_11",title:S5,message:A5,"home-button":"_home-button_1osz6_14","animate-drop":"_animate-drop_1osz6_45","animate-fade-in":"_animate-fade-in_1osz6_49"},RS=()=>(K.useEffect(()=>(document.body.classList.add("page-loaded"),()=>{document.body.classList.remove("page-loaded")}),[]),P.jsxs("div",{className:Mi["not-found-container"],children:[P.jsx("div",{className:`${Mi["error-code"]} ${Mi["animate-drop"]}`,children:"404"}),P.jsx("h1",{className:`${Mi.title} ${Mi["animate-fade-in"]}`,style:{animationDelay:"0.2s"},children:"Oops! Product not found"}),P.jsx("p",{className:`${Mi.message} ${Mi["animate-fade-in"]}`,style:{animationDelay:"0.4s"},children:"The page you're looking for doesn't exist or has been moved."}),P.jsx(Qn,{to:Jt.main.create(),className:Mi["product-page__back-link"],children:P.jsx(Xi,{className:`${Mi["home-button"]} ${Mi["animate-fade-in"]} `,style:{animationDelay:"0.6s"},children:"Go Back Home"})})]})),R5=()=>({order:[],entities:{}});class MC{constructor(){Kn(this,"products",R5());Kn(this,"currentProduct",null);Kn(this,"loading",!1);Kn(this,"error",null);Fv(this)}async fetchProduct(e){this.loading=!0,this.error=null,this.currentProduct=null;try{const t=jl(Rs,"Products",e),i=await Id(t);ba(()=>{i.exists()?this.currentProduct={id:i.id,...i.data()}:this.error=new Error("Product not found")})}catch(t){ba(()=>{this.error=t instanceof Error?t:new Error("Failed to fetch product")})}finally{ba(()=>{this.loading=!1})}}get productList(){return this.products.order.map(e=>this.products.entities[e])}destroy(){}}new MC;const C5=[{id:"1",title:"White Aesthetic Chair",subtitle:"Chair",price:"$63.47",image:"https://i.imgur.com/qtCDv79.jpeg",description:"Combination of wool and cotton"},{id:"2",title:"Wooden Cupboard 3 Row",subtitle:"Cupboard",price:"$79.88",image:"https://i.imgur.com/qtCDv79.jpeg",description:"Combination of wool and cotton"},{id:"3",title:"Minimalist Lounge Chair",subtitle:"Chair",price:"$14.74",image:"https://i.imgur.com/qtCDv79.jpeg",description:"Combination of wool and cotton"}],O5=Jc(()=>{const{id:n}=wD(),e=Iv(()=>new MC);return K.useEffect(()=>{n&&(!e.currentProduct||e.currentProduct.id!==n)&&e.fetchProduct(n)},[n,e]),e.loading?P.jsx("div",{className:Rn["product-page"],children:P.jsxs("div",{className:Rn["product-page__progress"],children:[P.jsx(EC,{}),P.jsx(ft,{className:Rn["product-page__loading"],view:"title",children:"Loading product details..."})]})}):e.error?P.jsx(RS,{}):e.currentProduct?P.jsxs("div",{className:Rn["product-page"],children:[P.jsx(ja,{}),P.jsxs("div",{className:Rn["product-page__content"],children:[P.jsx(_5,{}),P.jsxs("div",{className:Rn["product-details"],children:[P.jsx(E5,{product:e.currentProduct}),P.jsxs("div",{className:Rn["product-details__info"],children:[P.jsx(b5,{product:e.currentProduct}),P.jsx(T5,{product:e.currentProduct})]})]}),P.jsx(w5,{products:C5})]})]}):P.jsx(RS,{})}),I5="_about_1rq4a_1",D5="_title_1rq4a_16",N5="_message_1rq4a_23",go={"about-container":"_about-container_1rq4a_1",about:I5,title:D5,message:N5,"animate-drop":"_animate-drop_1rq4a_32","animate-fade-in":"_animate-fade-in_1rq4a_36"},x5=()=>(K.useEffect(()=>(document.body.classList.add("page-loaded"),()=>{document.body.classList.remove("page-loaded")}),[]),P.jsxs(P.Fragment,{children:[P.jsx(ja,{}),P.jsxs("div",{className:go["about-container"],children:[P.jsx("div",{className:`${go.about} ${go["animate-drop"]}`,children:"Lalasia"}),P.jsx("h1",{className:`${go.title} ${go["animate-fade-in"]}`,style:{animationDelay:"0.2s"},children:"Redefining Your Space, One Piece at a Time"}),P.jsxs("p",{className:`${go.message} ${go["animate-fade-in"]}`,style:{animationDelay:"0.4s"},children:["At Lalasia, we believe your home should tell your story. Founded in 2020, we've grown from a small boutique to a premier destination for quality furniture and home decor. Our carefully curated collections blend timeless design with modern functionality, offering pieces that inspire and transform spaces.",P.jsx("br",{}),P.jsx("br",{}),"We're committed to sustainable practices, working with artisans and manufacturers who share our values of ethical production and environmental responsibility. Every item in our collection is chosen for its quality, durability, and ability to elevate your everyday life.",P.jsx("br",{}),P.jsx("br",{}),"Whether you're furnishing your first apartment or refreshing your forever home, Lalasia is here to help you create spaces that feel uniquely you."]})]})]})),P5=[{key:"1",value:"Chair"},{key:"2",value:"Table"},{key:"3",value:"Cupboard"},{key:"4",value:"Decoration"}],Zr={"category-page":"_category-page_93w75_1","category-page__title":"_category-page__title_93w75_7","category-page__subtitle":"_category-page__subtitle_93w75_12","category-page__link":"_category-page__link_93w75_17","category-grid":"_category-grid_93w75_21","category-card":"_category-card_93w75_27","category-card__image-container":"_category-card__image-container_93w75_39","category-card__image":"_category-card__image_93w75_39","category-card__title":"_category-card__title_93w75_53","animate-drop":"_animate-drop_93w75_76","animate-fade-in":"_animate-fade-in_93w75_80"},M5=()=>{const n=P5.map(e=>({...e,imageUrl:V5(e.key)}));return P.jsxs(P.Fragment,{children:[P.jsx(ja,{}),P.jsxs("div",{className:Zr["category-page"],children:[P.jsx("h1",{className:`${Zr["category-page__title"]} ${Zr["animate-drop"]}`,children:"Our Furniture Categories"}),P.jsx("p",{className:`${Zr["category-page__subtitle"]} ${Zr["animate-fade-in"]}`,children:"Browse our wide selection of furniture"}),P.jsx("div",{className:`${Zr["category-grid"]} ${Zr["animate-fade-in"]}`,children:n.map(e=>P.jsx(Qn,{to:`${Jt.main.create()}?category=${e.key}`,className:Zr["category-page__link"],children:P.jsxs("div",{className:Zr["category-card"],children:[e.imageUrl&&P.jsx("div",{className:Zr["category-card__image-container"],children:P.jsx("img",{src:e.imageUrl,alt:e.value,className:Zr["category-card__image"],onError:t=>{t.target.src="https://via.placeholder.com/300x200?text=No+Image"}})}),P.jsx("h3",{className:Zr["category-card__title"],children:e.value})]})},e.key))})]})]})};function V5(n){return{1:"https://res.litfad.net/site/img/item/2024/01/24/11613615/600x600.jpg",2:"https://images.thdstatic.com/productImages/517c863d-cd3f-48db-9d0f-e754a7475947/svn/brown-byblight-kitchen-dining-tables-bb-f1889yf-31_600.jpg",3:"https://media.diy.com/is/image/KingfisherDigital/costway-183cm-tall-storage-cabinet-2-doors-display-organizer-freestanding-pantry-cupboard~7984702358092_01c_MP?$MOB_PREV$&$width=600&$height=600",4:"https://media.diy.com/is/image/KingfisherDigital/wild-privet-led-xmas-decoration-table-garland-decorative-christmas-garland-180cm~5060633946675_01c_MP?$MOB_PREV$&$width=600&$height=600"}[n]||"https://via.placeholder.com/300x200?text=No+Image"}const L5="_name_13jqy_9",k5="_email_13jqy_16",U5="_logout_13jqy_23",j5="_login_13jqy_26",B5="_field_13jqy_30",z5="_input_13jqy_33",q5="_register_13jqy_37",F5="_dropIn_13jqy_1",H5="_fadeIn_13jqy_1",$5="_notification_13jqy_72",G5="_success_13jqy_83",K5="_error_13jqy_86",Kt={"profile-container":"_profile-container_13jqy_1",name:L5,email:k5,logout:U5,login:j5,field:B5,input:z5,register:q5,"register-link":"_register-link_13jqy_42","animate-drop":"_animate-drop_13jqy_48",dropIn:F5,"animate-fade-in":"_animate-fade-in_13jqy_52",fadeIn:H5,notification:$5,success:G5,error:K5},Q5=Jc(()=>{const[n,e]=K.useState(""),[t,i]=K.useState(""),[s,l]=K.useState(null),c=(g,v)=>{l({message:g,type:v,visible:!0}),setTimeout(()=>{l(b=>b?{...b,visible:!1}:null)},2e3)},h=async()=>{try{await Vr.login(n,t),c("Login successful!","success")}catch{c("Login failed. Please check your credentials.","error")}},p=()=>{Vr.logout()};return Vr.user?P.jsxs(P.Fragment,{children:[(s==null?void 0:s.visible)&&P.jsx("div",{className:`${Kt.notification} ${Kt[s.type]}`,children:s.message}),P.jsx(ja,{}),P.jsxs("div",{className:Kt["profile-container"],children:[P.jsx("div",{className:`${Kt.name} ${Kt["animate-drop"]}`,children:Vr.user.displayName||"User"}),P.jsx("h1",{className:`${Kt.email} ${Kt["animate-fade-in"]}`,style:{animationDelay:"0.2s"},children:Vr.user.email}),P.jsx(Xi,{className:`${Kt.logout} ${Kt["animate-fade-in"]}`,style:{animationDelay:"0.4s"},onClick:p,children:"Logout"})]})]}):P.jsxs(P.Fragment,{children:[(s==null?void 0:s.visible)&&P.jsx("div",{className:`${Kt.notification} ${Kt[s.type]}`,children:s.message}),P.jsx(ja,{}),P.jsxs("div",{className:Kt["profile-container"],children:[P.jsx(ft,{className:`${Kt.field} ${Kt["animate-drop"]}`,view:"p-20",weight:"bold",children:"Email"}),P.jsx(To,{className:`${Kt.input} ${Kt["animate-fade-in"]}`,value:n,onChange:g=>e(g)}),P.jsx(ft,{className:`${Kt.field} ${Kt["animate-drop"]}`,view:"p-20",weight:"bold",children:"Password"}),P.jsx(To,{className:`${Kt.input} ${Kt["animate-fade-in"]}`,type:"password",value:t,onChange:g=>i(g)}),P.jsx(Xi,{className:`${Kt.login} ${Kt["animate-fade-in"]}`,onClick:h,children:"Login"}),P.jsxs(ft,{className:`${Kt.register} ${Kt["animate-fade-in"]}`,children:["Don't have an account? Click",P.jsx(Qn,{to:Jt.register.create(),className:Kt["register-link"],children:"here"}),"to create"]})]})]})}),Y5="_login_wj65b_26",X5="_field_wj65b_30",W5="_input_wj65b_33",Z5="_register_wj65b_37",kn={"profile-container":"_profile-container_wj65b_1",login:Y5,field:X5,input:W5,register:Z5,"register-link":"_register-link_wj65b_42","animate-drop":"_animate-drop_wj65b_48","animate-fade-in":"_animate-fade-in_wj65b_52"},J5=()=>{const[n,e]=K.useState(""),[t,i]=K.useState(""),[s,l]=K.useState(""),c=Mv(),h=async()=>{try{const p=await CV(rd,t,s);await DV(p.user,{displayName:n}),c(Jt.profile.create())}catch(p){console.error("Registration failed:",p)}};return P.jsxs(P.Fragment,{children:[P.jsx(ja,{}),P.jsxs("div",{className:kn["profile-container"],children:[P.jsx(ft,{className:`${kn.field} ${kn["animate-drop"]}`,view:"p-20",weight:"bold",children:"Fullname"}),P.jsx(To,{className:`${kn.input} ${kn["animate-fade-in"]}`,value:n,onChange:p=>e(p)}),P.jsx(ft,{className:`${kn.field} ${kn["animate-drop"]}`,view:"p-20",weight:"bold",children:"Email"}),P.jsx(To,{className:`${kn.input} ${kn["animate-fade-in"]}`,value:t,onChange:p=>i(p)}),P.jsx(ft,{className:`${kn.field} ${kn["animate-drop"]}`,view:"p-20",weight:"bold",children:"Password"}),P.jsx(To,{className:`${kn.input} ${kn["animate-fade-in"]}`,type:"password",value:s,onChange:p=>l(p)}),P.jsx(Xi,{className:`${kn.login} ${kn["animate-fade-in"]}`,onClick:h,children:"Register"}),P.jsxs(ft,{className:`${kn.register} ${kn["animate-fade-in"]}`,children:["Already have an account? Click",P.jsx(Qn,{to:Jt.profile.create(),className:kn["register-link"],children:"here"}),"to login"]})]})]})},vc={"cart-page":"_cart-page_1hnkw_1","cart-item":"_cart-item_1hnkw_9","cart-item__image":"_cart-item__image_1hnkw_18","cart-item__title":"_cart-item__title_1hnkw_23"},eU=Jc(()=>{const[n,e]=K.useState([]);K.useEffect(()=>{(async()=>{if(!Vr.user)return;const s=jl(Rs,"carts",Vr.user.uid),l=await Id(s);if(l.exists()){const c=l.data().items||[],h=await Promise.all(c.map(async p=>{const g=jl(Rs,"Products",p),v=await Id(g);return{id:p,...v.data()}}));e(h)}})()},[Vr.user]);const t=async i=>{await Vr.removeFromCart(i),e(n.filter(s=>s.id!==i))};return Vr.user?P.jsxs(P.Fragment,{children:[P.jsx(ja,{}),P.jsx("div",{className:vc["cart-page"],children:P.jsxs("div",{className:"cart-page__content",children:[P.jsx(ft,{view:"title",children:"Your Cart:"}),n.length===0?P.jsx(ft,{view:"p-20",children:"Your cart is empty."}):n.map(i=>P.jsxs("div",{className:vc["cart-item"],children:[P.jsx("img",{src:i.image,alt:i.title,className:vc["cart-item__image"]}),P.jsx(ft,{view:"p-20",weight:"bold",className:vc["cart-item__title"],children:i.title}),P.jsx(ft,{view:"p-20",weight:"bold",children:i.price}),P.jsx(Xi,{onClick:()=>t(i.id),children:"Remove"})]},i.id))]})})]}):P.jsxs(P.Fragment,{children:[P.jsx(ja,{}),P.jsx("div",{className:vc["cart-page"],children:P.jsx(ft,{view:"title",children:"Please log in to view your cart."})})]})}),Jt={main:{mask:"/products",create:()=>"/products"},product:{mask:"/product/:id",create:n=>`/product/${n}`},about:{mask:"/about",create:()=>"/about"},categories:{mask:"/categories",create:()=>"/categories"},profile:{mask:"/profile",create:()=>"/profile"},register:{mask:"/register",create:()=>"/register"},cart:{mask:"/cart",create:()=>"/cart"}},tU=[{path:"/",element:P.jsx(QL,{}),children:[{index:!0,element:P.jsx(M1,{to:Jt.main.mask,replace:!0})},{path:Jt.main.mask,element:P.jsx(v5,{})},{path:Jt.product.mask,element:P.jsx(O5,{})},{path:Jt.about.mask,element:P.jsx(x5,{})},{path:Jt.categories.mask,element:P.jsx(M5,{})},{path:Jt.profile.mask,element:P.jsx(Q5,{})},{path:Jt.register.mask,element:P.jsx(J5,{})},{path:"/cart",element:P.jsx(eU,{})},{path:"*",element:P.jsx(M1,{to:Jt.main.mask,replace:!0})}]}],nU=fN(tU),rU=yI.createRoot(document.getElementById("root"));rU.render(P.jsx(FA,{authStore:Vr,children:P.jsx(UD,{router:nU})}));
