var U1=Object.defineProperty;var B1=(n,e,t)=>e in n?U1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var wp=(n,e,t)=>B1(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Eb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rp={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function z1(){if(f0)return yu;f0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return yu.Fragment=e,yu.jsx=t,yu.jsxs=t,yu}var h0;function j1(){return h0||(h0=1,Rp.exports=z1()),Rp.exports}var Iu=j1(),Cp={exports:{}},Eu={},Op={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function H1(){return d0||(d0=1,function(n){function e(Y,le){var me=Y.length;Y.push(le);e:for(;0<me;){var qe=me-1>>>1,V=Y[qe];if(0<s(V,le))Y[qe]=le,Y[me]=V,me=qe;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var le=Y[0],me=Y.pop();if(me!==le){Y[0]=me;e:for(var qe=0,V=Y.length,te=V>>>1;qe<te;){var ue=2*(qe+1)-1,re=Y[ue],pe=ue+1,De=Y[pe];if(0>s(re,me))pe<V&&0>s(De,re)?(Y[qe]=De,Y[pe]=me,qe=pe):(Y[qe]=re,Y[ue]=me,qe=ue);else if(pe<V&&0>s(De,me))Y[qe]=De,Y[pe]=me,qe=pe;else break e}}return le}function s(Y,le){var me=Y.sortIndex-le.sortIndex;return me!==0?me:Y.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,T=null,S=3,O=!1,D=!1,H=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ae(Y){for(var le=t(g);le!==null;){if(le.callback===null)i(g);else if(le.startTime<=Y)i(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=t(g)}}function oe(Y){if(H=!1,ae(Y),!D)if(t(m)!==null)D=!0,de||(de=!0,B());else{var le=t(g);le!==null&&lt(oe,le.startTime-Y)}}var de=!1,P=-1,w=5,R=-1;function N(){return k?!0:!(n.unstable_now()-R<w)}function L(){if(k=!1,de){var Y=n.unstable_now();R=Y;var le=!0;try{e:{D=!1,H&&(H=!1,Q(P),P=-1),O=!0;var me=S;try{t:{for(ae(Y),T=t(m);T!==null&&!(T.expirationTime>Y&&N());){var qe=T.callback;if(typeof qe=="function"){T.callback=null,S=T.priorityLevel;var V=qe(T.expirationTime<=Y);if(Y=n.unstable_now(),typeof V=="function"){T.callback=V,ae(Y),le=!0;break t}T===t(m)&&i(m),ae(Y)}else i(m);T=t(m)}if(T!==null)le=!0;else{var te=t(g);te!==null&&lt(oe,te.startTime-Y),le=!1}}break e}finally{T=null,S=me,O=!1}le=void 0}}finally{le?B():de=!1}}}var B;if(typeof ee=="function")B=function(){ee(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Bt=I.port2;I.port1.onmessage=L,B=function(){Bt.postMessage(null)}}else B=function(){F(L,0)};function lt(Y,le){P=F(function(){Y(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var me=S;S=le;try{return Y()}finally{S=me}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=S;S=Y;try{return le()}finally{S=me}},n.unstable_scheduleCallback=function(Y,le,me){var qe=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?qe+me:qe):me=qe,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=me+V,Y={id:v++,callback:le,priorityLevel:Y,startTime:me,expirationTime:V,sortIndex:-1},me>qe?(Y.sortIndex=me,e(g,Y),t(m)===null&&Y===t(g)&&(H?(Q(P),P=-1):H=!0,lt(oe,me-qe))):(Y.sortIndex=V,e(m,Y),D||O||(D=!0,de||(de=!0,B()))),Y},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Y){var le=S;return function(){var me=S;S=le;try{return Y.apply(this,arguments)}finally{S=me}}}}(Ip)),Ip}var m0;function q1(){return m0||(m0=1,Op.exports=H1()),Op.exports}var Dp={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function F1(){if(p0)return Ce;p0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,H={};function k(V,te,ue){this.props=V,this.context=te,this.refs=H,this.updater=ue||O}k.prototype.isReactComponent={},k.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=k.prototype;function Q(V,te,ue){this.props=V,this.context=te,this.refs=H,this.updater=ue||O}var ee=Q.prototype=new F;ee.constructor=Q,D(ee,k.prototype),ee.isPureReactComponent=!0;var ae=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function P(V,te,ue,re,pe,De){return ue=De.ref,{$$typeof:n,type:V,key:te,ref:ue!==void 0?ue:null,props:De}}function w(V,te){return P(V.type,te,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function N(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return te[ue]})}var L=/\/+/g;function B(V,te){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):te.toString(36)}function I(){}function Bt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function lt(V,te,ue,re,pe){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var Se=!1;if(V===null)Se=!0;else switch(De){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(V.$$typeof){case n:case e:Se=!0;break;case v:return Se=V._init,lt(Se(V._payload),te,ue,re,pe)}}if(Se)return pe=pe(V),Se=re===""?"."+B(V,0):re,ae(pe)?(ue="",Se!=null&&(ue=Se.replace(L,"$&/")+"/"),lt(pe,te,ue,"",function(ir){return ir})):pe!=null&&(R(pe)&&(pe=w(pe,ue+(pe.key==null||V&&V.key===pe.key?"":(""+pe.key).replace(L,"$&/")+"/")+Se)),te.push(pe)),1;Se=0;var Nt=re===""?".":re+":";if(ae(V))for(var tt=0;tt<V.length;tt++)re=V[tt],De=Nt+B(re,tt),Se+=lt(re,te,ue,De,pe);else if(tt=S(V),typeof tt=="function")for(V=tt.call(V),tt=0;!(re=V.next()).done;)re=re.value,De=Nt+B(re,tt++),Se+=lt(re,te,ue,De,pe);else if(De==="object"){if(typeof V.then=="function")return lt(Bt(V),te,ue,re,pe);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Y(V,te,ue){if(V==null)return V;var re=[],pe=0;return lt(V,re,"","",function(De){return te.call(ue,De,pe++)}),re}function le(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var me=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function qe(){}return Ce.Children={map:Y,forEach:function(V,te,ue){Y(V,function(){te.apply(this,arguments)},ue)},count:function(V){var te=0;return Y(V,function(){te++}),te},toArray:function(V){return Y(V,function(te){return te})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ce.Component=k,Ce.Fragment=t,Ce.Profiler=s,Ce.PureComponent=Q,Ce.StrictMode=i,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(V){return oe.H.useMemoCache(V)}},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cloneElement=function(V,te,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var re=D({},V.props),pe=V.key,De=void 0;if(te!=null)for(Se in te.ref!==void 0&&(De=void 0),te.key!==void 0&&(pe=""+te.key),te)!de.call(te,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&te.ref===void 0||(re[Se]=te[Se]);var Se=arguments.length-2;if(Se===1)re.children=ue;else if(1<Se){for(var Nt=Array(Se),tt=0;tt<Se;tt++)Nt[tt]=arguments[tt+2];re.children=Nt}return P(V.type,pe,void 0,void 0,De,re)},Ce.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ce.createElement=function(V,te,ue){var re,pe={},De=null;if(te!=null)for(re in te.key!==void 0&&(De=""+te.key),te)de.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=te[re]);var Se=arguments.length-2;if(Se===1)pe.children=ue;else if(1<Se){for(var Nt=Array(Se),tt=0;tt<Se;tt++)Nt[tt]=arguments[tt+2];pe.children=Nt}if(V&&V.defaultProps)for(re in Se=V.defaultProps,Se)pe[re]===void 0&&(pe[re]=Se[re]);return P(V,De,void 0,void 0,null,pe)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:d,render:V}},Ce.isValidElement=R,Ce.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:le}},Ce.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},Ce.startTransition=function(V){var te=oe.T,ue={};oe.T=ue;try{var re=V(),pe=oe.S;pe!==null&&pe(ue,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(qe,me)}catch(De){me(De)}finally{oe.T=te}},Ce.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ce.use=function(V){return oe.H.use(V)},Ce.useActionState=function(V,te,ue){return oe.H.useActionState(V,te,ue)},Ce.useCallback=function(V,te){return oe.H.useCallback(V,te)},Ce.useContext=function(V){return oe.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,te){return oe.H.useDeferredValue(V,te)},Ce.useEffect=function(V,te,ue){var re=oe.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(V,te)},Ce.useId=function(){return oe.H.useId()},Ce.useImperativeHandle=function(V,te,ue){return oe.H.useImperativeHandle(V,te,ue)},Ce.useInsertionEffect=function(V,te){return oe.H.useInsertionEffect(V,te)},Ce.useLayoutEffect=function(V,te){return oe.H.useLayoutEffect(V,te)},Ce.useMemo=function(V,te){return oe.H.useMemo(V,te)},Ce.useOptimistic=function(V,te){return oe.H.useOptimistic(V,te)},Ce.useReducer=function(V,te,ue){return oe.H.useReducer(V,te,ue)},Ce.useRef=function(V){return oe.H.useRef(V)},Ce.useState=function(V){return oe.H.useState(V)},Ce.useSyncExternalStore=function(V,te,ue){return oe.H.useSyncExternalStore(V,te,ue)},Ce.useTransition=function(){return oe.H.useTransition()},Ce.version="19.1.0",Ce}var g0;function Hh(){return g0||(g0=1,Dp.exports=F1()),Dp.exports}var Np={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function $1(){if(_0)return Wt;_0=1;var n=Hh();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wt.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},Wt.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},Wt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Wt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Wt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:O}):v==="script"&&i.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Wt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Wt.requestFormReset=function(m){i.d.r(m)},Wt.unstable_batchedUpdates=function(m,g){return m(g)},Wt.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},Wt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var v0;function Tb(){if(v0)return Np.exports;v0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Np.exports=$1(),Np.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function G1(){if(y0)return Eu;y0=1;var n=q1(),e=Hh(),t=Tb();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return d(h),r;if(p===u)return d(h),a;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=p;else{for(var E=!1,b=h.child;b;){if(b===o){E=!0,o=h,u=p;break}if(b===u){E=!0,u=h,o=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===o){E=!0,o=p,u=h;break}if(b===u){E=!0,u=p,o=h;break}b=b.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function Bt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case k:return"Profiler";case H:return"StrictMode";case oe:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case ee:return(r.displayName||"Context")+".Provider";case Q:return(r._context.displayName||"Context")+".Consumer";case ae:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return a=r.displayName||null,a!==null?a:Bt(r.type)||"Memo";case w:a=r._payload,r=r._init;try{return Bt(r(a))}catch{}}return null}var lt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},qe=[],V=-1;function te(r){return{current:r}}function ue(r){0>V||(r.current=qe[V],qe[V]=null,V--)}function re(r,a){V++,qe[V]=r.current,r.current=a}var pe=te(null),De=te(null),Se=te(null),Nt=te(null);function tt(r,a){switch(re(Se,a),re(De,r),re(pe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?BE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=BE(a),r=zE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(pe),re(pe,r)}function ir(){ue(pe),ue(De),ue(Se)}function Oi(r){r.memoizedState!==null&&re(Nt,r);var a=pe.current,o=zE(a,r.type);a!==o&&(re(De,r),re(pe,o))}function kr(r){De.current===r&&(ue(pe),ue(De)),Nt.current===r&&(ue(Nt),mu._currentValue=me)}var Ia=Object.prototype.hasOwnProperty,Da=n.unstable_scheduleCallback,Na=n.unstable_cancelCallback,fl=n.unstable_shouldYield,pc=n.unstable_requestPaint,Cn=n.unstable_now,wd=n.unstable_getCurrentPriorityLevel,hl=n.unstable_ImmediatePriority,Ps=n.unstable_UserBlockingPriority,Ma=n.unstable_NormalPriority,Rd=n.unstable_LowPriority,Vs=n.unstable_IdlePriority,dl=n.log,gc=n.unstable_setDisableYieldValue,ut=null,Ke=null;function dn(r){if(typeof dl=="function"&&gc(r),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ut,r)}catch{}}var Yt=Math.clz32?Math.clz32:Pa,_c=Math.log,Cd=Math.LN2;function Pa(r){return r>>>=0,r===0?32:31-(_c(r)/Cd|0)|0}var Va=256,xa=4194304;function Fn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function xs(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var b=u&134217727;return b!==0?(u=b&~p,u!==0?h=Fn(u):(E&=b,E!==0?h=Fn(E):o||(o=b&~r,o!==0&&(h=Fn(o))))):(b=u&~p,b!==0?h=Fn(b):E!==0?h=Fn(E):o||(o=u&~r,o!==0&&(h=Fn(o)))),h===0?0:a!==0&&a!==h&&(a&p)===0&&(p=h&-h,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:h}function ka(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function ml(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(){var r=Va;return Va<<=1,(Va&4194048)===0&&(Va=256),r}function gl(){var r=xa;return xa<<=1,(xa&62914560)===0&&(xa=4194304),r}function Lr(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Ur(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function _l(r,a,o,u,h,p){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var b=r.entanglements,C=r.expirationTimes,q=r.hiddenUpdates;for(o=E&~o;0<o;){var X=31-Yt(o),Z=1<<X;b[X]=0,C[X]=-1;var $=q[X];if($!==null)for(q[X]=null,X=0;X<$.length;X++){var G=$[X];G!==null&&(G.lane&=-536870913)}o&=~Z}u!==0&&ar(r,u,0),p!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~a))}function ar(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-Yt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function vl(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-Yt(o),h=1<<u;h&a|r[u]&a&&(r[u]|=a),o&=~h}}function Ii(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ks(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Di(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:a0(r.type))}function vc(r,a){var o=le.p;try{return le.p=r,a()}finally{le.p=o}}var it=Math.random().toString(36).slice(2),bt="__reactFiber$"+it,_t="__reactProps$"+it,On="__reactContainer$"+it,yl="__reactEvents$"+it,Od="__reactListeners$"+it,Ni="__reactHandles$"+it,yc="__reactResources$"+it,La="__reactMarker$"+it;function Mi(r){delete r[bt],delete r[_t],delete r[yl],delete r[Od],delete r[Ni]}function Br(r){var a=r[bt];if(a)return a;for(var o=r.parentNode;o;){if(a=o[On]||o[bt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=FE(r);r!==null;){if(o=r[bt])return o;r=FE(r)}return a}r=o,o=r.parentNode}return null}function sr(r){if(r=r[bt]||r[On]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function or(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function nn(r){var a=r[yc];return a||(a=r[yc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function dt(r){r[La]=!0}var El=new Set,Ls={};function $n(r,a){zr(r,a),zr(r+"Capture",a)}function zr(r,a){for(Ls[r]=a,r=0;r<a.length;r++)El.add(a[r])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tc={},Ua={};function bc(r){return Ia.call(Ua,r)?!0:Ia.call(Tc,r)?!1:Ec.test(r)?Ua[r]=!0:(Tc[r]=!0,!1)}function Pi(r,a,o){if(bc(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function lr(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function zt(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var Ba,Ac;function jr(r){if(Ba===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Ba=a&&a[1]||"",Ac=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ba+r+Ac}var Us=!1;function Bs(r,a){if(!r||Us)return"";Us=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var $=G}Reflect.construct(r,[],Z)}else{try{Z.call()}catch(G){$=G}r.call(Z.prototype)}}else{try{throw Error()}catch(G){$=G}(Z=r())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&$&&typeof G.stack=="string")return[G.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var C=E.split(`
`),q=b.split(`
`);for(h=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(u===C.length||h===q.length)for(u=C.length-1,h=q.length-1;1<=u&&0<=h&&C[u]!==q[h];)h--;for(;1<=u&&0<=h;u--,h--)if(C[u]!==q[h]){if(u!==1||h!==1)do if(u--,h--,0>h||C[u]!==q[h]){var X=`
`+C[u].replace(" at new "," at ");return r.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",r.displayName)),X}while(1<=u&&0<=h);break}}}finally{Us=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?jr(o):""}function Tl(r){switch(r.tag){case 26:case 27:case 5:return jr(r.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return Bs(r.type,!1);case 11:return Bs(r.type.render,!1);case 1:return Bs(r.type,!0);case 31:return jr("Activity");default:return""}}function zs(r){try{var a="";do a+=Tl(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function rn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function bl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Id(r){var a=bl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function js(r){r._valueTracker||(r._valueTracker=Id(r))}function Al(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=bl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function za(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Dd=/[\n"\\]/g;function vt(r){return r.replace(Dd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function mn(r,a,o,u,h,p,E,b){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+rn(a)):r.value!==""+rn(a)&&(r.value=""+rn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Vi(r,E,rn(a)):o!=null?Vi(r,E,rn(o)):u!=null&&r.removeAttribute("value"),h==null&&p!=null&&(r.defaultChecked=!!p),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+rn(b):r.removeAttribute("name")}function ja(r,a,o,u,h,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;o=o!=null?""+rn(o):"",a=a!=null?""+rn(a):o,b||a===r.value||(r.value=a),r.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=b?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Vi(r,a,o){a==="number"&&za(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Hr(r,a,o,u){if(r=r.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=a.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+rn(o),a=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function Xe(r,a,o){if(a!=null&&(a=""+rn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+rn(o):""}function Ha(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(lt(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=rn(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function In(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||qa.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Sl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&o[h]!==u&&Sc(r,h,u)}else for(var p in a)a.hasOwnProperty(p)&&Sc(r,p,a[p])}function wl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(r){return Md.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var qr=null;function Dn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fr=null,$r=null;function Rl(r){var a=sr(r);if(a&&(r=a.stateNode)){var o=r[_t]||null;e:switch(r=a.stateNode,a.type){case"input":if(mn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var h=u[_t]||null;if(!h)throw Error(i(90));mn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&Al(u)}break e;case"textarea":Xe(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Hr(r,!!o.multiple,a,!1)}}}var ur=!1;function wc(r,a,o){if(ur)return r(a,o);ur=!0;try{var u=r(a);return u}finally{if(ur=!1,(Fr!==null||$r!==null)&&(yf(),Fr&&(a=Fr,r=$r,$r=Fr=null,Rl(a),r)))for(a=0;a<r.length;a++)Rl(r[a])}}function Fa(r,a){var o=r.stateNode;if(o===null)return null;var u=o[_t]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Gn)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Nn=!1}var cr=null,xi=null,Gr=null;function Cl(){if(Gr)return Gr;var r,a=xi,o=a.length,u,h="value"in cr?cr.value:cr.textContent,p=h.length;for(r=0;r<o&&a[r]===h[r];r++);var E=o-r;for(u=1;u<=E&&a[o-u]===h[p-u];u++);return Gr=h.slice(r,1<u?1-u:void 0)}function fr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function hr(){return!0}function Ol(){return!1}function Mt(r){function a(o,u,h,p,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(o=r[b],this[b]=o?o(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?hr:Ol,this.isPropagationStopped=Ol,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),a}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=Mt($e),Ga=v({},$e,{view:0,detail:0}),Rc=Mt(Ga),Fs,$s,dr,Ka=v({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==dr&&(dr&&r.type==="mousemove"?(Fs=r.screenX-dr.screenX,$s=r.screenY-dr.screenY):$s=Fs=0,dr=r),Fs)},movementY:function(r){return"movementY"in r?r.movementY:$s}}),Mn=Mt(Ka),Cc=v({},Ka,{dataTransfer:0}),Pd=Mt(Cc),Qa=v({},Ga,{relatedTarget:0}),Gs=Mt(Qa),Il=v({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ks=Mt(Il),Oc=v({},$e,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Qs=Mt(Oc),Vd=v({},$e,{data:0}),Dl=Mt(Vd),Ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Dc[r])?!!a[r]:!1}function Xa(){return Nl}var Nc=v({},Ga,{key:function(r){if(r.key){var a=Ya[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=fr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ic[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(r){return r.type==="keypress"?fr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?fr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ys=Mt(Nc),Mc=v({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=Mt(Mc),Kr=v({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Pc=Mt(Kr),Vc=v({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),xc=Mt(Vc),kc=v({},Ka,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xs=Mt(kc),an=v({},$e,{newState:0,oldState:0}),Lc=Mt(an),Uc=[9,13,27,32],mr=Gn&&"CompositionEvent"in window,f=null;Gn&&"documentMode"in document&&(f=document.documentMode);var _=Gn&&"TextEvent"in window&&!f,y=Gn&&(!mr||f&&8<f&&11>=f),A=" ",z=!1;function K(r,a){switch(r){case"keyup":return Uc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ke=!1;function At(r,a){switch(r){case"compositionend":return ie(a);case"keypress":return a.which!==32?null:(z=!0,A);case"textInput":return r=a.data,r===A&&z?null:r;default:return null}}function Le(r,a){if(ke)return r==="compositionend"||!mr&&K(r,a)?(r=Cl(),Gr=xi=cr=null,ke=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return y&&a.locale!=="ko"?null:a.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Pt[r.type]:a==="textarea"}function Qr(r,a,o,u){Fr?$r?$r.push(u):$r=[u]:Fr=u,a=wf(a,"onChange"),0<a.length&&(o=new qs("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var jt=null,pr=null;function Pl(r){VE(r,0)}function Bc(r){var a=or(r);if(Al(a))return r}function tv(r,a){if(r==="change")return a}var nv=!1;if(Gn){var xd;if(Gn){var kd="oninput"in document;if(!kd){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),kd=typeof rv.oninput=="function"}xd=kd}else xd=!1;nv=xd&&(!document.documentMode||9<document.documentMode)}function iv(){jt&&(jt.detachEvent("onpropertychange",av),pr=jt=null)}function av(r){if(r.propertyName==="value"&&Bc(pr)){var a=[];Qr(a,pr,r,Dn(r)),wc(Pl,a)}}function mR(r,a,o){r==="focusin"?(iv(),jt=a,pr=o,jt.attachEvent("onpropertychange",av)):r==="focusout"&&iv()}function pR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bc(pr)}function gR(r,a){if(r==="click")return Bc(a)}function _R(r,a){if(r==="input"||r==="change")return Bc(a)}function vR(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var pn=typeof Object.is=="function"?Object.is:vR;function Vl(r,a){if(pn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Ia.call(a,h)||!pn(r[h],a[h]))return!1}return!0}function sv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ov(r,a){var o=sv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=sv(o)}}function lv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?lv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function uv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=za(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=za(r.document)}return a}function Ld(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var yR=Gn&&"documentMode"in document&&11>=document.documentMode,Ws=null,Ud=null,xl=null,Bd=!1;function cv(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bd||Ws==null||Ws!==za(u)||(u=Ws,"selectionStart"in u&&Ld(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xl&&Vl(xl,u)||(xl=u,u=wf(Ud,"onSelect"),0<u.length&&(a=new qs("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=Ws)))}function Wa(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Zs={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},zd={},fv={};Gn&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function Za(r){if(zd[r])return zd[r];if(!Zs[r])return r;var a=Zs[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in fv)return zd[r]=a[o];return r}var hv=Za("animationend"),dv=Za("animationiteration"),mv=Za("animationstart"),ER=Za("transitionrun"),TR=Za("transitionstart"),bR=Za("transitioncancel"),pv=Za("transitionend"),gv=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function Kn(r,a){gv.set(r,a),$n(a,[r])}var _v=new WeakMap;function Pn(r,a){if(typeof r=="object"&&r!==null){var o=_v.get(r);return o!==void 0?o:(a={value:r,source:a,stack:zs(a)},_v.set(r,a),a)}return{value:r,source:a,stack:zs(a)}}var Vn=[],Js=0,Hd=0;function zc(){for(var r=Js,a=Hd=Js=0;a<r;){var o=Vn[a];Vn[a++]=null;var u=Vn[a];Vn[a++]=null;var h=Vn[a];Vn[a++]=null;var p=Vn[a];if(Vn[a++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}p!==0&&vv(o,h,p)}}function jc(r,a,o,u){Vn[Js++]=r,Vn[Js++]=a,Vn[Js++]=o,Vn[Js++]=u,Hd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function qd(r,a,o,u){return jc(r,a,o,u),Hc(r)}function eo(r,a){return jc(r,null,null,a),Hc(r)}function vv(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(h=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,h&&a!==null&&(h=31-Yt(o),r=p.hiddenUpdates,u=r[h],u===null?r[h]=[a]:u.push(a),a.lane=o|536870912),p):null}function Hc(r){if(50<su)throw su=0,Ym=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var to={};function AR(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(r,a,o,u){return new AR(r,a,o,u)}function Fd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Yr(r,a){var o=r.alternate;return o===null?(o=gn(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function yv(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function qc(r,a,o,u,h,p){var E=0;if(u=r,typeof r=="function")Fd(r)&&(E=1);else if(typeof r=="string")E=w1(r,o,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=gn(31,o,a,h),r.elementType=R,r.lanes=p,r;case D:return Ja(o.children,h,p,a);case H:E=8,h|=24;break;case k:return r=gn(12,o,a,h|2),r.elementType=k,r.lanes=p,r;case oe:return r=gn(13,o,a,h),r.elementType=oe,r.lanes=p,r;case de:return r=gn(19,o,a,h),r.elementType=de,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:case ee:E=10;break e;case Q:E=9;break e;case ae:E=11;break e;case P:E=14;break e;case w:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=gn(E,o,a,h),a.elementType=r,a.type=u,a.lanes=p,a}function Ja(r,a,o,u){return r=gn(7,r,u,a),r.lanes=o,r}function $d(r,a,o){return r=gn(6,r,null,a),r.lanes=o,r}function Gd(r,a,o){return a=gn(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var no=[],ro=0,Fc=null,$c=0,xn=[],kn=0,es=null,Xr=1,Wr="";function ts(r,a){no[ro++]=$c,no[ro++]=Fc,Fc=r,$c=a}function Ev(r,a,o){xn[kn++]=Xr,xn[kn++]=Wr,xn[kn++]=es,es=r;var u=Xr;r=Wr;var h=32-Yt(u)-1;u&=~(1<<h),o+=1;var p=32-Yt(a)+h;if(30<p){var E=h-h%5;p=(u&(1<<E)-1).toString(32),u>>=E,h-=E,Xr=1<<32-Yt(a)+h|o<<h|u,Wr=p+r}else Xr=1<<p|o<<h|u,Wr=r}function Kd(r){r.return!==null&&(ts(r,1),Ev(r,1,0))}function Qd(r){for(;r===Fc;)Fc=no[--ro],no[ro]=null,$c=no[--ro],no[ro]=null;for(;r===es;)es=xn[--kn],xn[kn]=null,Wr=xn[--kn],xn[kn]=null,Xr=xn[--kn],xn[kn]=null}var sn=null,ct=null,Fe=!1,ns=null,gr=!1,Yd=Error(i(519));function rs(r){var a=Error(i(418,""));throw Ul(Pn(a,r)),Yd}function Tv(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[bt]=r,a[_t]=u,o){case"dialog":Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":case"embed":Pe("load",a);break;case"video":case"audio":for(o=0;o<lu.length;o++)Pe(lu[o],a);break;case"source":Pe("error",a);break;case"img":case"image":case"link":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"input":Pe("invalid",a),ja(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),js(a);break;case"select":Pe("invalid",a);break;case"textarea":Pe("invalid",a),Ha(a,u.value,u.defaultValue,u.children),js(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||UE(a.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",a),Pe("toggle",a)),u.onScroll!=null&&Pe("scroll",a),u.onScrollEnd!=null&&Pe("scrollend",a),u.onClick!=null&&(a.onclick=Rf),a=!0):a=!1,a||rs(r)}function bv(r){for(sn=r.return;sn;)switch(sn.tag){case 5:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:sn=sn.return}}function kl(r){if(r!==sn)return!1;if(!Fe)return bv(r),Fe=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||fp(r.type,r.memoizedProps)),o=!o),o&&ct&&rs(r),bv(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){ct=Yn(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}ct=null}}else a===27?(a=ct,Wi(r.type)?(r=pp,pp=null,ct=r):ct=a):ct=sn?Yn(r.stateNode.nextSibling):null;return!0}function Ll(){ct=sn=null,Fe=!1}function Av(){var r=ns;return r!==null&&(cn===null?cn=r:cn.push.apply(cn,r),ns=null),r}function Ul(r){ns===null?ns=[r]:ns.push(r)}var Xd=te(null),is=null,Zr=null;function ki(r,a,o){re(Xd,a._currentValue),a._currentValue=o}function Jr(r){r._currentValue=Xd.current,ue(Xd)}function Wd(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function Zd(r,a,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=h;for(var C=0;C<a.length;C++)if(b.context===a[C]){p.lanes|=o,b=p.alternate,b!==null&&(b.lanes|=o),Wd(p.return,o,r),u||(E=null);break e}p=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),Wd(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Bl(r,a,o,u){r=null;for(var h=a,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var b=h.type;pn(h.pendingProps.value,E.value)||(r!==null?r.push(b):r=[b])}}else if(h===Nt.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(mu):r=[mu])}h=h.return}r!==null&&Zd(a,r,o,u),a.flags|=262144}function Gc(r){for(r=r.firstContext;r!==null;){if(!pn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function as(r){is=r,Zr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Xt(r){return Sv(is,r)}function Kc(r,a){return is===null&&as(r),Sv(r,a)}function Sv(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Zr===null){if(r===null)throw Error(i(308));Zr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Zr=Zr.next=a;return o}var SR=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},wR=n.unstable_scheduleCallback,RR=n.unstable_NormalPriority,wt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jd(){return{controller:new SR,data:new Map,refCount:0}}function zl(r){r.refCount--,r.refCount===0&&wR(RR,function(){r.controller.abort()})}var jl=null,em=0,io=0,ao=null;function CR(r,a){if(jl===null){var o=jl=[];em=0,io=np(),ao={status:"pending",value:void 0,then:function(u){o.push(u)}}}return em++,a.then(wv,wv),a}function wv(){if(--em===0&&jl!==null){ao!==null&&(ao.status="fulfilled");var r=jl;jl=null,io=0,ao=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function OR(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Rv=Y.S;Y.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&CR(r,a),Rv!==null&&Rv(r,a)};var ss=te(null);function tm(){var r=ss.current;return r!==null?r:nt.pooledCache}function Qc(r,a){a===null?re(ss,ss.current):re(ss,a.pool)}function Cv(){var r=tm();return r===null?null:{parent:wt._currentValue,pool:r}}var Hl=Error(i(460)),Ov=Error(i(474)),Yc=Error(i(542)),nm={then:function(){}};function Iv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Xc(){}function Dv(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(Xc,Xc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Mv(r),r;default:if(typeof a.status=="string")a.then(Xc,Xc);else{if(r=nt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Mv(r),r}throw ql=a,Hl}}var ql=null;function Nv(){if(ql===null)throw Error(i(459));var r=ql;return ql=null,r}function Mv(r){if(r===Hl||r===Yc)throw Error(i(483))}var Li=!1;function rm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function im(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ui(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Bi(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=Hc(r),vv(r,null,o),a}return jc(r,u,a,o),Hc(r)}function Fl(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,vl(r,o)}}function am(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?h=p=a:p=p.next=a}else h=p=a;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var sm=!1;function $l(){if(sm){var r=ao;if(r!==null)throw r}}function Gl(r,a,o,u){sm=!1;var h=r.updateQueue;Li=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,q=C.next;C.next=null,E===null?p=q:E.next=q,E=C;var X=r.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==E&&(b===null?X.firstBaseUpdate=q:b.next=q,X.lastBaseUpdate=C))}if(p!==null){var Z=h.baseState;E=0,X=q=C=null,b=p;do{var $=b.lane&-536870913,G=$!==b.lane;if(G?(Ue&$)===$:(u&$)===$){$!==0&&$===io&&(sm=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=r,_e=b;$=a;var Je=o;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){Z=Te.call(Je,Z,$);break e}Z=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,$=typeof Te=="function"?Te.call(Je,Z,$):Te,$==null)break e;Z=v({},Z,$);break e;case 2:Li=!0}}$=b.callback,$!==null&&(r.flags|=64,G&&(r.flags|=8192),G=h.callbacks,G===null?h.callbacks=[$]:G.push($))}else G={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(q=X=G,C=Z):X=X.next=G,E|=$;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;G=b,b=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=X,p===null&&(h.shared.lanes=0),Ki|=E,r.lanes=E,r.memoizedState=Z}}function Pv(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Vv(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Pv(o[r],a)}var so=te(null),Wc=te(0);function xv(r,a){r=si,re(Wc,r),re(so,a),si=r|a.baseLanes}function om(){re(Wc,si),re(so,so.current)}function lm(){si=Wc.current,ue(so),ue(Wc)}var zi=0,Oe=null,We=null,yt=null,Zc=!1,oo=!1,os=!1,Jc=0,Kl=0,lo=null,IR=0;function mt(){throw Error(i(321))}function um(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!pn(r[o],a[o]))return!1;return!0}function cm(r,a,o,u,h,p){return zi=p,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=r===null||r.memoizedState===null?vy:yy,os=!1,p=o(u,h),os=!1,oo&&(p=Lv(a,o,u,h)),kv(r),p}function kv(r){Y.H=sf;var a=We!==null&&We.next!==null;if(zi=0,yt=We=Oe=null,Zc=!1,Kl=0,lo=null,a)throw Error(i(300));r===null||Vt||(r=r.dependencies,r!==null&&Gc(r)&&(Vt=!0))}function Lv(r,a,o,u){Oe=r;var h=0;do{if(oo&&(lo=null),Kl=0,oo=!1,25<=h)throw Error(i(301));if(h+=1,yt=We=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=kR,p=a(o,u)}while(oo);return p}function DR(){var r=Y.H,a=r.useState()[0];return a=typeof a.then=="function"?Ql(a):a,r=r.useState()[0],(We!==null?We.memoizedState:null)!==r&&(Oe.flags|=1024),a}function fm(){var r=Jc!==0;return Jc=0,r}function hm(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function dm(r){if(Zc){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Zc=!1}zi=0,yt=We=Oe=null,oo=!1,Kl=Jc=0,lo=null}function ln(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Oe.memoizedState=yt=r:yt=yt.next=r,yt}function Et(){if(We===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var a=yt===null?Oe.memoizedState:yt.next;if(a!==null)yt=a,We=r;else{if(r===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},yt===null?Oe.memoizedState=yt=r:yt=yt.next=r}return yt}function mm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(r){var a=Kl;return Kl+=1,lo===null&&(lo=[]),r=Dv(lo,r,a),a=Oe,(yt===null?a.memoizedState:yt.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?vy:yy),r}function ef(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ql(r);if(r.$$typeof===ee)return Xt(r)}throw Error(i(438,String(r)))}function pm(r){var a=null,o=Oe.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=mm(),Oe.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=N;return a.index++,o}function ei(r,a){return typeof a=="function"?a(r):a}function tf(r){var a=Et();return gm(a,We,r)}function gm(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,p=u.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}a.baseQueue=h=p,u.pending=null}if(p=r.baseState,h===null)r.memoizedState=p;else{a=h.next;var b=E=null,C=null,q=a,X=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Ue&Z)===Z:(zi&Z)===Z){var $=q.revertLane;if($===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===io&&(X=!0);else if((zi&$)===$){q=q.next,$===io&&(X=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(b=C=Z,E=p):C=C.next=Z,Oe.lanes|=$,Ki|=$;Z=q.action,os&&o(p,Z),p=q.hasEagerState?q.eagerState:o(p,Z)}else $={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(b=C=$,E=p):C=C.next=$,Oe.lanes|=Z,Ki|=Z;q=q.next}while(q!==null&&q!==a);if(C===null?E=p:C.next=b,!pn(p,r.memoizedState)&&(Vt=!0,X&&(o=ao,o!==null)))throw o;r.memoizedState=p,r.baseState=E,r.baseQueue=C,u.lastRenderedState=p}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function _m(r){var a=Et(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,p=a.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do p=r(p,E.action),E=E.next;while(E!==h);pn(p,a.memoizedState)||(Vt=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,u]}function Uv(r,a,o){var u=Oe,h=Et(),p=Fe;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=a();var E=!pn((We||h).memoizedState,o);E&&(h.memoizedState=o,Vt=!0),h=h.queue;var b=jv.bind(null,u,h,r);if(Yl(2048,8,b,[r]),h.getSnapshot!==a||E||yt!==null&&yt.memoizedState.tag&1){if(u.flags|=2048,uo(9,nf(),zv.bind(null,u,h,o,a),null),nt===null)throw Error(i(349));p||(zi&124)!==0||Bv(u,a,o)}return o}function Bv(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Oe.updateQueue,a===null?(a=mm(),Oe.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function zv(r,a,o,u){a.value=o,a.getSnapshot=u,Hv(a)&&qv(r)}function jv(r,a,o){return o(function(){Hv(a)&&qv(r)})}function Hv(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!pn(r,o)}catch{return!0}}function qv(r){var a=eo(r,2);a!==null&&Tn(a,r,2)}function vm(r){var a=ln();if(typeof r=="function"){var o=r;if(r=o(),os){dn(!0);try{o()}finally{dn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:r},a}function Fv(r,a,o,u){return r.baseState=o,gm(r,We,typeof u=="function"?u:ei)}function NR(r,a,o,u,h){if(af(r))throw Error(i(485));if(r=a.action,r!==null){var p={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Y.T!==null?o(!0):p.isTransition=!1,u(p),o=a.pending,o===null?(p.next=a.pending=p,$v(a,p)):(p.next=o.next,a.pending=o.next=p)}}function $v(r,a){var o=a.action,u=a.payload,h=r.state;if(a.isTransition){var p=Y.T,E={};Y.T=E;try{var b=o(h,u),C=Y.S;C!==null&&C(E,b),Gv(r,a,b)}catch(q){ym(r,a,q)}finally{Y.T=p}}else try{p=o(h,u),Gv(r,a,p)}catch(q){ym(r,a,q)}}function Gv(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Kv(r,a,u)},function(u){return ym(r,a,u)}):Kv(r,a,o)}function Kv(r,a,o){a.status="fulfilled",a.value=o,Qv(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,$v(r,o)))}function ym(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,Qv(a),a=a.next;while(a!==u)}r.action=null}function Qv(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Yv(r,a){return a}function Xv(r,a){if(Fe){var o=nt.formState;if(o!==null){e:{var u=Oe;if(Fe){if(ct){t:{for(var h=ct,p=gr;h.nodeType!==8;){if(!p){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){ct=Yn(h.nextSibling),u=h.data==="F!";break e}}rs(u)}u=!1}u&&(a=o[0])}}return o=ln(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yv,lastRenderedState:a},o.queue=u,o=py.bind(null,Oe,u),u.dispatch=o,u=vm(!1),p=Sm.bind(null,Oe,!1,u.queue),u=ln(),h={state:a,dispatch:null,action:r,pending:null},u.queue=h,o=NR.bind(null,Oe,h,p,o),h.dispatch=o,u.memoizedState=r,[a,o,!1]}function Wv(r){var a=Et();return Zv(a,We,r)}function Zv(r,a,o){if(a=gm(r,a,Yv)[0],r=tf(ei)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Ql(a)}catch(E){throw E===Hl?Yc:E}else u=a;a=Et();var h=a.queue,p=h.dispatch;return o!==a.memoizedState&&(Oe.flags|=2048,uo(9,nf(),MR.bind(null,h,o),null)),[u,p,r]}function MR(r,a){r.action=a}function Jv(r){var a=Et(),o=We;if(o!==null)return Zv(a,o,r);Et(),a=a.memoizedState,o=Et();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function uo(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=Oe.updateQueue,a===null&&(a=mm(),Oe.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function nf(){return{destroy:void 0,resource:void 0}}function ey(){return Et().memoizedState}function rf(r,a,o,u){var h=ln();u=u===void 0?null:u,Oe.flags|=r,h.memoizedState=uo(1|a,nf(),o,u)}function Yl(r,a,o,u){var h=Et();u=u===void 0?null:u;var p=h.memoizedState.inst;We!==null&&u!==null&&um(u,We.memoizedState.deps)?h.memoizedState=uo(a,p,o,u):(Oe.flags|=r,h.memoizedState=uo(1|a,p,o,u))}function ty(r,a){rf(8390656,8,r,a)}function ny(r,a){Yl(2048,8,r,a)}function ry(r,a){return Yl(4,2,r,a)}function iy(r,a){return Yl(4,4,r,a)}function ay(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function sy(r,a,o){o=o!=null?o.concat([r]):null,Yl(4,4,ay.bind(null,a,r),o)}function Em(){}function oy(r,a){var o=Et();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&um(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function ly(r,a){var o=Et();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&um(a,u[1]))return u[0];if(u=r(),os){dn(!0);try{r()}finally{dn(!1)}}return o.memoizedState=[u,a],u}function Tm(r,a,o){return o===void 0||(zi&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=fE(),Oe.lanes|=r,Ki|=r,o)}function uy(r,a,o,u){return pn(o,a)?o:so.current!==null?(r=Tm(r,o,u),pn(r,a)||(Vt=!0),r):(zi&42)===0?(Vt=!0,r.memoizedState=o):(r=fE(),Oe.lanes|=r,Ki|=r,a)}function cy(r,a,o,u,h){var p=le.p;le.p=p!==0&&8>p?p:8;var E=Y.T,b={};Y.T=b,Sm(r,!1,a,o);try{var C=h(),q=Y.S;if(q!==null&&q(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=OR(C,u);Xl(r,a,X,En(r))}else Xl(r,a,u,En(r))}catch(Z){Xl(r,a,{then:function(){},status:"rejected",reason:Z},En())}finally{le.p=p,Y.T=E}}function PR(){}function bm(r,a,o,u){if(r.tag!==5)throw Error(i(476));var h=fy(r).queue;cy(r,h,a,me,o===null?PR:function(){return hy(r),o(u)})}function fy(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:me},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function hy(r){var a=fy(r).next.queue;Xl(r,a,{},En())}function Am(){return Xt(mu)}function dy(){return Et().memoizedState}function my(){return Et().memoizedState}function VR(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=En();r=Ui(o);var u=Bi(a,r,o);u!==null&&(Tn(u,a,o),Fl(u,a,o)),a={cache:Jd()},r.payload=a;return}a=a.return}}function xR(r,a,o){var u=En();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},af(r)?gy(a,o):(o=qd(r,a,o,u),o!==null&&(Tn(o,r,u),_y(o,a,u)))}function py(r,a,o){var u=En();Xl(r,a,o,u)}function Xl(r,a,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(af(r))gy(a,h);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var E=a.lastRenderedState,b=p(E,o);if(h.hasEagerState=!0,h.eagerState=b,pn(b,E))return jc(r,a,h,0),nt===null&&zc(),!1}catch{}finally{}if(o=qd(r,a,h,u),o!==null)return Tn(o,r,u),_y(o,a,u),!0}return!1}function Sm(r,a,o,u){if(u={lane:2,revertLane:np(),action:u,hasEagerState:!1,eagerState:null,next:null},af(r)){if(a)throw Error(i(479))}else a=qd(r,o,u,2),a!==null&&Tn(a,r,2)}function af(r){var a=r.alternate;return r===Oe||a!==null&&a===Oe}function gy(r,a){oo=Zc=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function _y(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,vl(r,o)}}var sf={readContext:Xt,use:ef,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},vy={readContext:Xt,use:ef,useCallback:function(r,a){return ln().memoizedState=[r,a===void 0?null:a],r},useContext:Xt,useEffect:ty,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,rf(4194308,4,ay.bind(null,a,r),o)},useLayoutEffect:function(r,a){return rf(4194308,4,r,a)},useInsertionEffect:function(r,a){rf(4,2,r,a)},useMemo:function(r,a){var o=ln();a=a===void 0?null:a;var u=r();if(os){dn(!0);try{r()}finally{dn(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=ln();if(o!==void 0){var h=o(a);if(os){dn(!0);try{o(a)}finally{dn(!1)}}}else h=a;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=xR.bind(null,Oe,r),[u.memoizedState,r]},useRef:function(r){var a=ln();return r={current:r},a.memoizedState=r},useState:function(r){r=vm(r);var a=r.queue,o=py.bind(null,Oe,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:Em,useDeferredValue:function(r,a){var o=ln();return Tm(o,r,a)},useTransition:function(){var r=vm(!1);return r=cy.bind(null,Oe,r.queue,!0,!1),ln().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=Oe,h=ln();if(Fe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),nt===null)throw Error(i(349));(Ue&124)!==0||Bv(u,a,o)}h.memoizedState=o;var p={value:o,getSnapshot:a};return h.queue=p,ty(jv.bind(null,u,p,r),[r]),u.flags|=2048,uo(9,nf(),zv.bind(null,u,p,o,a),null),o},useId:function(){var r=ln(),a=nt.identifierPrefix;if(Fe){var o=Wr,u=Xr;o=(u&~(1<<32-Yt(u)-1)).toString(32)+o,a="«"+a+"R"+o,o=Jc++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=IR++,a="«"+a+"r"+o.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:Am,useFormState:Xv,useActionState:Xv,useOptimistic:function(r){var a=ln();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Sm.bind(null,Oe,!0,o),o.dispatch=a,[r,a]},useMemoCache:pm,useCacheRefresh:function(){return ln().memoizedState=VR.bind(null,Oe)}},yy={readContext:Xt,use:ef,useCallback:oy,useContext:Xt,useEffect:ny,useImperativeHandle:sy,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:tf,useRef:ey,useState:function(){return tf(ei)},useDebugValue:Em,useDeferredValue:function(r,a){var o=Et();return uy(o,We.memoizedState,r,a)},useTransition:function(){var r=tf(ei)[0],a=Et().memoizedState;return[typeof r=="boolean"?r:Ql(r),a]},useSyncExternalStore:Uv,useId:dy,useHostTransitionStatus:Am,useFormState:Wv,useActionState:Wv,useOptimistic:function(r,a){var o=Et();return Fv(o,We,r,a)},useMemoCache:pm,useCacheRefresh:my},kR={readContext:Xt,use:ef,useCallback:oy,useContext:Xt,useEffect:ny,useImperativeHandle:sy,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:_m,useRef:ey,useState:function(){return _m(ei)},useDebugValue:Em,useDeferredValue:function(r,a){var o=Et();return We===null?Tm(o,r,a):uy(o,We.memoizedState,r,a)},useTransition:function(){var r=_m(ei)[0],a=Et().memoizedState;return[typeof r=="boolean"?r:Ql(r),a]},useSyncExternalStore:Uv,useId:dy,useHostTransitionStatus:Am,useFormState:Jv,useActionState:Jv,useOptimistic:function(r,a){var o=Et();return We!==null?Fv(o,We,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:pm,useCacheRefresh:my},co=null,Wl=0;function of(r){var a=Wl;return Wl+=1,co===null&&(co=[]),Dv(co,r,a)}function Zl(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function lf(r,a){throw a.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Ey(r){var a=r._init;return a(r._payload)}function Ty(r){function a(U,x){if(r){var j=U.deletions;j===null?(U.deletions=[x],U.flags|=16):j.push(x)}}function o(U,x){if(!r)return null;for(;x!==null;)a(U,x),x=x.sibling;return null}function u(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function h(U,x){return U=Yr(U,x),U.index=0,U.sibling=null,U}function p(U,x,j){return U.index=j,r?(j=U.alternate,j!==null?(j=j.index,j<x?(U.flags|=67108866,x):j):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function E(U){return r&&U.alternate===null&&(U.flags|=67108866),U}function b(U,x,j,W){return x===null||x.tag!==6?(x=$d(j,U.mode,W),x.return=U,x):(x=h(x,j),x.return=U,x)}function C(U,x,j,W){var fe=j.type;return fe===D?X(U,x,j.props.children,W,j.key):x!==null&&(x.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Ey(fe)===x.type)?(x=h(x,j.props),Zl(x,j),x.return=U,x):(x=qc(j.type,j.key,j.props,null,U.mode,W),Zl(x,j),x.return=U,x)}function q(U,x,j,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=Gd(j,U.mode,W),x.return=U,x):(x=h(x,j.children||[]),x.return=U,x)}function X(U,x,j,W,fe){return x===null||x.tag!==7?(x=Ja(j,U.mode,W,fe),x.return=U,x):(x=h(x,j),x.return=U,x)}function Z(U,x,j){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=$d(""+x,U.mode,j),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case S:return j=qc(x.type,x.key,x.props,null,U.mode,j),Zl(j,x),j.return=U,j;case O:return x=Gd(x,U.mode,j),x.return=U,x;case w:var W=x._init;return x=W(x._payload),Z(U,x,j)}if(lt(x)||B(x))return x=Ja(x,U.mode,j,null),x.return=U,x;if(typeof x.then=="function")return Z(U,of(x),j);if(x.$$typeof===ee)return Z(U,Kc(U,x),j);lf(U,x)}return null}function $(U,x,j,W){var fe=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return fe!==null?null:b(U,x,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===fe?C(U,x,j,W):null;case O:return j.key===fe?q(U,x,j,W):null;case w:return fe=j._init,j=fe(j._payload),$(U,x,j,W)}if(lt(j)||B(j))return fe!==null?null:X(U,x,j,W,null);if(typeof j.then=="function")return $(U,x,of(j),W);if(j.$$typeof===ee)return $(U,x,Kc(U,j),W);lf(U,j)}return null}function G(U,x,j,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(j)||null,b(x,U,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return U=U.get(W.key===null?j:W.key)||null,C(x,U,W,fe);case O:return U=U.get(W.key===null?j:W.key)||null,q(x,U,W,fe);case w:var Ne=W._init;return W=Ne(W._payload),G(U,x,j,W,fe)}if(lt(W)||B(W))return U=U.get(j)||null,X(x,U,W,fe,null);if(typeof W.then=="function")return G(U,x,j,of(W),fe);if(W.$$typeof===ee)return G(U,x,j,Kc(x,W),fe);lf(x,W)}return null}function Te(U,x,j,W){for(var fe=null,Ne=null,he=x,ye=x=0,kt=null;he!==null&&ye<j.length;ye++){he.index>ye?(kt=he,he=null):kt=he.sibling;var je=$(U,he,j[ye],W);if(je===null){he===null&&(he=kt);break}r&&he&&je.alternate===null&&a(U,he),x=p(je,x,ye),Ne===null?fe=je:Ne.sibling=je,Ne=je,he=kt}if(ye===j.length)return o(U,he),Fe&&ts(U,ye),fe;if(he===null){for(;ye<j.length;ye++)he=Z(U,j[ye],W),he!==null&&(x=p(he,x,ye),Ne===null?fe=he:Ne.sibling=he,Ne=he);return Fe&&ts(U,ye),fe}for(he=u(he);ye<j.length;ye++)kt=G(he,U,ye,j[ye],W),kt!==null&&(r&&kt.alternate!==null&&he.delete(kt.key===null?ye:kt.key),x=p(kt,x,ye),Ne===null?fe=kt:Ne.sibling=kt,Ne=kt);return r&&he.forEach(function(na){return a(U,na)}),Fe&&ts(U,ye),fe}function _e(U,x,j,W){if(j==null)throw Error(i(151));for(var fe=null,Ne=null,he=x,ye=x=0,kt=null,je=j.next();he!==null&&!je.done;ye++,je=j.next()){he.index>ye?(kt=he,he=null):kt=he.sibling;var na=$(U,he,je.value,W);if(na===null){he===null&&(he=kt);break}r&&he&&na.alternate===null&&a(U,he),x=p(na,x,ye),Ne===null?fe=na:Ne.sibling=na,Ne=na,he=kt}if(je.done)return o(U,he),Fe&&ts(U,ye),fe;if(he===null){for(;!je.done;ye++,je=j.next())je=Z(U,je.value,W),je!==null&&(x=p(je,x,ye),Ne===null?fe=je:Ne.sibling=je,Ne=je);return Fe&&ts(U,ye),fe}for(he=u(he);!je.done;ye++,je=j.next())je=G(he,U,ye,je.value,W),je!==null&&(r&&je.alternate!==null&&he.delete(je.key===null?ye:je.key),x=p(je,x,ye),Ne===null?fe=je:Ne.sibling=je,Ne=je);return r&&he.forEach(function(L1){return a(U,L1)}),Fe&&ts(U,ye),fe}function Je(U,x,j,W){if(typeof j=="object"&&j!==null&&j.type===D&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:e:{for(var fe=j.key;x!==null;){if(x.key===fe){if(fe=j.type,fe===D){if(x.tag===7){o(U,x.sibling),W=h(x,j.props.children),W.return=U,U=W;break e}}else if(x.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Ey(fe)===x.type){o(U,x.sibling),W=h(x,j.props),Zl(W,j),W.return=U,U=W;break e}o(U,x);break}else a(U,x);x=x.sibling}j.type===D?(W=Ja(j.props.children,U.mode,W,j.key),W.return=U,U=W):(W=qc(j.type,j.key,j.props,null,U.mode,W),Zl(W,j),W.return=U,U=W)}return E(U);case O:e:{for(fe=j.key;x!==null;){if(x.key===fe)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){o(U,x.sibling),W=h(x,j.children||[]),W.return=U,U=W;break e}else{o(U,x);break}else a(U,x);x=x.sibling}W=Gd(j,U.mode,W),W.return=U,U=W}return E(U);case w:return fe=j._init,j=fe(j._payload),Je(U,x,j,W)}if(lt(j))return Te(U,x,j,W);if(B(j)){if(fe=B(j),typeof fe!="function")throw Error(i(150));return j=fe.call(j),_e(U,x,j,W)}if(typeof j.then=="function")return Je(U,x,of(j),W);if(j.$$typeof===ee)return Je(U,x,Kc(U,j),W);lf(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,x!==null&&x.tag===6?(o(U,x.sibling),W=h(x,j),W.return=U,U=W):(o(U,x),W=$d(j,U.mode,W),W.return=U,U=W),E(U)):o(U,x)}return function(U,x,j,W){try{Wl=0;var fe=Je(U,x,j,W);return co=null,fe}catch(he){if(he===Hl||he===Yc)throw he;var Ne=gn(29,he,null,U.mode);return Ne.lanes=W,Ne.return=U,Ne}finally{}}}var fo=Ty(!0),by=Ty(!1),Ln=te(null),_r=null;function ji(r){var a=r.alternate;re(Rt,Rt.current&1),re(Ln,r),_r===null&&(a===null||so.current!==null||a.memoizedState!==null)&&(_r=r)}function Ay(r){if(r.tag===22){if(re(Rt,Rt.current),re(Ln,r),_r===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(_r=r)}}else Hi()}function Hi(){re(Rt,Rt.current),re(Ln,Ln.current)}function ti(r){ue(Ln),_r===r&&(_r=null),ue(Rt)}var Rt=te(0);function uf(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||mp(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function wm(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:v({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Rm={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=En(),h=Ui(u);h.payload=a,o!=null&&(h.callback=o),a=Bi(r,h,u),a!==null&&(Tn(a,r,u),Fl(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=En(),h=Ui(u);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=Bi(r,h,u),a!==null&&(Tn(a,r,u),Fl(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=En(),u=Ui(o);u.tag=2,a!=null&&(u.callback=a),a=Bi(r,u,o),a!==null&&(Tn(a,r,o),Fl(a,r,o))}};function Sy(r,a,o,u,h,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):a.prototype&&a.prototype.isPureReactComponent?!Vl(o,u)||!Vl(h,p):!0}function wy(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&Rm.enqueueReplaceState(a,a.state,null)}function ls(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var cf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Ry(r){cf(r)}function Cy(r){console.error(r)}function Oy(r){cf(r)}function ff(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Iy(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cm(r,a,o){return o=Ui(o),o.tag=3,o.payload={element:null},o.callback=function(){ff(r,a)},o}function Dy(r){return r=Ui(r),r.tag=3,r}function Ny(r,a,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;r.payload=function(){return h(p)},r.callback=function(){Iy(a,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Iy(a,o,u),typeof h!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function LR(r,a,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Bl(a,o,h,!0),o=Ln.current,o!==null){switch(o.tag){case 13:return _r===null?Wm():o.alternate===null&&ft===0&&(ft=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===nm?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Jm(r,u,h)),!1;case 22:return o.flags|=65536,u===nm?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Jm(r,u,h)),!1}throw Error(i(435,o.tag))}return Jm(r,u,h),Wm(),!1}if(Fe)return a=Ln.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==Yd&&(r=Error(i(422),{cause:u}),Ul(Pn(r,o)))):(u!==Yd&&(a=Error(i(423),{cause:u}),Ul(Pn(a,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Pn(u,o),h=Cm(r.stateNode,u,h),am(r,h),ft!==4&&(ft=2)),!1;var p=Error(i(520),{cause:u});if(p=Pn(p,o),au===null?au=[p]:au.push(p),ft!==4&&(ft=2),a===null)return!0;u=Pn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Cm(o.stateNode,u,r),am(o,r),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Qi===null||!Qi.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Dy(h),Ny(h,r,o,u),am(o,h),!1}o=o.return}while(o!==null);return!1}var My=Error(i(461)),Vt=!1;function Ht(r,a,o,u){a.child=r===null?by(a,null,o,u):fo(a,r.child,o,u)}function Py(r,a,o,u,h){o=o.render;var p=a.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return as(a),u=cm(r,a,o,E,p,h),b=fm(),r!==null&&!Vt?(hm(r,a,h),ni(r,a,h)):(Fe&&b&&Kd(a),a.flags|=1,Ht(r,a,u,h),a.child)}function Vy(r,a,o,u,h){if(r===null){var p=o.type;return typeof p=="function"&&!Fd(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,xy(r,a,p,u,h)):(r=qc(o.type,null,u,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(p=r.child,!xm(r,h)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:Vl,o(E,u)&&r.ref===a.ref)return ni(r,a,h)}return a.flags|=1,r=Yr(p,u),r.ref=a.ref,r.return=a,a.child=r}function xy(r,a,o,u,h){if(r!==null){var p=r.memoizedProps;if(Vl(p,u)&&r.ref===a.ref)if(Vt=!1,a.pendingProps=u=p,xm(r,h))(r.flags&131072)!==0&&(Vt=!0);else return a.lanes=r.lanes,ni(r,a,h)}return Om(r,a,o,u,h)}function ky(r,a,o){var u=a.pendingProps,h=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,r!==null){for(h=a.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return Ly(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Qc(a,p!==null?p.cachePool:null),p!==null?xv(a,p):om(),Ay(a);else return a.lanes=a.childLanes=536870912,Ly(r,a,p!==null?p.baseLanes|o:o,o)}else p!==null?(Qc(a,p.cachePool),xv(a,p),Hi(),a.memoizedState=null):(r!==null&&Qc(a,null),om(),Hi());return Ht(r,a,h,o),a.child}function Ly(r,a,o,u){var h=tm();return h=h===null?null:{parent:wt._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},r!==null&&Qc(a,null),om(),Ay(a),r!==null&&Bl(r,a,u,!0),null}function hf(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function Om(r,a,o,u,h){return as(a),o=cm(r,a,o,u,void 0,h),u=fm(),r!==null&&!Vt?(hm(r,a,h),ni(r,a,h)):(Fe&&u&&Kd(a),a.flags|=1,Ht(r,a,o,h),a.child)}function Uy(r,a,o,u,h,p){return as(a),a.updateQueue=null,o=Lv(a,u,o,h),kv(r),u=fm(),r!==null&&!Vt?(hm(r,a,p),ni(r,a,p)):(Fe&&u&&Kd(a),a.flags|=1,Ht(r,a,o,p),a.child)}function By(r,a,o,u,h){if(as(a),a.stateNode===null){var p=to,E=o.contextType;typeof E=="object"&&E!==null&&(p=Xt(E)),p=new o(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Rm,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},rm(a),E=o.contextType,p.context=typeof E=="object"&&E!==null?Xt(E):to,p.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(wm(a,o,E,u),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Rm.enqueueReplaceState(p,p.state,null),Gl(a,u,p,h),$l(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){p=a.stateNode;var b=a.memoizedProps,C=ls(o,b);p.props=C;var q=p.context,X=o.contextType;E=to,typeof X=="object"&&X!==null&&(E=Xt(X));var Z=o.getDerivedStateFromProps;X=typeof Z=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=a.pendingProps!==b,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||q!==E)&&wy(a,p,u,E),Li=!1;var $=a.memoizedState;p.state=$,Gl(a,u,p,h),$l(),q=a.memoizedState,b||$!==q||Li?(typeof Z=="function"&&(wm(a,o,Z,u),q=a.memoizedState),(C=Li||Sy(a,o,C,u,$,q,E))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=q),p.props=u,p.state=q,p.context=E,u=C):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,im(r,a),E=a.memoizedProps,X=ls(o,E),p.props=X,Z=a.pendingProps,$=p.context,q=o.contextType,C=to,typeof q=="object"&&q!==null&&(C=Xt(q)),b=o.getDerivedStateFromProps,(q=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==Z||$!==C)&&wy(a,p,u,C),Li=!1,$=a.memoizedState,p.state=$,Gl(a,u,p,h),$l();var G=a.memoizedState;E!==Z||$!==G||Li||r!==null&&r.dependencies!==null&&Gc(r.dependencies)?(typeof b=="function"&&(wm(a,o,b,u),G=a.memoizedState),(X=Li||Sy(a,o,X,u,$,G,C)||r!==null&&r.dependencies!==null&&Gc(r.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,G,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,G,C)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=G),p.props=u,p.state=G,p.context=C,u=X):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(a.flags|=1024),u=!1)}return p=u,hf(r,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,r!==null&&u?(a.child=fo(a,r.child,null,h),a.child=fo(a,null,o,h)):Ht(r,a,o,h),a.memoizedState=p.state,r=a.child):r=ni(r,a,h),r}function zy(r,a,o,u){return Ll(),a.flags|=256,Ht(r,a,o,u),a.child}var Im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dm(r){return{baseLanes:r,cachePool:Cv()}}function Nm(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Un),r}function jy(r,a,o){var u=a.pendingProps,h=!1,p=(a.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(Rt.current&2)!==0),E&&(h=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(Fe){if(h?ji(a):Hi(),Fe){var b=ct,C;if(C=b){e:{for(C=b,b=gr;C.nodeType!==8;){if(!b){b=null;break e}if(C=Yn(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(a.memoizedState={dehydrated:b,treeContext:es!==null?{id:Xr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},C=gn(18,null,null,0),C.stateNode=b,C.return=a,a.child=C,sn=a,ct=null,C=!0):C=!1}C||rs(a)}if(b=a.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return mp(b)?a.lanes=32:a.lanes=536870912,null;ti(a)}return b=u.children,u=u.fallback,h?(Hi(),h=a.mode,b=df({mode:"hidden",children:b},h),u=Ja(u,h,o,null),b.return=a,u.return=a,b.sibling=u,a.child=b,h=a.child,h.memoizedState=Dm(o),h.childLanes=Nm(r,E,o),a.memoizedState=Im,u):(ji(a),Mm(a,b))}if(C=r.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(p)a.flags&256?(ji(a),a.flags&=-257,a=Pm(r,a,o)):a.memoizedState!==null?(Hi(),a.child=r.child,a.flags|=128,a=null):(Hi(),h=u.fallback,b=a.mode,u=df({mode:"visible",children:u.children},b),h=Ja(h,b,o,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,fo(a,r.child,null,o),u=a.child,u.memoizedState=Dm(o),u.childLanes=Nm(r,E,o),a.memoizedState=Im,a=h);else if(ji(a),mp(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var q=E.dgst;E=q,u=Error(i(419)),u.stack="",u.digest=E,Ul({value:u,source:null,stack:null}),a=Pm(r,a,o)}else if(Vt||Bl(r,a,o,!1),E=(o&r.childLanes)!==0,Vt||E){if(E=nt,E!==null&&(u=o&-o,u=(u&42)!==0?1:Ii(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==C.retryLane))throw C.retryLane=u,eo(r,u),Tn(E,r,u),My;b.data==="$?"||Wm(),a=Pm(r,a,o)}else b.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=C.treeContext,ct=Yn(b.nextSibling),sn=a,Fe=!0,ns=null,gr=!1,r!==null&&(xn[kn++]=Xr,xn[kn++]=Wr,xn[kn++]=es,Xr=r.id,Wr=r.overflow,es=a),a=Mm(a,u.children),a.flags|=4096);return a}return h?(Hi(),h=u.fallback,b=a.mode,C=r.child,q=C.sibling,u=Yr(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=Yr(q,h):(h=Ja(h,b,o,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,b=r.child.memoizedState,b===null?b=Dm(o):(C=b.cachePool,C!==null?(q=wt._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=Cv(),b={baseLanes:b.baseLanes|o,cachePool:C}),h.memoizedState=b,h.childLanes=Nm(r,E,o),a.memoizedState=Im,u):(ji(a),o=r.child,r=o.sibling,o=Yr(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=o,a.memoizedState=null,o)}function Mm(r,a){return a=df({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function df(r,a){return r=gn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Pm(r,a,o){return fo(a,r.child,null,o),r=Mm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Hy(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Wd(r.return,a,o)}function Vm(r,a,o,u,h){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function qy(r,a,o){var u=a.pendingProps,h=u.revealOrder,p=u.tail;if(Ht(r,a,u.children,o),u=Rt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Hy(r,o,a);else if(r.tag===19)Hy(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(re(Rt,u),h){case"forwards":for(o=a.child,h=null;o!==null;)r=o.alternate,r!==null&&uf(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),Vm(a,!1,h,o,p);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&uf(r)===null){a.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Vm(a,!0,o,null,p);break;case"together":Vm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ni(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),Ki|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(Bl(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=Yr(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Yr(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function xm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Gc(r)))}function UR(r,a,o){switch(a.tag){case 3:tt(a,a.stateNode.containerInfo),ki(a,wt,r.memoizedState.cache),Ll();break;case 27:case 5:Oi(a);break;case 4:tt(a,a.stateNode.containerInfo);break;case 10:ki(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ji(a),a.flags|=128,null):(o&a.child.childLanes)!==0?jy(r,a,o):(ji(a),r=ni(r,a,o),r!==null?r.sibling:null);ji(a);break;case 19:var h=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Bl(r,a,o,!1),u=(o&a.childLanes)!==0),h){if(u)return qy(r,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Rt,Rt.current),u)break;return null;case 22:case 23:return a.lanes=0,ky(r,a,o);case 24:ki(a,wt,r.memoizedState.cache)}return ni(r,a,o)}function Fy(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Vt=!0;else{if(!xm(r,o)&&(a.flags&128)===0)return Vt=!1,UR(r,a,o);Vt=(r.flags&131072)!==0}else Vt=!1,Fe&&(a.flags&1048576)!==0&&Ev(a,$c,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")Fd(u)?(r=ls(u,r),a.tag=1,a=By(null,a,u,r,o)):(a.tag=0,a=Om(null,a,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===ae){a.tag=11,a=Py(null,a,u,r,o);break e}else if(h===P){a.tag=14,a=Vy(null,a,u,r,o);break e}}throw a=Bt(u)||u,Error(i(306,a,""))}}return a;case 0:return Om(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,h=ls(u,a.pendingProps),By(r,a,u,h,o);case 3:e:{if(tt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;h=p.element,im(r,a),Gl(a,u,null,o);var E=a.memoizedState;if(u=E.cache,ki(a,wt,u),u!==p.cache&&Zd(a,[wt],o,!0),$l(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=zy(r,a,u,o);break e}else if(u!==h){h=Pn(Error(i(424)),a),Ul(h),a=zy(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ct=Yn(r.firstChild),sn=a,Fe=!0,ns=null,gr=!0,o=by(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ll(),u===h){a=ni(r,a,o);break e}Ht(r,a,u,o)}a=a.child}return a;case 26:return hf(r,a),r===null?(o=QE(a.type,null,a.pendingProps,null))?a.memoizedState=o:Fe||(o=a.type,r=a.pendingProps,u=Cf(Se.current).createElement(o),u[bt]=a,u[_t]=r,Ft(u,o,r),dt(u),a.stateNode=u):a.memoizedState=QE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Oi(a),r===null&&Fe&&(u=a.stateNode=$E(a.type,a.pendingProps,Se.current),sn=a,gr=!0,h=ct,Wi(a.type)?(pp=h,ct=Yn(u.firstChild)):ct=h),Ht(r,a,a.pendingProps.children,o),hf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Fe&&((h=u=ct)&&(u=h1(u,a.type,a.pendingProps,gr),u!==null?(a.stateNode=u,sn=a,ct=Yn(u.firstChild),gr=!1,h=!0):h=!1),h||rs(a)),Oi(a),h=a.type,p=a.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,fp(h,p)?u=null:E!==null&&fp(h,E)&&(a.flags|=32),a.memoizedState!==null&&(h=cm(r,a,DR,null,null,o),mu._currentValue=h),hf(r,a),Ht(r,a,u,o),a.child;case 6:return r===null&&Fe&&((r=o=ct)&&(o=d1(o,a.pendingProps,gr),o!==null?(a.stateNode=o,sn=a,ct=null,r=!0):r=!1),r||rs(a)),null;case 13:return jy(r,a,o);case 4:return tt(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=fo(a,null,u,o):Ht(r,a,u,o),a.child;case 11:return Py(r,a,a.type,a.pendingProps,o);case 7:return Ht(r,a,a.pendingProps,o),a.child;case 8:return Ht(r,a,a.pendingProps.children,o),a.child;case 12:return Ht(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,ki(a,a.type,u.value),Ht(r,a,u.children,o),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,as(a),h=Xt(h),u=u(h),a.flags|=1,Ht(r,a,u,o),a.child;case 14:return Vy(r,a,a.type,a.pendingProps,o);case 15:return xy(r,a,a.type,a.pendingProps,o);case 19:return qy(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=df(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Yr(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return ky(r,a,o);case 24:return as(a),u=Xt(wt),r===null?(h=tm(),h===null&&(h=nt,p=Jd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),a.memoizedState={parent:u,cache:h},rm(a),ki(a,wt,h)):((r.lanes&o)!==0&&(im(r,a),Gl(a,null,null,o),$l()),h=r.memoizedState,p=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),ki(a,wt,u)):(u=p.cache,ki(a,wt,u),u!==h.cache&&Zd(a,[wt],o,!0))),Ht(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ri(r){r.flags|=4}function $y(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!JE(a)){if(a=Ln.current,a!==null&&((Ue&4194048)===Ue?_r!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||a!==_r))throw ql=nm,Ov;r.flags|=8192}}function mf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?gl():536870912,r.lanes|=a,go|=a)}function Jl(r,a){if(!Fe)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function st(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function BR(r,a,o){var u=a.pendingProps;switch(Qd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(a),null;case 1:return st(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Jr(wt),ir(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(kl(a)?ri(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Av())),st(a),null;case 26:return o=a.memoizedState,r===null?(ri(a),o!==null?(st(a),$y(a,o)):(st(a),a.flags&=-16777217)):o?o!==r.memoizedState?(ri(a),st(a),$y(a,o)):(st(a),a.flags&=-16777217):(r.memoizedProps!==u&&ri(a),st(a),a.flags&=-16777217),null;case 27:kr(a),o=Se.current;var h=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ri(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return st(a),null}r=pe.current,kl(a)?Tv(a):(r=$E(h,u,o),a.stateNode=r,ri(a))}return st(a),null;case 5:if(kr(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ri(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return st(a),null}if(r=pe.current,kl(a))Tv(a);else{switch(h=Cf(Se.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[bt]=a,r[_t]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=r;e:switch(Ft(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ri(a)}}return st(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&ri(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=Se.current,kl(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,h=sn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[bt]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||UE(r.nodeValue,o)),r||rs(a)}else r=Cf(r).createTextNode(u),r[bt]=a,a.stateNode=r}return st(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=kl(a),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[bt]=a}else Ll(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;st(a),h=!1}else h=Av(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(ti(a),a):(ti(a),null)}if(ti(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),mf(a,a.updateQueue),st(a),null;case 4:return ir(),r===null&&sp(a.stateNode.containerInfo),st(a),null;case 10:return Jr(a.type),st(a),null;case 19:if(ue(Rt),h=a.memoizedState,h===null)return st(a),null;if(u=(a.flags&128)!==0,p=h.rendering,p===null)if(u)Jl(h,!1);else{if(ft!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(p=uf(r),p!==null){for(a.flags|=128,Jl(h,!1),r=p.updateQueue,a.updateQueue=r,mf(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)yv(o,r),o=o.sibling;return re(Rt,Rt.current&1|2),a.child}r=r.sibling}h.tail!==null&&Cn()>_f&&(a.flags|=128,u=!0,Jl(h,!1),a.lanes=4194304)}else{if(!u)if(r=uf(p),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,mf(a,r),Jl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Fe)return st(a),null}else 2*Cn()-h.renderingStartTime>_f&&o!==536870912&&(a.flags|=128,u=!0,Jl(h,!1),a.lanes=4194304);h.isBackwards?(p.sibling=a.child,a.child=p):(r=h.last,r!==null?r.sibling=p:a.child=p,h.last=p)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Cn(),a.sibling=null,r=Rt.current,re(Rt,u?r&1|2:r&1),a):(st(a),null);case 22:case 23:return ti(a),lm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(st(a),a.subtreeFlags&6&&(a.flags|=8192)):st(a),o=a.updateQueue,o!==null&&mf(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&ue(ss),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Jr(wt),st(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function zR(r,a){switch(Qd(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Jr(wt),ir(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return kr(a),null;case 13:if(ti(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ll()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ue(Rt),null;case 4:return ir(),null;case 10:return Jr(a.type),null;case 22:case 23:return ti(a),lm(),r!==null&&ue(ss),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Jr(wt),null;case 25:return null;default:return null}}function Gy(r,a){switch(Qd(a),a.tag){case 3:Jr(wt),ir();break;case 26:case 27:case 5:kr(a);break;case 4:ir();break;case 13:ti(a);break;case 19:ue(Rt);break;case 10:Jr(a.type);break;case 22:case 23:ti(a),lm(),r!==null&&ue(ss);break;case 24:Jr(wt)}}function eu(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==h)}}catch(b){et(a,a.return,b)}}function qi(r,a,o){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&r)===r){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=a;var C=o,q=b;try{q()}catch(X){et(h,C,X)}}}u=u.next}while(u!==p)}}catch(X){et(a,a.return,X)}}function Ky(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{Vv(a,o)}catch(u){et(r,r.return,u)}}}function Qy(r,a,o){o.props=ls(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){et(r,a,u)}}function tu(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){et(r,a,h)}}function vr(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){et(r,a,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){et(r,a,h)}else o.current=null}function Yy(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){et(r,r.return,h)}}function km(r,a,o){try{var u=r.stateNode;o1(u,r.type,o,a),u[_t]=a}catch(h){et(r,r.return,h)}}function Xy(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Wi(r.type)||r.tag===4}function Lm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Wi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Um(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Rf));else if(u!==4&&(u===27&&Wi(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(Um(r,a,o),r=r.sibling;r!==null;)Um(r,a,o),r=r.sibling}function pf(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&Wi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(pf(r,a,o),r=r.sibling;r!==null;)pf(r,a,o),r=r.sibling}function Wy(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);Ft(a,u,o),a[bt]=r,a[_t]=o}catch(p){et(r,r.return,p)}}var ii=!1,pt=!1,Bm=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,xt=null;function jR(r,a){if(r=r.containerInfo,up=Pf,r=uv(r),Ld(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,b=-1,C=-1,q=0,X=0,Z=r,$=null;t:for(;;){for(var G;Z!==o||h!==0&&Z.nodeType!==3||(b=E+h),Z!==p||u!==0&&Z.nodeType!==3||(C=E+u),Z.nodeType===3&&(E+=Z.nodeValue.length),(G=Z.firstChild)!==null;)$=Z,Z=G;for(;;){if(Z===r)break t;if($===o&&++q===h&&(b=E),$===p&&++X===u&&(C=E),(G=Z.nextSibling)!==null)break;Z=$,$=Z.parentNode}Z=G}o=b===-1||C===-1?null:{start:b,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(cp={focusedElem:r,selectionRange:o},Pf=!1,xt=a;xt!==null;)if(a=xt,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,xt=r;else for(;xt!==null;){switch(a=xt,p=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=a,h=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Te=ls(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Te,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(_e){et(o,o.return,_e)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)dp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":dp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,xt=r;break}xt=a.return}}function Jy(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Fi(r,o),u&4&&eu(5,o);break;case 1:if(Fi(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(E){et(o,o.return,E)}else{var h=ls(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(h,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){et(o,o.return,E)}}u&64&&Ky(o),u&512&&tu(o,o.return);break;case 3:if(Fi(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Vv(r,a)}catch(E){et(o,o.return,E)}}break;case 27:a===null&&u&4&&Wy(o);case 26:case 5:Fi(r,o),a===null&&u&4&&Yy(o),u&512&&tu(o,o.return);break;case 12:Fi(r,o);break;case 13:Fi(r,o),u&4&&nE(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=XR.bind(null,o),m1(r,o))));break;case 22:if(u=o.memoizedState!==null||ii,!u){a=a!==null&&a.memoizedState!==null||pt,h=ii;var p=pt;ii=u,(pt=a)&&!p?$i(r,o,(o.subtreeFlags&8772)!==0):Fi(r,o),ii=h,pt=p}break;case 30:break;default:Fi(r,o)}}function eE(r){var a=r.alternate;a!==null&&(r.alternate=null,eE(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Mi(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var at=null,un=!1;function ai(r,a,o){for(o=o.child;o!==null;)tE(r,a,o),o=o.sibling}function tE(r,a,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ut,o)}catch{}switch(o.tag){case 26:pt||vr(o,a),ai(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pt||vr(o,a);var u=at,h=un;Wi(o.type)&&(at=o.stateNode,un=!1),ai(r,a,o),cu(o.stateNode),at=u,un=h;break;case 5:pt||vr(o,a);case 6:if(u=at,h=un,at=null,ai(r,a,o),at=u,un=h,at!==null)if(un)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(o.stateNode)}catch(p){et(o,a,p)}else try{at.removeChild(o.stateNode)}catch(p){et(o,a,p)}break;case 18:at!==null&&(un?(r=at,qE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),vu(r)):qE(at,o.stateNode));break;case 4:u=at,h=un,at=o.stateNode.containerInfo,un=!0,ai(r,a,o),at=u,un=h;break;case 0:case 11:case 14:case 15:pt||qi(2,o,a),pt||qi(4,o,a),ai(r,a,o);break;case 1:pt||(vr(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Qy(o,a,u)),ai(r,a,o);break;case 21:ai(r,a,o);break;case 22:pt=(u=pt)||o.memoizedState!==null,ai(r,a,o),pt=u;break;default:ai(r,a,o)}}function nE(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{vu(r)}catch(o){et(a,a.return,o)}}function HR(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Zy),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Zy),a;default:throw Error(i(435,r.tag))}}function zm(r,a){var o=HR(r);a.forEach(function(u){var h=WR.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function _n(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],p=r,E=a,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Wi(b.type)){at=b.stateNode,un=!1;break e}break;case 5:at=b.stateNode,un=!1;break e;case 3:case 4:at=b.stateNode.containerInfo,un=!0;break e}b=b.return}if(at===null)throw Error(i(160));tE(p,E,h),at=null,un=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)rE(a,r),a=a.sibling}var Qn=null;function rE(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:_n(a,r),vn(r),u&4&&(qi(3,r,r.return),eu(3,r),qi(5,r,r.return));break;case 1:_n(a,r),vn(r),u&512&&(pt||o===null||vr(o,o.return)),u&64&&ii&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Qn;if(_n(a,r),vn(r),u&512&&(pt||o===null||vr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[La]||p[bt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),Ft(p,u,o),p[bt]=r,dt(p),u=p;break e;case"link":var E=WE("link","href",h).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break t}}p=h.createElement(u),Ft(p,u,o),h.head.appendChild(p);break;case"meta":if(E=WE("meta","content",h).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break t}}p=h.createElement(u),Ft(p,u,o),h.head.appendChild(p);break;default:throw Error(i(468,u))}p[bt]=r,dt(p),u=p}r.stateNode=u}else ZE(h,r.type,r.stateNode);else r.stateNode=XE(h,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?ZE(h,r.type,r.stateNode):XE(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&km(r,r.memoizedProps,o.memoizedProps)}break;case 27:_n(a,r),vn(r),u&512&&(pt||o===null||vr(o,o.return)),o!==null&&u&4&&km(r,r.memoizedProps,o.memoizedProps);break;case 5:if(_n(a,r),vn(r),u&512&&(pt||o===null||vr(o,o.return)),r.flags&32){h=r.stateNode;try{In(h,"")}catch(G){et(r,r.return,G)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,km(r,h,o!==null?o.memoizedProps:h)),u&1024&&(Bm=!0);break;case 6:if(_n(a,r),vn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(G){et(r,r.return,G)}}break;case 3:if(Df=null,h=Qn,Qn=Of(a.containerInfo),_n(a,r),Qn=h,vn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{vu(a.containerInfo)}catch(G){et(r,r.return,G)}Bm&&(Bm=!1,iE(r));break;case 4:u=Qn,Qn=Of(r.stateNode.containerInfo),_n(a,r),vn(r),Qn=u;break;case 12:_n(a,r),vn(r);break;case 13:_n(a,r),vn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gm=Cn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,zm(r,u)));break;case 22:h=r.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,q=ii,X=pt;if(ii=q||h,pt=X||C,_n(a,r),pt=X,ii=q,vn(r),u&8192)e:for(a=r.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||C||ii||pt||us(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){C=o=a;try{if(p=C.stateNode,h)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=C.stateNode;var Z=C.memoizedProps.style,$=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(G){et(C,C.return,G)}}}else if(a.tag===6){if(o===null){C=a;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){et(C,C.return,G)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,zm(r,o))));break;case 19:_n(a,r),vn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,zm(r,u)));break;case 30:break;case 21:break;default:_n(a,r),vn(r)}}function vn(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(Xy(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,p=Lm(r);pf(r,p,h);break;case 5:var E=o.stateNode;o.flags&32&&(In(E,""),o.flags&=-33);var b=Lm(r);pf(r,b,E);break;case 3:case 4:var C=o.stateNode.containerInfo,q=Lm(r);Um(r,q,C);break;default:throw Error(i(161))}}catch(X){et(r,r.return,X)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function iE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;iE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Fi(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Jy(r,a.alternate,a),a=a.sibling}function us(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:qi(4,a,a.return),us(a);break;case 1:vr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Qy(a,a.return,o),us(a);break;case 27:cu(a.stateNode);case 26:case 5:vr(a,a.return),us(a);break;case 22:a.memoizedState===null&&us(a);break;case 30:us(a);break;default:us(a)}r=r.sibling}}function $i(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=r,p=a,E=p.flags;switch(p.tag){case 0:case 11:case 15:$i(h,p,o),eu(4,p);break;case 1:if($i(h,p,o),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){et(u,u.return,q)}if(u=p,h=u.updateQueue,h!==null){var b=u.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Pv(C[h],b)}catch(q){et(u,u.return,q)}}o&&E&64&&Ky(p),tu(p,p.return);break;case 27:Wy(p);case 26:case 5:$i(h,p,o),o&&u===null&&E&4&&Yy(p),tu(p,p.return);break;case 12:$i(h,p,o);break;case 13:$i(h,p,o),o&&E&4&&nE(h,p);break;case 22:p.memoizedState===null&&$i(h,p,o),tu(p,p.return);break;case 30:break;default:$i(h,p,o)}a=a.sibling}}function jm(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&zl(o))}function Hm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&zl(r))}function yr(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)aE(r,a,o,u),a=a.sibling}function aE(r,a,o,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:yr(r,a,o,u),h&2048&&eu(9,a);break;case 1:yr(r,a,o,u);break;case 3:yr(r,a,o,u),h&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&zl(r)));break;case 12:if(h&2048){yr(r,a,o,u),r=a.stateNode;try{var p=a.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(C){et(a,a.return,C)}}else yr(r,a,o,u);break;case 13:yr(r,a,o,u);break;case 23:break;case 22:p=a.stateNode,E=a.alternate,a.memoizedState!==null?p._visibility&2?yr(r,a,o,u):nu(r,a):p._visibility&2?yr(r,a,o,u):(p._visibility|=2,ho(r,a,o,u,(a.subtreeFlags&10256)!==0)),h&2048&&jm(E,a);break;case 24:yr(r,a,o,u),h&2048&&Hm(a.alternate,a);break;default:yr(r,a,o,u)}}function ho(r,a,o,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=r,E=a,b=o,C=u,q=E.flags;switch(E.tag){case 0:case 11:case 15:ho(p,E,b,C,h),eu(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?ho(p,E,b,C,h):nu(p,E):(X._visibility|=2,ho(p,E,b,C,h)),h&&q&2048&&jm(E.alternate,E);break;case 24:ho(p,E,b,C,h),h&&q&2048&&Hm(E.alternate,E);break;default:ho(p,E,b,C,h)}a=a.sibling}}function nu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,h=u.flags;switch(u.tag){case 22:nu(o,u),h&2048&&jm(u.alternate,u);break;case 24:nu(o,u),h&2048&&Hm(u.alternate,u);break;default:nu(o,u)}a=a.sibling}}var ru=8192;function mo(r){if(r.subtreeFlags&ru)for(r=r.child;r!==null;)sE(r),r=r.sibling}function sE(r){switch(r.tag){case 26:mo(r),r.flags&ru&&r.memoizedState!==null&&C1(Qn,r.memoizedState,r.memoizedProps);break;case 5:mo(r);break;case 3:case 4:var a=Qn;Qn=Of(r.stateNode.containerInfo),mo(r),Qn=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=ru,ru=16777216,mo(r),ru=a):mo(r));break;default:mo(r)}}function oE(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function iu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];xt=u,uE(u,r)}oE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)lE(r),r=r.sibling}function lE(r){switch(r.tag){case 0:case 11:case 15:iu(r),r.flags&2048&&qi(9,r,r.return);break;case 3:iu(r);break;case 12:iu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,gf(r)):iu(r);break;default:iu(r)}}function gf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];xt=u,uE(u,r)}oE(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:qi(8,a,a.return),gf(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,gf(a));break;default:gf(a)}r=r.sibling}}function uE(r,a){for(;xt!==null;){var o=xt;switch(o.tag){case 0:case 11:case 15:qi(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:zl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,xt=u;else e:for(o=r;xt!==null;){u=xt;var h=u.sibling,p=u.return;if(eE(u),u===o){xt=null;break e}if(h!==null){h.return=p,xt=h;break e}xt=p}}}var qR={getCacheForType:function(r){var a=Xt(wt),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},FR=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Me=null,Ue=0,Ye=0,yn=null,Gi=!1,po=!1,qm=!1,si=0,ft=0,Ki=0,cs=0,Fm=0,Un=0,go=0,au=null,cn=null,$m=!1,Gm=0,_f=1/0,vf=null,Qi=null,qt=0,Yi=null,_o=null,vo=0,Km=0,Qm=null,cE=null,su=0,Ym=null;function En(){if((Qe&2)!==0&&Ue!==0)return Ue&-Ue;if(Y.T!==null){var r=io;return r!==0?r:np()}return Di()}function fE(){Un===0&&(Un=(Ue&536870912)===0||Fe?pl():536870912);var r=Ln.current;return r!==null&&(r.flags|=32),Un}function Tn(r,a,o){(r===nt&&(Ye===2||Ye===9)||r.cancelPendingCommit!==null)&&(yo(r,0),Xi(r,Ue,Un,!1)),Ur(r,o),((Qe&2)===0||r!==nt)&&(r===nt&&((Qe&2)===0&&(cs|=o),ft===4&&Xi(r,Ue,Un,!1)),Er(r))}function hE(r,a,o){if((Qe&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||ka(r,a),h=u?KR(r,a):Zm(r,a,!0),p=u;do{if(h===0){po&&!u&&Xi(r,a,0,!1);break}else{if(o=r.current.alternate,p&&!$R(o)){h=Zm(r,a,!1),p=!1;continue}if(h===2){if(p=a,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var b=r;h=au;var C=b.current.memoizedState.isDehydrated;if(C&&(yo(b,E).flags|=256),E=Zm(b,E,!1),E!==2){if(qm&&!C){b.errorRecoveryDisabledLanes|=p,cs|=p,h=4;break e}p=cn,cn=h,p!==null&&(cn===null?cn=p:cn.push.apply(cn,p))}h=E}if(p=!1,h!==2)continue}}if(h===1){yo(r,0),Xi(r,a,0,!0);break}e:{switch(u=r,p=h,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Xi(u,a,Un,!Gi);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=Gm+300-Cn(),10<h)){if(Xi(u,a,Un,!Gi),xs(u,0,!0)!==0)break e;u.timeoutHandle=jE(dE.bind(null,u,o,cn,vf,$m,a,Un,cs,go,Gi,p,2,-0,0),h);break e}dE(u,o,cn,vf,$m,a,Un,cs,go,Gi,p,0,-0,0)}}break}while(!0);Er(r)}function dE(r,a,o,u,h,p,E,b,C,q,X,Z,$,G){if(r.timeoutHandle=-1,Z=a.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(du={stylesheets:null,count:0,unsuspend:R1},sE(a),Z=O1(),Z!==null)){r.cancelPendingCommit=Z(EE.bind(null,r,a,p,o,u,h,E,b,C,X,1,$,G)),Xi(r,p,E,!q);return}EE(r,a,p,o,u,h,E,b,C)}function $R(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!pn(p(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Xi(r,a,o,u){a&=~Fm,a&=~cs,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var h=a;0<h;){var p=31-Yt(h),E=1<<p;u[p]=-1,h&=~E}o!==0&&ar(r,o,a)}function yf(){return(Qe&6)===0?(ou(0),!1):!0}function Xm(){if(Me!==null){if(Ye===0)var r=Me.return;else r=Me,Zr=is=null,dm(r),co=null,Wl=0,r=Me;for(;r!==null;)Gy(r.alternate,r),r=r.return;Me=null}}function yo(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,u1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Xm(),nt=r,Me=o=Yr(r.current,null),Ue=a,Ye=0,yn=null,Gi=!1,po=ka(r,a),qm=!1,go=Un=Fm=cs=Ki=ft=0,cn=au=null,$m=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var h=31-Yt(u),p=1<<h;a|=r[h],u&=~p}return si=a,zc(),o}function mE(r,a){Oe=null,Y.H=sf,a===Hl||a===Yc?(a=Nv(),Ye=3):a===Ov?(a=Nv(),Ye=4):Ye=a===My?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,yn=a,Me===null&&(ft=1,ff(r,Pn(a,r.current)))}function pE(){var r=Y.H;return Y.H=sf,r===null?sf:r}function gE(){var r=Y.A;return Y.A=qR,r}function Wm(){ft=4,Gi||(Ue&4194048)!==Ue&&Ln.current!==null||(po=!0),(Ki&134217727)===0&&(cs&134217727)===0||nt===null||Xi(nt,Ue,Un,!1)}function Zm(r,a,o){var u=Qe;Qe|=2;var h=pE(),p=gE();(nt!==r||Ue!==a)&&(vf=null,yo(r,a)),a=!1;var E=ft;e:do try{if(Ye!==0&&Me!==null){var b=Me,C=yn;switch(Ye){case 8:Xm(),E=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(a=!0);var q=Ye;if(Ye=0,yn=null,Eo(r,b,C,q),o&&po){E=0;break e}break;default:q=Ye,Ye=0,yn=null,Eo(r,b,C,q)}}GR(),E=ft;break}catch(X){mE(r,X)}while(!0);return a&&r.shellSuspendCounter++,Zr=is=null,Qe=u,Y.H=h,Y.A=p,Me===null&&(nt=null,Ue=0,zc()),E}function GR(){for(;Me!==null;)_E(Me)}function KR(r,a){var o=Qe;Qe|=2;var u=pE(),h=gE();nt!==r||Ue!==a?(vf=null,_f=Cn()+500,yo(r,a)):po=ka(r,a);e:do try{if(Ye!==0&&Me!==null){a=Me;var p=yn;t:switch(Ye){case 1:Ye=0,yn=null,Eo(r,a,p,1);break;case 2:case 9:if(Iv(p)){Ye=0,yn=null,vE(a);break}a=function(){Ye!==2&&Ye!==9||nt!==r||(Ye=7),Er(r)},p.then(a,a);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Iv(p)?(Ye=0,yn=null,vE(a)):(Ye=0,yn=null,Eo(r,a,p,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var b=Me;if(!E||JE(E)){Ye=0,yn=null;var C=b.sibling;if(C!==null)Me=C;else{var q=b.return;q!==null?(Me=q,Ef(q)):Me=null}break t}}Ye=0,yn=null,Eo(r,a,p,5);break;case 6:Ye=0,yn=null,Eo(r,a,p,6);break;case 8:Xm(),ft=6;break e;default:throw Error(i(462))}}QR();break}catch(X){mE(r,X)}while(!0);return Zr=is=null,Y.H=u,Y.A=h,Qe=o,Me!==null?0:(nt=null,Ue=0,zc(),ft)}function QR(){for(;Me!==null&&!fl();)_E(Me)}function _E(r){var a=Fy(r.alternate,r,si);r.memoizedProps=r.pendingProps,a===null?Ef(r):Me=a}function vE(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=Uy(o,a,a.pendingProps,a.type,void 0,Ue);break;case 11:a=Uy(o,a,a.pendingProps,a.type.render,a.ref,Ue);break;case 5:dm(a);default:Gy(o,a),a=Me=yv(a,si),a=Fy(o,a,si)}r.memoizedProps=r.pendingProps,a===null?Ef(r):Me=a}function Eo(r,a,o,u){Zr=is=null,dm(a),co=null,Wl=0;var h=a.return;try{if(LR(r,h,a,o,Ue)){ft=1,ff(r,Pn(o,r.current)),Me=null;return}}catch(p){if(h!==null)throw Me=h,p;ft=1,ff(r,Pn(o,r.current)),Me=null;return}a.flags&32768?(Fe||u===1?r=!0:po||(Ue&536870912)!==0?r=!1:(Gi=r=!0,(u===2||u===9||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),yE(a,r)):Ef(a)}function Ef(r){var a=r;do{if((a.flags&32768)!==0){yE(a,Gi);return}r=a.return;var o=BR(a.alternate,a,si);if(o!==null){Me=o;return}if(a=a.sibling,a!==null){Me=a;return}Me=a=r}while(a!==null);ft===0&&(ft=5)}function yE(r,a){do{var o=zR(r.alternate,r);if(o!==null){o.flags&=32767,Me=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){Me=r;return}Me=r=o}while(r!==null);ft=6,Me=null}function EE(r,a,o,u,h,p,E,b,C){r.cancelPendingCommit=null;do Tf();while(qt!==0);if((Qe&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Hd,_l(r,o,p,E,b,C),r===nt&&(Me=nt=null,Ue=0),_o=a,Yi=r,vo=o,Km=p,Qm=h,cE=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,ZR(Ma,function(){return wE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,h=le.p,le.p=2,E=Qe,Qe|=4;try{jR(r,a,o)}finally{Qe=E,le.p=h,Y.T=u}}qt=1,TE(),bE(),AE()}}function TE(){if(qt===1){qt=0;var r=Yi,a=_o,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=le.p;le.p=2;var h=Qe;Qe|=4;try{rE(a,r);var p=cp,E=uv(r.containerInfo),b=p.focusedElem,C=p.selectionRange;if(E!==b&&b&&b.ownerDocument&&lv(b.ownerDocument.documentElement,b)){if(C!==null&&Ld(b)){var q=C.start,X=C.end;if(X===void 0&&(X=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(X,b.value.length);else{var Z=b.ownerDocument||document,$=Z&&Z.defaultView||window;if($.getSelection){var G=$.getSelection(),Te=b.textContent.length,_e=Math.min(C.start,Te),Je=C.end===void 0?_e:Math.min(C.end,Te);!G.extend&&_e>Je&&(E=Je,Je=_e,_e=E);var U=ov(b,_e),x=ov(b,Je);if(U&&x&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var j=Z.createRange();j.setStart(U.node,U.offset),G.removeAllRanges(),_e>Je?(G.addRange(j),G.extend(x.node,x.offset)):(j.setEnd(x.node,x.offset),G.addRange(j))}}}}for(Z=[],G=b;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var W=Z[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Pf=!!up,cp=up=null}finally{Qe=h,le.p=u,Y.T=o}}r.current=a,qt=2}}function bE(){if(qt===2){qt=0;var r=Yi,a=_o,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=le.p;le.p=2;var h=Qe;Qe|=4;try{Jy(r,a.alternate,a)}finally{Qe=h,le.p=u,Y.T=o}}qt=3}}function AE(){if(qt===4||qt===3){qt=0,pc();var r=Yi,a=_o,o=vo,u=cE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?qt=5:(qt=0,_o=Yi=null,SE(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Qi=null),ks(o),a=a.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ut,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Y.T,h=le.p,le.p=2,Y.T=null;try{for(var p=r.onRecoverableError,E=0;E<u.length;E++){var b=u[E];p(b.value,{componentStack:b.stack})}}finally{Y.T=a,le.p=h}}(vo&3)!==0&&Tf(),Er(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Ym?su++:(su=0,Ym=r):su=0,ou(0)}}function SE(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,zl(a)))}function Tf(r){return TE(),bE(),AE(),wE()}function wE(){if(qt!==5)return!1;var r=Yi,a=Km;Km=0;var o=ks(vo),u=Y.T,h=le.p;try{le.p=32>o?32:o,Y.T=null,o=Qm,Qm=null;var p=Yi,E=vo;if(qt=0,_o=Yi=null,vo=0,(Qe&6)!==0)throw Error(i(331));var b=Qe;if(Qe|=4,lE(p.current),aE(p,p.current,E,o),Qe=b,ou(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ut,p)}catch{}return!0}finally{le.p=h,Y.T=u,SE(r,a)}}function RE(r,a,o){a=Pn(o,a),a=Cm(r.stateNode,a,2),r=Bi(r,a,2),r!==null&&(Ur(r,2),Er(r))}function et(r,a,o){if(r.tag===3)RE(r,r,o);else for(;a!==null;){if(a.tag===3){RE(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qi===null||!Qi.has(u))){r=Pn(o,r),o=Dy(2),u=Bi(a,o,2),u!==null&&(Ny(o,u,a,r),Ur(u,2),Er(u));break}}a=a.return}}function Jm(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new FR;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(o)||(qm=!0,h.add(o),r=YR.bind(null,r,a,o),a.then(r,r))}function YR(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,nt===r&&(Ue&o)===o&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>Cn()-Gm?(Qe&2)===0&&yo(r,0):Fm|=o,go===Ue&&(go=0)),Er(r)}function CE(r,a){a===0&&(a=gl()),r=eo(r,a),r!==null&&(Ur(r,a),Er(r))}function XR(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),CE(r,o)}function WR(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),CE(r,o)}function ZR(r,a){return Da(r,a)}var bf=null,To=null,ep=!1,Af=!1,tp=!1,fs=0;function Er(r){r!==To&&r.next===null&&(To===null?bf=To=r:To=To.next=r),Af=!0,ep||(ep=!0,e1())}function ou(r,a){if(!tp&&Af){tp=!0;do for(var o=!1,u=bf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var E=u.suspendedLanes,b=u.pingedLanes;p=(1<<31-Yt(42|r)+1)-1,p&=h&~(E&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,NE(u,p))}else p=Ue,p=xs(u,u===nt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ka(u,p)||(o=!0,NE(u,p));u=u.next}while(o);tp=!1}}function JR(){OE()}function OE(){Af=ep=!1;var r=0;fs!==0&&(l1()&&(r=fs),fs=0);for(var a=Cn(),o=null,u=bf;u!==null;){var h=u.next,p=IE(u,a);p===0?(u.next=null,o===null?bf=h:o.next=h,h===null&&(To=o)):(o=u,(r!==0||(p&3)!==0)&&(Af=!0)),u=h}ou(r)}function IE(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-Yt(p),b=1<<E,C=h[E];C===-1?((b&o)===0||(b&u)!==0)&&(h[E]=ml(b,a)):C<=a&&(r.expiredLanes|=b),p&=~b}if(a=nt,o=Ue,o=xs(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(Ye===2||Ye===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Na(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ka(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&Na(u),ks(o)){case 2:case 8:o=Ps;break;case 32:o=Ma;break;case 268435456:o=Vs;break;default:o=Ma}return u=DE.bind(null,r),o=Da(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&Na(u),r.callbackPriority=2,r.callbackNode=null,2}function DE(r,a){if(qt!==0&&qt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Tf()&&r.callbackNode!==o)return null;var u=Ue;return u=xs(r,r===nt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(hE(r,u,a),IE(r,Cn()),r.callbackNode!=null&&r.callbackNode===o?DE.bind(null,r):null)}function NE(r,a){if(Tf())return null;hE(r,a,!0)}function e1(){c1(function(){(Qe&6)!==0?Da(hl,JR):OE()})}function np(){return fs===0&&(fs=pl()),fs}function ME(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Hs(""+r)}function PE(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function t1(r,a,o,u,h){if(a==="submit"&&o&&o.stateNode===h){var p=ME((h[_t]||null).action),E=u.submitter;E&&(a=(a=E[_t]||null)?ME(a.formAction):E.getAttribute("formAction"),a!==null&&(p=a,E=null));var b=new qs("action","action",null,u,h);r.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fs!==0){var C=E?PE(h,E):new FormData(h);bm(o,{pending:!0,data:C,method:h.method,action:p},null,C)}}else typeof p=="function"&&(b.preventDefault(),C=E?PE(h,E):new FormData(h),bm(o,{pending:!0,data:C,method:h.method,action:p},p,C))},currentTarget:h}]})}}for(var rp=0;rp<jd.length;rp++){var ip=jd[rp],n1=ip.toLowerCase(),r1=ip[0].toUpperCase()+ip.slice(1);Kn(n1,"on"+r1)}Kn(hv,"onAnimationEnd"),Kn(dv,"onAnimationIteration"),Kn(mv,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(ER,"onTransitionRun"),Kn(TR,"onTransitionStart"),Kn(bR,"onTransitionCancel"),Kn(pv,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function VE(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var E=u.length-1;0<=E;E--){var b=u[E],C=b.instance,q=b.currentTarget;if(b=b.listener,C!==p&&h.isPropagationStopped())break e;p=b,h.currentTarget=q;try{p(h)}catch(X){cf(X)}h.currentTarget=null,p=C}else for(E=0;E<u.length;E++){if(b=u[E],C=b.instance,q=b.currentTarget,b=b.listener,C!==p&&h.isPropagationStopped())break e;p=b,h.currentTarget=q;try{p(h)}catch(X){cf(X)}h.currentTarget=null,p=C}}}}function Pe(r,a){var o=a[yl];o===void 0&&(o=a[yl]=new Set);var u=r+"__bubble";o.has(u)||(xE(a,r,2,!1),o.add(u))}function ap(r,a,o){var u=0;a&&(u|=4),xE(o,r,u,a)}var Sf="_reactListening"+Math.random().toString(36).slice(2);function sp(r){if(!r[Sf]){r[Sf]=!0,El.forEach(function(o){o!=="selectionchange"&&(i1.has(o)||ap(o,!1,r),ap(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Sf]||(a[Sf]=!0,ap("selectionchange",!1,a))}}function xE(r,a,o,u){switch(a0(a)){case 2:var h=N1;break;case 8:h=M1;break;default:h=Ep}o=h.bind(null,a,o,r),h=void 0,!Nn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(a,o,{capture:!0,passive:h}):r.addEventListener(a,o,!0):h!==void 0?r.addEventListener(a,o,{passive:h}):r.addEventListener(a,o,!1)}function op(r,a,o,u,h){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=u.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=Br(b),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){u=p=E;continue e}b=b.parentNode}}u=u.return}wc(function(){var q=p,X=Dn(o),Z=[];e:{var $=gv.get(r);if($!==void 0){var G=qs,Te=r;switch(r){case"keypress":if(fr(o)===0)break e;case"keydown":case"keyup":G=Ys;break;case"focusin":Te="focus",G=Gs;break;case"focusout":Te="blur",G=Gs;break;case"beforeblur":case"afterblur":G=Gs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Pc;break;case hv:case dv:case mv:G=Ks;break;case pv:G=xc;break;case"scroll":case"scrollend":G=Rc;break;case"wheel":G=Xs;break;case"copy":case"cut":case"paste":G=Qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ml;break;case"toggle":case"beforetoggle":G=Lc}var _e=(a&4)!==0,Je=!_e&&(r==="scroll"||r==="scrollend"),U=_e?$!==null?$+"Capture":null:$;_e=[];for(var x=q,j;x!==null;){var W=x;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||U===null||(W=Fa(x,U),W!=null&&_e.push(uu(x,W,j))),Je)break;x=x.return}0<_e.length&&($=new G($,Te,null,o,X),Z.push({event:$,listeners:_e}))}}if((a&7)===0){e:{if($=r==="mouseover"||r==="pointerover",G=r==="mouseout"||r==="pointerout",$&&o!==qr&&(Te=o.relatedTarget||o.fromElement)&&(Br(Te)||Te[On]))break e;if((G||$)&&($=X.window===X?X:($=X.ownerDocument)?$.defaultView||$.parentWindow:window,G?(Te=o.relatedTarget||o.toElement,G=q,Te=Te?Br(Te):null,Te!==null&&(Je=l(Te),_e=Te.tag,Te!==Je||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(G=null,Te=q),G!==Te)){if(_e=Mn,W="onMouseLeave",U="onMouseEnter",x="mouse",(r==="pointerout"||r==="pointerover")&&(_e=Ml,W="onPointerLeave",U="onPointerEnter",x="pointer"),Je=G==null?$:or(G),j=Te==null?$:or(Te),$=new _e(W,x+"leave",G,o,X),$.target=Je,$.relatedTarget=j,W=null,Br(X)===q&&(_e=new _e(U,x+"enter",Te,o,X),_e.target=j,_e.relatedTarget=Je,W=_e),Je=W,G&&Te)t:{for(_e=G,U=Te,x=0,j=_e;j;j=bo(j))x++;for(j=0,W=U;W;W=bo(W))j++;for(;0<x-j;)_e=bo(_e),x--;for(;0<j-x;)U=bo(U),j--;for(;x--;){if(_e===U||U!==null&&_e===U.alternate)break t;_e=bo(_e),U=bo(U)}_e=null}else _e=null;G!==null&&kE(Z,$,G,_e,!1),Te!==null&&Je!==null&&kE(Z,Je,Te,_e,!0)}}e:{if($=q?or(q):window,G=$.nodeName&&$.nodeName.toLowerCase(),G==="select"||G==="input"&&$.type==="file")var fe=tv;else if(St($))if(nv)fe=_R;else{fe=pR;var Ne=mR}else G=$.nodeName,!G||G.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?q&&wl(q.elementType)&&(fe=tv):fe=gR;if(fe&&(fe=fe(r,q))){Qr(Z,fe,o,X);break e}Ne&&Ne(r,$,q),r==="focusout"&&q&&$.type==="number"&&q.memoizedProps.value!=null&&Vi($,"number",$.value)}switch(Ne=q?or(q):window,r){case"focusin":(St(Ne)||Ne.contentEditable==="true")&&(Ws=Ne,Ud=q,xl=null);break;case"focusout":xl=Ud=Ws=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,cv(Z,o,X);break;case"selectionchange":if(yR)break;case"keydown":case"keyup":cv(Z,o,X)}var he;if(mr)e:{switch(r){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ke?K(r,o)&&(ye="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(y&&o.locale!=="ko"&&(ke||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ke&&(he=Cl()):(cr=X,xi="value"in cr?cr.value:cr.textContent,ke=!0)),Ne=wf(q,ye),0<Ne.length&&(ye=new Dl(ye,r,null,o,X),Z.push({event:ye,listeners:Ne}),he?ye.data=he:(he=ie(o),he!==null&&(ye.data=he)))),(he=_?At(r,o):Le(r,o))&&(ye=wf(q,"onBeforeInput"),0<ye.length&&(Ne=new Dl("onBeforeInput","beforeinput",null,o,X),Z.push({event:Ne,listeners:ye}),Ne.data=he)),t1(Z,r,q,o,X)}VE(Z,a)})}function uu(r,a,o){return{instance:r,listener:a,currentTarget:o}}function wf(r,a){for(var o=a+"Capture",u=[];r!==null;){var h=r,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Fa(r,o),h!=null&&u.unshift(uu(r,h,p)),h=Fa(r,a),h!=null&&u.push(uu(r,h,p))),r.tag===3)return u;r=r.return}return[]}function bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function kE(r,a,o,u,h){for(var p=a._reactName,E=[];o!==null&&o!==u;){var b=o,C=b.alternate,q=b.stateNode;if(b=b.tag,C!==null&&C===u)break;b!==5&&b!==26&&b!==27||q===null||(C=q,h?(q=Fa(o,p),q!=null&&E.unshift(uu(o,q,C))):h||(q=Fa(o,p),q!=null&&E.push(uu(o,q,C)))),o=o.return}E.length!==0&&r.push({event:a,listeners:E})}var a1=/\r\n?/g,s1=/\u0000|\uFFFD/g;function LE(r){return(typeof r=="string"?r:""+r).replace(a1,`
`).replace(s1,"")}function UE(r,a){return a=LE(a),LE(r)===a}function Rf(){}function Ze(r,a,o,u,h,p){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||In(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&In(r,""+u);break;case"className":lr(r,"class",u);break;case"tabIndex":lr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(r,o,u);break;case"style":Sl(r,u,p);break;case"data":if(a!=="object"){lr(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Hs(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&Ze(r,a,"name",h.name,h,null),Ze(r,a,"formEncType",h.formEncType,h,null),Ze(r,a,"formMethod",h.formMethod,h,null),Ze(r,a,"formTarget",h.formTarget,h,null)):(Ze(r,a,"encType",h.encType,h,null),Ze(r,a,"method",h.method,h,null),Ze(r,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Hs(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Rf);break;case"onScroll":u!=null&&Pe("scroll",r);break;case"onScrollEnd":u!=null&&Pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Hs(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Pe("beforetoggle",r),Pe("toggle",r),Pi(r,"popover",u);break;case"xlinkActuate":zt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":zt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":zt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":zt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":zt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":zt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":zt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":zt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":zt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Pi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Nd.get(o)||o,Pi(r,o,u))}}function lp(r,a,o,u,h,p){switch(o){case"style":Sl(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?In(r,u):(typeof u=="number"||typeof u=="bigint")&&In(r,""+u);break;case"onScroll":u!=null&&Pe("scroll",r);break;case"onScrollEnd":u!=null&&Pe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Rf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ls.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),p=r[_t]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(a,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Pi(r,o,u)}}}function Ft(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",r),Pe("load",r);var u=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ze(r,a,p,E,o,null)}}h&&Ze(r,a,"srcSet",o.srcSet,o,null),u&&Ze(r,a,"src",o.src,o,null);return;case"input":Pe("invalid",r);var b=p=E=h=null,C=null,q=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":h=X;break;case"type":E=X;break;case"checked":C=X;break;case"defaultChecked":q=X;break;case"value":p=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:Ze(r,a,u,X,o,null)}}ja(r,p,b,C,q,E,h,!1),js(r);return;case"select":Pe("invalid",r),u=E=p=null;for(h in o)if(o.hasOwnProperty(h)&&(b=o[h],b!=null))switch(h){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:Ze(r,a,h,b,o,null)}a=p,o=E,r.multiple=!!u,a!=null?Hr(r,!!u,a,!1):o!=null&&Hr(r,!!u,o,!0);return;case"textarea":Pe("invalid",r),p=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":h=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Ze(r,a,E,b,o,null)}Ha(r,u,h,p),js(r);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(u=o[C],u!=null))switch(C){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(r,a,C,u,o,null)}return;case"dialog":Pe("beforetoggle",r),Pe("toggle",r),Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":Pe("load",r);break;case"video":case"audio":for(u=0;u<lu.length;u++)Pe(lu[u],r);break;case"image":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"embed":case"source":case"link":Pe("error",r),Pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ze(r,a,q,u,o,null)}return;default:if(wl(a)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&lp(r,a,X,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Ze(r,a,b,u,o,null))}function o1(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,b=null,C=null,q=null,X=null;for(G in o){var Z=o[G];if(o.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Z;default:u.hasOwnProperty(G)||Ze(r,a,G,null,u,Z)}}for(var $ in u){var G=u[$];if(Z=o[$],u.hasOwnProperty($)&&(G!=null||Z!=null))switch($){case"type":p=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":X=G;break;case"value":E=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:G!==Z&&Ze(r,a,$,G,u,Z)}}mn(r,E,b,C,q,X,p,h);return;case"select":G=E=b=$=null;for(p in o)if(C=o[p],o.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":G=C;default:u.hasOwnProperty(p)||Ze(r,a,p,null,u,C)}for(h in u)if(p=u[h],C=o[h],u.hasOwnProperty(h)&&(p!=null||C!=null))switch(h){case"value":$=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==C&&Ze(r,a,h,p,u,C)}a=b,o=E,u=G,$!=null?Hr(r,!!o,$,!1):!!u!=!!o&&(a!=null?Hr(r,!!o,a,!0):Hr(r,!!o,o?[]:"",!1));return;case"textarea":G=$=null;for(b in o)if(h=o[b],o.hasOwnProperty(b)&&h!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(r,a,b,null,u,h)}for(E in u)if(h=u[E],p=o[E],u.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":$=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==p&&Ze(r,a,E,h,u,p)}Xe(r,$,G);return;case"option":for(var Te in o)if($=o[Te],o.hasOwnProperty(Te)&&$!=null&&!u.hasOwnProperty(Te))switch(Te){case"selected":r.selected=!1;break;default:Ze(r,a,Te,null,u,$)}for(C in u)if($=u[C],G=o[C],u.hasOwnProperty(C)&&$!==G&&($!=null||G!=null))switch(C){case"selected":r.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Ze(r,a,C,$,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)$=o[_e],o.hasOwnProperty(_e)&&$!=null&&!u.hasOwnProperty(_e)&&Ze(r,a,_e,null,u,$);for(q in u)if($=u[q],G=o[q],u.hasOwnProperty(q)&&$!==G&&($!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:Ze(r,a,q,$,u,G)}return;default:if(wl(a)){for(var Je in o)$=o[Je],o.hasOwnProperty(Je)&&$!==void 0&&!u.hasOwnProperty(Je)&&lp(r,a,Je,void 0,u,$);for(X in u)$=u[X],G=o[X],!u.hasOwnProperty(X)||$===G||$===void 0&&G===void 0||lp(r,a,X,$,u,G);return}}for(var U in o)$=o[U],o.hasOwnProperty(U)&&$!=null&&!u.hasOwnProperty(U)&&Ze(r,a,U,null,u,$);for(Z in u)$=u[Z],G=o[Z],!u.hasOwnProperty(Z)||$===G||$==null&&G==null||Ze(r,a,Z,$,u,G)}var up=null,cp=null;function Cf(r){return r.nodeType===9?r:r.ownerDocument}function BE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function fp(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var hp=null;function l1(){var r=window.event;return r&&r.type==="popstate"?r===hp?!1:(hp=r,!0):(hp=null,!1)}var jE=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,HE=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof HE<"u"?function(r){return HE.resolve(null).then(r).catch(f1)}:jE;function f1(r){setTimeout(function(){throw r})}function Wi(r){return r==="head"}function qE(r,a){var o=a,u=0,h=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&cu(E.documentElement),o&2&&cu(E.body),o&4)for(o=E.head,cu(o),E=o.firstChild;E;){var b=E.nextSibling,C=E.nodeName;E[La]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(h===0){r.removeChild(p),vu(a);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);vu(a)}function dp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":dp(o),Mi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function h1(r,a,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[La])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=Yn(r.nextSibling),r===null)break}return null}function d1(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Yn(r.nextSibling),r===null))return null;return r}function mp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function m1(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Yn(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var pp=null;function FE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function $E(r,a,o){switch(a=Cf(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function cu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Mi(r)}var Bn=new Map,GE=new Set;function Of(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var oi=le.d;le.d={f:p1,r:g1,D:_1,C:v1,L:y1,m:E1,X:b1,S:T1,M:A1};function p1(){var r=oi.f(),a=yf();return r||a}function g1(r){var a=sr(r);a!==null&&a.tag===5&&a.type==="form"?hy(a):oi.r(r)}var Ao=typeof document>"u"?null:document;function KE(r,a,o){var u=Ao;if(u&&typeof a=="string"&&a){var h=vt(a);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),GE.has(h)||(GE.add(h),r={rel:r,crossOrigin:o,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),Ft(a,"link",r),dt(a),u.head.appendChild(a)))}}function _1(r){oi.D(r),KE("dns-prefetch",r,null)}function v1(r,a){oi.C(r,a),KE("preconnect",r,a)}function y1(r,a,o){oi.L(r,a,o);var u=Ao;if(u&&r&&a){var h='link[rel="preload"][as="'+vt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+vt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+vt(o.imageSizes)+'"]')):h+='[href="'+vt(r)+'"]';var p=h;switch(a){case"style":p=So(r);break;case"script":p=wo(r)}Bn.has(p)||(r=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Bn.set(p,r),u.querySelector(h)!==null||a==="style"&&u.querySelector(fu(p))||a==="script"&&u.querySelector(hu(p))||(a=u.createElement("link"),Ft(a,"link",r),dt(a),u.head.appendChild(a)))}}function E1(r,a){oi.m(r,a);var o=Ao;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+vt(u)+'"][href="'+vt(r)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=wo(r)}if(!Bn.has(p)&&(r=v({rel:"modulepreload",href:r},a),Bn.set(p,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(hu(p)))return}u=o.createElement("link"),Ft(u,"link",r),dt(u),o.head.appendChild(u)}}}function T1(r,a,o){oi.S(r,a,o);var u=Ao;if(u&&r){var h=nn(u).hoistableStyles,p=So(r);a=a||"default";var E=h.get(p);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(fu(p)))b.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Bn.get(p))&&gp(r,o);var C=E=u.createElement("link");dt(C),Ft(C,"link",r),C._p=new Promise(function(q,X){C.onload=q,C.onerror=X}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,If(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(p,E)}}}function b1(r,a){oi.X(r,a);var o=Ao;if(o&&r){var u=nn(o).hoistableScripts,h=wo(r),p=u.get(h);p||(p=o.querySelector(hu(h)),p||(r=v({src:r,async:!0},a),(a=Bn.get(h))&&_p(r,a),p=o.createElement("script"),dt(p),Ft(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function A1(r,a){oi.M(r,a);var o=Ao;if(o&&r){var u=nn(o).hoistableScripts,h=wo(r),p=u.get(h);p||(p=o.querySelector(hu(h)),p||(r=v({src:r,async:!0,type:"module"},a),(a=Bn.get(h))&&_p(r,a),p=o.createElement("script"),dt(p),Ft(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function QE(r,a,o,u){var h=(h=Se.current)?Of(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=So(o.href),o=nn(h).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=So(o.href);var p=nn(h).hoistableStyles,E=p.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=h.querySelector(fu(r)))&&!p._p&&(E.instance=p,E.state.loading=5),Bn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Bn.set(r,o),p||S1(h,r,o,E.state))),a&&u===null)throw Error(i(528,""));return E}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=wo(o),o=nn(h).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function So(r){return'href="'+vt(r)+'"'}function fu(r){return'link[rel="stylesheet"]['+r+"]"}function YE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function S1(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Ft(a,"link",o),dt(a),r.head.appendChild(a))}function wo(r){return'[src="'+vt(r)+'"]'}function hu(r){return"script[async]"+r}function XE(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+vt(o.href)+'"]');if(u)return a.instance=u,dt(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),dt(u),Ft(u,"style",h),If(u,o.precedence,r),a.instance=u;case"stylesheet":h=So(o.href);var p=r.querySelector(fu(h));if(p)return a.state.loading|=4,a.instance=p,dt(p),p;u=YE(o),(h=Bn.get(h))&&gp(u,h),p=(r.ownerDocument||r).createElement("link"),dt(p);var E=p;return E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Ft(p,"link",u),a.state.loading|=4,If(p,o.precedence,r),a.instance=p;case"script":return p=wo(o.src),(h=r.querySelector(hu(p)))?(a.instance=h,dt(h),h):(u=o,(h=Bn.get(p))&&(u=v({},o),_p(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),dt(h),Ft(h,"link",u),r.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,If(u,o.precedence,r));return a.instance}function If(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===a)p=b;else if(p!==h)break}p?p.parentNode.insertBefore(r,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function gp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function _p(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Df=null;function WE(r,a,o){if(Df===null){var u=new Map,h=Df=new Map;h.set(o,u)}else h=Df,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var p=o[h];if(!(p[La]||p[bt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(a)||"";E=r+E;var b=u.get(E);b?b.push(p):u.set(E,[p])}}return u}function ZE(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function w1(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function JE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var du=null;function R1(){}function C1(r,a,o){if(du===null)throw Error(i(475));var u=du;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=So(o.href),p=r.querySelector(fu(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Nf.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=p,dt(p);return}p=r.ownerDocument||r,o=YE(o),(h=Bn.get(h))&&gp(o,h),p=p.createElement("link"),dt(p);var E=p;E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Ft(p,"link",o),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Nf.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function O1(){if(du===null)throw Error(i(475));var r=du;return r.stylesheets&&r.count===0&&vp(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&vp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Nf(){if(this.count--,this.count===0){if(this.stylesheets)vp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Mf=null;function vp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Mf=new Map,a.forEach(I1,r),Mf=null,Nf.call(r))}function I1(r,a){if(!(a.state.loading&4)){var o=Mf.get(r);if(o)var u=o.get(null);else{o=new Map,Mf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=a.instance,E=h.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,h),o.set(E,h),this.count++,u=Nf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),a.state.loading|=4}}var mu={$$typeof:ee,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function D1(r,a,o,u,h,p,E,b){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function e0(r,a,o,u,h,p,E,b,C,q,X,Z){return r=new D1(r,a,o,E,b,C,q,Z),a=1,p===!0&&(a|=24),p=gn(3,null,null,a),r.current=p,p.stateNode=r,a=Jd(),a.refCount++,r.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:a},rm(p),r}function t0(r){return r?(r=to,r):to}function n0(r,a,o,u,h,p){h=t0(h),u.context===null?u.context=h:u.pendingContext=h,u=Ui(a),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Bi(r,u,a),o!==null&&(Tn(o,r,a),Fl(o,r,a))}function r0(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function yp(r,a){r0(r,a),(r=r.alternate)&&r0(r,a)}function i0(r){if(r.tag===13){var a=eo(r,67108864);a!==null&&Tn(a,r,67108864),yp(r,67108864)}}var Pf=!0;function N1(r,a,o,u){var h=Y.T;Y.T=null;var p=le.p;try{le.p=2,Ep(r,a,o,u)}finally{le.p=p,Y.T=h}}function M1(r,a,o,u){var h=Y.T;Y.T=null;var p=le.p;try{le.p=8,Ep(r,a,o,u)}finally{le.p=p,Y.T=h}}function Ep(r,a,o,u){if(Pf){var h=Tp(u);if(h===null)op(r,a,u,Vf,o),s0(r,u);else if(V1(h,r,a,o,u))u.stopPropagation();else if(s0(r,u),a&4&&-1<P1.indexOf(r)){for(;h!==null;){var p=sr(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Fn(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var C=1<<31-Yt(E);b.entanglements[1]|=C,E&=~C}Er(p),(Qe&6)===0&&(_f=Cn()+500,ou(0))}}break;case 13:b=eo(p,2),b!==null&&Tn(b,p,2),yf(),yp(p,2)}if(p=Tp(u),p===null&&op(r,a,u,Vf,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else op(r,a,u,null,o)}}function Tp(r){return r=Dn(r),bp(r)}var Vf=null;function bp(r){if(Vf=null,r=Br(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Vf=r,null}function a0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wd()){case hl:return 2;case Ps:return 8;case Ma:case Rd:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var Ap=!1,Zi=null,Ji=null,ea=null,pu=new Map,gu=new Map,ta=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(r,a){switch(r){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":pu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(a.pointerId)}}function _u(r,a,o,u,h,p){return r===null||r.nativeEvent!==p?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},a!==null&&(a=sr(a),a!==null&&i0(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function V1(r,a,o,u,h){switch(a){case"focusin":return Zi=_u(Zi,r,a,o,u,h),!0;case"dragenter":return Ji=_u(Ji,r,a,o,u,h),!0;case"mouseover":return ea=_u(ea,r,a,o,u,h),!0;case"pointerover":var p=h.pointerId;return pu.set(p,_u(pu.get(p)||null,r,a,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,gu.set(p,_u(gu.get(p)||null,r,a,o,u,h)),!0}return!1}function o0(r){var a=Br(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,vc(r.priority,function(){if(o.tag===13){var u=En();u=Ii(u);var h=eo(o,u);h!==null&&Tn(h,o,u),yp(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Tp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);qr=u,o.target.dispatchEvent(u),qr=null}else return a=sr(o),a!==null&&i0(a),r.blockedOn=o,!1;a.shift()}return!0}function l0(r,a,o){xf(r)&&o.delete(a)}function x1(){Ap=!1,Zi!==null&&xf(Zi)&&(Zi=null),Ji!==null&&xf(Ji)&&(Ji=null),ea!==null&&xf(ea)&&(ea=null),pu.forEach(l0),gu.forEach(l0)}function kf(r,a){r.blockedOn===a&&(r.blockedOn=null,Ap||(Ap=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,x1)))}var Lf=null;function u0(r){Lf!==r&&(Lf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lf===r&&(Lf=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],h=r[a+2];if(typeof u!="function"){if(bp(u||o)===null)continue;break}var p=sr(o);p!==null&&(r.splice(a,3),a-=3,bm(p,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function vu(r){function a(C){return kf(C,r)}Zi!==null&&kf(Zi,r),Ji!==null&&kf(Ji,r),ea!==null&&kf(ea,r),pu.forEach(a),gu.forEach(a);for(var o=0;o<ta.length;o++){var u=ta[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ta.length&&(o=ta[0],o.blockedOn===null);)o0(o),o.blockedOn===null&&ta.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],p=o[u+1],E=h[_t]||null;if(typeof p=="function")E||u0(o);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[_t]||null)b=E.formAction;else if(bp(h)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),u0(o)}}}function Sp(r){this._internalRoot=r}Uf.prototype.render=Sp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=En();n0(o,u,r,a,null,null)},Uf.prototype.unmount=Sp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;n0(r.current,2,null,r,null,null),yf(),a[On]=null}};function Uf(r){this._internalRoot=r}Uf.prototype.unstable_scheduleHydration=function(r){if(r){var a=Di();r={blockedOn:null,target:r,priority:a};for(var o=0;o<ta.length&&a!==0&&a<ta[o].priority;o++);ta.splice(o,0,r),o===0&&o0(r)}};var c0=e.version;if(c0!=="19.1.0")throw Error(i(527,c0,"19.1.0"));le.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var k1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{ut=Bf.inject(k1),Ke=Bf}catch{}}return Eu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",h=Ry,p=Cy,E=Oy,b=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks)),a=e0(r,1,!1,null,null,o,u,h,p,E,b,null),r[On]=a.current,sp(r),new Sp(a)},Eu.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,h="",p=Ry,E=Cy,b=Oy,C=null,q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks),o.formState!==void 0&&(q=o.formState)),a=e0(r,1,!0,a,o??null,u,h,p,E,b,C,q),a.context=t0(null),o=a.current,u=En(),u=Ii(u),h=Ui(u),h.callback=null,Bi(o,h,u),o=u,a.current.lanes=o,Ur(a,o),Er(a),r[On]=a.current,sp(r),new Uf(a)},Eu.version="19.1.0",Eu}var E0;function K1(){if(E0)return Cp.exports;E0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cp.exports=G1(),Cp.exports}var Q1=K1();const Y1=Eb(Q1);var M=Hh();const Du=Eb(M);var Tu={},T0;function X1(){if(T0)return Tu;T0=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.parse=c,Tu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,O){const D=new l,H=S.length;if(H<2)return D;const k=(O==null?void 0:O.decode)||v;let F=0;do{const Q=S.indexOf("=",F);if(Q===-1)break;const ee=S.indexOf(";",F),ae=ee===-1?H:ee;if(Q>ae){F=S.lastIndexOf(";",Q-1)+1;continue}const oe=d(S,F,Q),de=m(S,Q,oe),P=S.slice(oe,de);if(D[P]===void 0){let w=d(S,Q+1,ae),R=m(S,ae,w);const N=k(S.slice(w,R));D[P]=N}F=ae+1}while(F<H);return D}function d(S,O,D){do{const H=S.charCodeAt(O);if(H!==32&&H!==9)return O}while(++O<D);return D}function m(S,O,D){for(;O>D;){const H=S.charCodeAt(--O);if(H!==32&&H!==9)return O+1}return D}function g(S,O,D){const H=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const k=H(O);if(!e.test(k))throw new TypeError(`argument val is invalid: ${O}`);let F=S+"="+k;if(!D)return F;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);F+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);F+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);F+="; Path="+D.path}if(D.expires){if(!T(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);F+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(F+="; HttpOnly"),D.secure&&(F+="; Secure"),D.partitioned&&(F+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return F}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return s.call(S)==="[object Date]"}return Tu}X1();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b0="popstate";function W1(n={}){function e(s,l){let{pathname:c="/",search:d="",hash:m=""}=Zo(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ig("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=s.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:Uu(l))}function i(s,l){Jn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return J1(e,t,i,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Jn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z1(){return Math.random().toString(36).substring(2,10)}function A0(n,e){return{usr:n.state,key:n.key,idx:e}}function ig(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Zo(e):e,state:t,key:e&&e.key||i||Z1()}}function Uu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Zo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function J1(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let k=v(),F=k==null?null:k-g;g=k,m&&m({action:d,location:H.location,delta:F})}function S(k,F){d="PUSH";let Q=ig(H.location,k,F);t&&t(Q,k),g=v()+1;let ee=A0(Q,g),ae=H.createHref(Q);try{c.pushState(ee,"",ae)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;s.location.assign(ae)}l&&m&&m({action:d,location:H.location,delta:1})}function O(k,F){d="REPLACE";let Q=ig(H.location,k,F);t&&t(Q,k),g=v();let ee=A0(Q,g),ae=H.createHref(Q);c.replaceState(ee,"",ae),l&&m&&m({action:d,location:H.location,delta:0})}function D(k){let F=s.location.origin!=="null"?s.location.origin:s.location.href,Q=typeof k=="string"?k:Uu(k);return Q=Q.replace(/ $/,"%20"),Ot(F,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,F)}let H={get action(){return d},get location(){return n(s,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(b0,T),m=k,()=>{s.removeEventListener(b0,T),m=null}},createHref(k){return e(s,k)},createURL:D,encodeLocation(k){let F=D(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:O,go(k){return c.go(k)}};return H}function bb(n,e,t="/"){return eC(n,e,t,!1)}function eC(n,e,t,i){let s=typeof e=="string"?Zo(e):e,l=_i(s.pathname||"/",t);if(l==null)return null;let c=Ab(n);tC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=hC(l);d=cC(c[m],g,i)}return d}function Ab(n,e=[],t=[],i=""){let s=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Ot(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=di([i,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(Ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Ab(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:lC(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let m of Sb(l.path))s(l,c,m)}),e}function Sb(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=Sb(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function tC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var nC=/^:[\w-]+$/,rC=3,iC=2,aC=1,sC=10,oC=-2,S0=n=>n==="*";function lC(n,e){let t=n.split("/"),i=t.length;return t.some(S0)&&(i+=oC),e&&(i+=iC),t.filter(s=>!S0(s)).reduce((s,l)=>s+(nC.test(l)?rC:l===""?aC:sC),i)}function uC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function cC(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=dh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),S=m.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=dh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(s,T.params),c.push({params:s,pathname:di([l,T.pathname]),pathnameBase:gC(di([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=di([l,T.pathnameBase]))}return c}function dh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=fC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let D=d[S]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const O=d[S];return T&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function fC(n,e=!1,t=!0){Jn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function hC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _i(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function dC(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Zo(n):n;return{pathname:t?t.startsWith("/")?t:mC(t,e):e,search:_C(i),hash:vC(s)}}function mC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Mp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wb(n){let e=pC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Rb(n,e,t,i=!1){let s;typeof n=="string"?s=Zo(n):(s={...n},Ot(!s.pathname||!s.pathname.includes("?"),Mp("?","pathname","search",s)),Ot(!s.pathname||!s.pathname.includes("#"),Mp("#","pathname","hash",s)),Ot(!s.search||!s.search.includes("#"),Mp("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;s.pathname=S.join("/")}d=T>=0?e[T]:"/"}let m=dC(s,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var di=n=>n.join("/").replace(/\/\/+/g,"/"),gC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_C=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Cb=["POST","PUT","PATCH","DELETE"];new Set(Cb);var EC=["GET",...Cb];new Set(EC);var Jo=M.createContext(null);Jo.displayName="DataRouter";var qh=M.createContext(null);qh.displayName="DataRouterState";var Ob=M.createContext({isTransitioning:!1});Ob.displayName="ViewTransition";var TC=M.createContext(new Map);TC.displayName="Fetchers";var bC=M.createContext(null);bC.displayName="Await";var Vr=M.createContext(null);Vr.displayName="Navigation";var Fh=M.createContext(null);Fh.displayName="Location";var wi=M.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Fg=M.createContext(null);Fg.displayName="RouteError";function AC(n,{relative:e}={}){Ot(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=M.useContext(Vr),{hash:s,pathname:l,search:c}=Wu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:di([t,l])),i.createHref({pathname:d,search:c,hash:s})}function Xu(){return M.useContext(Fh)!=null}function Ss(){return Ot(Xu(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Fh).location}var Ib="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Db(n){M.useContext(Vr).static||M.useLayoutEffect(n)}function SC(){let{isDataRoute:n}=M.useContext(wi);return n?LC():wC()}function wC(){Ot(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(Jo),{basename:e,navigator:t}=M.useContext(Vr),{matches:i}=M.useContext(wi),{pathname:s}=Ss(),l=JSON.stringify(wb(i)),c=M.useRef(!1);return Db(()=>{c.current=!0}),M.useCallback((m,g={})=>{if(Jn(c.current,Ib),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=Rb(m,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:di([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,s,n])}M.createContext(null);function Wu(n,{relative:e}={}){let{matches:t}=M.useContext(wi),{pathname:i}=Ss(),s=JSON.stringify(wb(t));return M.useMemo(()=>Rb(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function RC(n,e,t,i){Ot(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=M.useContext(Vr),{matches:c}=M.useContext(wi),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let Q=T&&T.path||"";Nb(g,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=Ss(),O;O=S;let D=O.pathname||"/",H=D;if(v!=="/"){let Q=v.replace(/^\//,"").split("/");H="/"+D.replace(/^\//,"").split("/").slice(Q.length).join("/")}let k=!l&&t&&t.matches&&t.matches.length>0?t.matches:bb(n,{pathname:H});return Jn(T||k!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Jn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),NC(k&&k.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:di([v,s.encodeLocation?s.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?v:di([v,s.encodeLocation?s.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),c,t,i)}function CC(){let n=kC(),e=yC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:s},t):null,c)}var OC=M.createElement(CC,null),IC=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement(wi.Provider,{value:this.props.routeContext},M.createElement(Fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DC({routeContext:n,match:e,children:t}){let i=M.useContext(Jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(wi.Provider,{value:n},t)}function NC(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let m=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Ot(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:T}=t,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||S){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,g,v)=>{let T,S=!1,O=null,D=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,O=g.route.errorElement||OC,c&&(d<0&&v===0?(Nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,D=null):d===v&&(S=!0,D=g.route.hydrateFallbackElement||null)));let H=e.concat(s.slice(0,v+1)),k=()=>{let F;return T?F=O:S?F=D:g.route.Component?F=M.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=m,M.createElement(DC,{match:g,routeContext:{outlet:m,matches:H,isDataRoute:t!=null},children:F})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?M.createElement(IC,{location:t.location,revalidation:t.revalidation,component:O,error:T,children:k(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):k()},null)}function $g(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MC(n){let e=M.useContext(Jo);return Ot(e,$g(n)),e}function PC(n){let e=M.useContext(qh);return Ot(e,$g(n)),e}function VC(n){let e=M.useContext(wi);return Ot(e,$g(n)),e}function Gg(n){let e=VC(n),t=e.matches[e.matches.length-1];return Ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function xC(){return Gg("useRouteId")}function kC(){var i;let n=M.useContext(Fg),e=PC("useRouteError"),t=Gg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function LC(){let{router:n}=MC("useNavigate"),e=Gg("useNavigate"),t=M.useRef(!1);return Db(()=>{t.current=!0}),M.useCallback(async(s,l={})=>{Jn(t.current,Ib),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var w0={};function Nb(n,e,t){!e&&!w0[n]&&(w0[n]=!0,Jn(!1,t))}M.memo(UC);function UC({routes:n,future:e,state:t}){return RC(n,void 0,t,e)}function BC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){Ot(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=Zo(t));let{pathname:m="/",search:g="",hash:v="",state:T=null,key:S="default"}=t,O=M.useMemo(()=>{let D=_i(m,c);return D==null?null:{location:{pathname:D,search:g,hash:v,state:T,key:S},navigationType:i}},[c,m,g,v,T,S,i]);return Jn(O!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:M.createElement(Vr.Provider,{value:d},M.createElement(Fh.Provider,{children:e,value:O}))}var Wf="get",Zf="application/x-www-form-urlencoded";function $h(n){return n!=null&&typeof n.tagName=="string"}function zC(n){return $h(n)&&n.tagName.toLowerCase()==="button"}function jC(n){return $h(n)&&n.tagName.toLowerCase()==="form"}function HC(n){return $h(n)&&n.tagName.toLowerCase()==="input"}function qC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function FC(n,e){return n.button===0&&(!e||e==="_self")&&!qC(n)}var zf=null;function $C(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch{zf=!0}return zf}var GC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pp(n){return n!=null&&!GC.has(n)?(Jn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zf}"`),null):n}function KC(n,e){let t,i,s,l,c;if(jC(n)){let d=n.getAttribute("action");i=d?_i(d,e):null,t=n.getAttribute("method")||Wf,s=Pp(n.getAttribute("enctype"))||Zf,l=new FormData(n)}else if(zC(n)||HC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?_i(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Wf,s=Pp(n.getAttribute("formenctype"))||Pp(d.getAttribute("enctype"))||Zf,l=new FormData(d,n),!$C()){let{name:g,type:v,value:T}=n;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,T)}}else{if($h(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wf,i=null,s=Zf,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}function Kg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function QC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function XC(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await QC(l,t);return c.links?c.links():[]}return[]}));return eO(i.flat(1).filter(YC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function R0(n,e,t,i,s,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var v;return t[g].pathname!==m.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var T;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function WC(n,e,{includeHydrateFallback:t}={}){return ZC(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function ZC(n){return[...new Set(n)]}function JC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function eO(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(JC(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}function tO(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&_i(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Mb(){let n=M.useContext(Jo);return Kg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nO(){let n=M.useContext(qh);return Kg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Qg=M.createContext(void 0);Qg.displayName="FrameworkContext";function Pb(){let n=M.useContext(Qg);return Kg(n,"You must render this element inside a <HydratedRouter> element"),n}function rO(n,e){let t=M.useContext(Qg),[i,s]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,S=M.useRef(null);M.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let H=F=>{F.forEach(Q=>{c(Q.isIntersecting)})},k=new IntersectionObserver(H,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[n]),M.useEffect(()=>{if(i){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[i]);let O=()=>{s(!0)},D=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:bu(d,O),onBlur:bu(m,D),onMouseEnter:bu(g,O),onMouseLeave:bu(v,D),onTouchStart:bu(T,O)}]:[!1,S,{}]}function bu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function iO({page:n,...e}){let{router:t}=Mb(),i=M.useMemo(()=>bb(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?M.createElement(sO,{page:n,matches:i,...e}):null}function aO(n){let{manifest:e,routeModules:t}=Pb(),[i,s]=M.useState([]);return M.useEffect(()=>{let l=!1;return XC(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function sO({page:n,matches:e,...t}){let i=Ss(),{manifest:s,routeModules:l}=Pb(),{basename:c}=Mb(),{loaderData:d,matches:m}=nO(),g=M.useMemo(()=>R0(n,e,m,s,i,"data"),[n,e,m,s,i]),v=M.useMemo(()=>R0(n,e,m,s,i,"assets"),[n,e,m,s,i]),T=M.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let D=new Set,H=!1;if(e.forEach(F=>{var ee;let Q=s.routes[F.route.id];!Q||!Q.hasLoader||(!g.some(ae=>ae.route.id===F.route.id)&&F.route.id in d&&((ee=l[F.route.id])!=null&&ee.shouldRevalidate)||Q.hasClientLoader?H=!0:D.add(F.route.id))}),D.size===0)return[];let k=tO(n,c);return H&&D.size>0&&k.searchParams.set("_routes",e.filter(F=>D.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[c,d,i,s,g,e,n,l]),S=M.useMemo(()=>WC(v,s),[v,s]),O=aO(v);return M.createElement(M.Fragment,null,T.map(D=>M.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),S.map(D=>M.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),O.map(({key:D,link:H})=>M.createElement("link",{key:D,...H})))}function oO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vb&&(window.__reactRouterVersion="7.5.0")}catch{}function lO({basename:n,children:e,window:t}){let i=M.useRef();i.current==null&&(i.current=W1({window:t,v5Compat:!0}));let s=i.current,[l,c]=M.useState({action:s.action,location:s.location}),d=M.useCallback(m=>{M.startTransition(()=>c(m))},[c]);return M.useLayoutEffect(()=>s.listen(d),[s,d]),M.createElement(BC,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kb=M.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:T,...S},O){let{basename:D}=M.useContext(Vr),H=typeof g=="string"&&xb.test(g),k,F=!1;if(typeof g=="string"&&H&&(k=g,Vb))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=_i(N.pathname,D);N.origin===R.origin&&L!=null?g=L+N.search+N.hash:F=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=AC(g,{relative:s}),[ee,ae,oe]=rO(i,S),de=hO(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:s,viewTransition:T});function P(R){e&&e(R),R.defaultPrevented||de(R)}let w=M.createElement("a",{...S,...oe,href:k||Q,onClick:F||l?e:P,ref:oO(O,ae),target:m,"data-discover":!H&&t==="render"?"true":void 0});return ee&&!H?M.createElement(M.Fragment,null,w,M.createElement(iO,{page:Q})):w});kb.displayName="Link";var uO=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let T=Wu(c,{relative:g.relative}),S=Ss(),O=M.useContext(qh),{navigator:D,basename:H}=M.useContext(Vr),k=O!=null&&_O(T)&&d===!0,F=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,Q=S.pathname,ee=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),ee=ee?ee.toLowerCase():null,F=F.toLowerCase()),ee&&H&&(ee=_i(ee,H)||ee);const ae=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let oe=Q===F||!s&&Q.startsWith(F)&&Q.charAt(ae)==="/",de=ee!=null&&(ee===F||!s&&ee.startsWith(F)&&ee.charAt(F.length)==="/"),P={isActive:oe,isPending:de,isTransitioning:k},w=oe?e:void 0,R;typeof i=="function"?R=i(P):R=[i,oe?"active":null,de?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(P):l;return M.createElement(kb,{...g,"aria-current":w,className:R,ref:v,style:N,to:c,viewTransition:d},typeof m=="function"?m(P):m)});uO.displayName="NavLink";var cO=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=Wf,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...S},O)=>{let D=pO(),H=gO(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&xb.test(d),Q=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let ae=ee.nativeEvent.submitter,oe=(ae==null?void 0:ae.getAttribute("formmethod"))||c;D(ae||ee.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:T})};return M.createElement("form",{ref:O,method:k,action:H,onSubmit:i?m:Q,...S,"data-discover":!F&&n==="render"?"true":void 0})});cO.displayName="Form";function fO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lb(n){let e=M.useContext(Jo);return Ot(e,fO(n)),e}function hO(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=SC(),m=Ss(),g=Wu(n,{relative:l});return M.useCallback(v=>{if(FC(v,e)){v.preventDefault();let T=t!==void 0?t:Uu(m)===Uu(g);d(n,{replace:T,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[m,d,g,t,i,e,n,s,l,c])}var dO=0,mO=()=>`__${String(++dO)}__`;function pO(){let{router:n}=Lb("useSubmit"),{basename:e}=M.useContext(Vr),t=xC();return M.useCallback(async(i,s={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=KC(i,e);if(s.navigate===!1){let v=s.fetcherKey||mO();await n.fetch(v,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function gO(n,{relative:e}={}){let{basename:t}=M.useContext(Vr),i=M.useContext(wi);Ot(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Wu(n||".",{relative:e})},c=Ss();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:di([t,l.pathname])),Uu(l)}function _O(n,e={}){let t=M.useContext(Ob);Ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Lb("useViewTransitionState"),s=Wu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=_i(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=_i(t.nextLocation.pathname,i)||t.nextLocation.pathname;return dh(s.pathname,c)!=null||dh(s.pathname,l)!=null}new TextEncoder;var vO=Tb();function ze(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var yO={};function Gh(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:yO}var Ub=Object.assign,mh=Object.getOwnPropertyDescriptor,Sr=Object.defineProperty,Kh=Object.prototype,ag=[];Object.freeze(ag);var Bb={};Object.freeze(Bb);var EO=typeof Proxy<"u",TO=Object.toString();function zb(){EO||ze("Proxy not available")}function jb(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var No=function(){};function er(n){return typeof n=="function"}function ps(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Qh(n){return n!==null&&typeof n=="object"}function vi(n){if(!Qh(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===TO}function Hb(n){var e=n==null?void 0:n.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function Zu(n,e,t){Sr(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function qb(n,e,t){Sr(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function ws(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(i){return Qh(i)&&i[t]===!0}}function el(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function bO(n){var e=Object.getPrototypeOf(n),t=Object.getPrototypeOf(e),i=Object.getPrototypeOf(t);return i===null}function li(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var Fb=typeof Object.getOwnPropertySymbols<"u";function AO(n){var e=Object.keys(n);if(!Fb)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(i){return Kh.propertyIsEnumerable.call(n,i)})):e}var Bo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Fb?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function $b(n){return n===null?null:typeof n=="object"?""+n:n}function mi(n,e){return Kh.hasOwnProperty.call(n,e)}var SO=Object.getOwnPropertyDescriptors||function(e){var t={};return Bo(e).forEach(function(i){t[i]=mh(e,i)}),t};function bn(n,e){return!!(n&e)}function An(n,e,t){return t?n|=e:n&=~e,n}function C0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function wO(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,CO(i.key),i)}}function tl(n,e,t){return e&&wO(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Mo(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=OO(n))||e){t&&(n=t);var i=0;return function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gs(){return gs=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gs.apply(null,arguments)}function Gb(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,sg(n,e)}function sg(n,e){return sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},sg(n,e)}function RO(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function CO(n){var e=RO(n,"string");return typeof e=="symbol"?e:e+""}function OO(n,e){if(n){if(typeof n=="string")return C0(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C0(n,e):void 0}}var Ar=Symbol("mobx-stored-annotations");function wr(n){function e(t,i){if(ec(i))return n.decorate_20223_(t,i);Ju(t,i,n)}return Object.assign(e,n)}function Ju(n,e,t){mi(n,Ar)||Zu(n,Ar,gs({},n[Ar])),xO(t)||(n[Ar][e]=t)}function IO(n){return mi(n,Ar)||Zu(n,Ar,gs({},n[Ar])),n[Ar]}function ec(n){return typeof n=="object"&&typeof n.kind=="string"}var be=Symbol("mobx administration"),Sa=function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=He.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return lA(this)},e.reportChanged=function(){Hn(),uA(this),qn()},e.toString=function(){return this.name_},tl(n,[{key:"isBeingObserved",get:function(){return bn(this.flags_,n.isBeingObservedMask_)},set:function(i){this.flags_=An(this.flags_,n.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return bn(this.flags_,n.isPendingUnobservationMask_)},set:function(i){this.flags_=An(this.flags_,n.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return bn(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=An(this.flags_,n.diffValueMask_,i===1)}}])}();Sa.isBeingObservedMask_=1;Sa.isPendingUnobservationMask_=2;Sa.diffValueMask_=4;var Yg=ws("Atom",Sa);function Kb(n,e,t){e===void 0&&(e=No),t===void 0&&(t=No);var i=new Sa(n);return e!==No&&BI(i,e),t!==No&&mA(i,t),i}function DO(n,e){return RA(n,e)}function NO(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var ph={structural:DO,default:NO};function _s(n,e,t){return vA(n)?n:Array.isArray(n)?Ut.array(n,{name:t}):vi(n)?Ut.object(n,void 0,{name:t}):el(n)?Ut.map(n,{name:t}):li(n)?Ut.set(n,{name:t}):typeof n=="function"&&!zu(n)&&!ju(n)?Hb(n)?zo(n):Bu(t,n):n}function MO(n,e,t){if(n==null||ed(n)||Jh(n)||Cs(n)||br(n))return n;if(Array.isArray(n))return Ut.array(n,{name:t,deep:!1});if(vi(n))return Ut.object(n,void 0,{name:t,deep:!1});if(el(n))return Ut.map(n,{name:t,deep:!1});if(li(n))return Ut.set(n,{name:t,deep:!1})}function Yh(n){return n}function PO(n,e){return RA(n,e)?e:n}var VO="override";function xO(n){return n.annotationType_===VO}function tc(n,e){return{annotationType_:n,options_:e,make_:kO,extend_:LO,decorate_20223_:UO}}function kO(n,e,t,i){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(n,e,t,!1)===null?0:1;if(i===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(zu(t.value))return 1;var l=Qb(n,this,e,t,!1);return Sr(i,e,l),2}function LO(n,e,t,i){var s=Qb(n,this,e,t);return n.defineProperty_(e,s,i)}function UO(n,e){var t=e.kind,i=e.name,s=e.addInitializer,l=this,c=function(g){var v,T,S,O;return vs((v=(T=l.options_)==null?void 0:T.name)!=null?v:i.toString(),g,(S=(O=l.options_)==null?void 0:O.autoAction)!=null?S:!1)};if(t=="field")return function(m){var g,v=m;return zu(v)||(v=c(v)),(g=l.options_)!=null&&g.bound&&(v=v.bind(this),v.isMobxAction=!0),v};if(t=="method"){var d;return zu(n)||(n=c(n)),(d=this.options_)!=null&&d.bound&&s(function(){var m=this,g=m[i].bind(m);g.isMobxAction=!0,m[i]=g}),n}ze("Cannot apply '"+l.annotationType_+"' to '"+String(i)+"' (kind: "+t+"):"+(`
'`+l.annotationType_+"' can only be used on properties with a function value."))}function BO(n,e,t,i){e.annotationType_,i.value}function Qb(n,e,t,i,s){var l,c,d,m,g,v,T;s===void 0&&(s=se.safeDescriptors),BO(n,e,t,i);var S=i.value;if((l=e.options_)!=null&&l.bound){var O;S=S.bind((O=n.proxy_)!=null?O:n.target_)}return{value:vs((c=(d=e.options_)==null?void 0:d.name)!=null?c:t.toString(),S,(m=(g=e.options_)==null?void 0:g.autoAction)!=null?m:!1,(v=e.options_)!=null&&v.bound?(T=n.proxy_)!=null?T:n.target_:void 0),configurable:s?n.isPlainObject_:!0,enumerable:!1,writable:!s}}function Yb(n,e){return{annotationType_:n,options_:e,make_:zO,extend_:jO,decorate_20223_:HO}}function zO(n,e,t,i){var s;if(i===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!mi(n.target_,e)||!ju(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(ju(t.value))return 1;var l=Xb(n,this,e,t,!1,!1);return Sr(i,e,l),2}function jO(n,e,t,i){var s,l=Xb(n,this,e,t,(s=this.options_)==null?void 0:s.bound);return n.defineProperty_(e,l,i)}function HO(n,e){var t,i=e.name,s=e.addInitializer;return ju(n)||(n=zo(n)),(t=this.options_)!=null&&t.bound&&s(function(){var l=this,c=l[i].bind(l);c.isMobXFlow=!0,l[i]=c}),n}function qO(n,e,t,i){e.annotationType_,i.value}function Xb(n,e,t,i,s,l){l===void 0&&(l=se.safeDescriptors),qO(n,e,t,i);var c=i.value;if(ju(c)||(c=zo(c)),s){var d;c=c.bind((d=n.proxy_)!=null?d:n.target_),c.isMobXFlow=!0}return{value:c,configurable:l?n.isPlainObject_:!0,enumerable:!1,writable:!l}}function Xg(n,e){return{annotationType_:n,options_:e,make_:FO,extend_:$O,decorate_20223_:GO}}function FO(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function $O(n,e,t,i){return KO(n,this,e,t),n.defineComputedProperty_(e,gs({},this.options_,{get:t.get,set:t.set}),i)}function GO(n,e){var t=this,i=e.name,s=e.addInitializer;return s(function(){var l=Os(this)[be],c=gs({},t.options_,{get:n,context:this});c.name||(c.name="ObservableObject."+i.toString()),l.values_.set(i,new tr(c))}),function(){return this[be].getObservablePropValue_(i)}}function KO(n,e,t,i){e.annotationType_,i.get}function Xh(n,e){return{annotationType_:n,options_:e,make_:QO,extend_:YO,decorate_20223_:XO}}function QO(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function YO(n,e,t,i){var s,l;return WO(n,this),n.defineObservableProperty_(e,t.value,(s=(l=this.options_)==null?void 0:l.enhancer)!=null?s:_s,i)}function XO(n,e){var t=this,i=e.kind,s=e.name,l=new WeakSet;function c(d,m){var g,v,T=Os(d)[be],S=new ms(m,(g=(v=t.options_)==null?void 0:v.enhancer)!=null?g:_s,"ObservableObject."+s.toString(),!1);T.values_.set(s,S),l.add(d)}if(i=="accessor")return{get:function(){return l.has(this)||c(this,n.get.call(this)),this[be].getObservablePropValue_(s)},set:function(m){return l.has(this)||c(this,m),this[be].setObservablePropValue_(s,m)},init:function(m){return l.has(this)||c(this,m),m}}}function WO(n,e,t,i){e.annotationType_}var ZO="true",JO=Wb();function Wb(n){return{annotationType_:ZO,options_:n,make_:eI,extend_:tI,decorate_20223_:nI}}function eI(n,e,t,i){var s,l;if(t.get)return Wh.make_(n,e,t,i);if(t.set){var c=vs(e.toString(),t.set);return i===n.target_?n.defineProperty_(e,{configurable:se.safeDescriptors?n.isPlainObject_:!0,set:c})===null?0:2:(Sr(i,e,{configurable:!0,set:c}),2)}if(i!==n.target_&&typeof t.value=="function"){var d;if(Hb(t.value)){var m,g=(m=this.options_)!=null&&m.autoBind?zo.bound:zo;return g.make_(n,e,t,i)}var v=(d=this.options_)!=null&&d.autoBind?Bu.bound:Bu;return v.make_(n,e,t,i)}var T=((s=this.options_)==null?void 0:s.deep)===!1?Ut.ref:Ut;if(typeof t.value=="function"&&(l=this.options_)!=null&&l.autoBind){var S;t.value=t.value.bind((S=n.proxy_)!=null?S:n.target_)}return T.make_(n,e,t,i)}function tI(n,e,t,i){var s,l;if(t.get)return Wh.extend_(n,e,t,i);if(t.set)return n.defineProperty_(e,{configurable:se.safeDescriptors?n.isPlainObject_:!0,set:vs(e.toString(),t.set)},i);if(typeof t.value=="function"&&(s=this.options_)!=null&&s.autoBind){var c;t.value=t.value.bind((c=n.proxy_)!=null?c:n.target_)}var d=((l=this.options_)==null?void 0:l.deep)===!1?Ut.ref:Ut;return d.extend_(n,e,t,i)}function nI(n,e){ze("'"+this.annotationType_+"' cannot be used as a decorator")}var rI="observable",iI="observable.ref",aI="observable.shallow",sI="observable.struct",Zb={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Zb);function jf(n){return n||Zb}var og=Xh(rI),oI=Xh(iI,{enhancer:Yh}),lI=Xh(aI,{enhancer:MO}),uI=Xh(sI,{enhancer:PO}),Jb=wr(og);function Hf(n){return n.deep===!0?_s:n.deep===!1?Yh:fI(n.defaultDecorator)}function cI(n){var e;return n?(e=n.defaultDecorator)!=null?e:Wb(n):void 0}function fI(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:_s}function eA(n,e,t){if(ec(e))return og.decorate_20223_(n,e);if(ps(e)){Ju(n,e,og);return}return vA(n)?n:vi(n)?Ut.object(n,e,t):Array.isArray(n)?Ut.array(n,e):el(n)?Ut.map(n,e):li(n)?Ut.set(n,e):typeof n=="object"&&n!==null?n:Ut.box(n,e)}Ub(eA,Jb);var hI={box:function(e,t){var i=jf(t);return new ms(e,Hf(i),i.name,!0,i.equals)},array:function(e,t){var i=jf(t);return(se.useProxies===!1||i.proxy===!1?lD:ZI)(e,Hf(i),i.name)},map:function(e,t){var i=jf(t);return new EA(e,Hf(i),i.name)},set:function(e,t){var i=jf(t);return new TA(e,Hf(i),i.name)},object:function(e,t,i){return wa(function(){return gA(se.useProxies===!1||(i==null?void 0:i.proxy)===!1?Os({},i):KI({},i),e,t)})},ref:wr(oI),shallow:wr(lI),deep:Jb,struct:wr(uI)},Ut=Ub(eA,hI),tA="computed",dI="computed.struct",lg=Xg(tA),mI=Xg(dI,{equals:ph.structural}),Wh=function(e,t){if(ec(t))return lg.decorate_20223_(e,t);if(ps(t))return Ju(e,t,lg);if(vi(e))return wr(Xg(tA,e));var i=vi(t)?t:{};return i.get=e,i.name||(i.name=e.name||""),new tr(i)};Object.assign(Wh,lg);Wh.struct=wr(mI);var O0,I0,gh=0,pI=1,gI=(O0=(I0=mh(function(){},"name"))==null?void 0:I0.configurable)!=null?O0:!1,D0={value:"action",configurable:!0,writable:!1,enumerable:!1};function vs(n,e,t,i){t===void 0&&(t=!1);function s(){return _I(n,t,e,i||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return e.toString()},gI&&(D0.value=n,Sr(s,"name",D0)),s}function _I(n,e,t,i,s){var l=vI(n,e);try{return t.apply(i,s)}catch(c){throw l.error_=c,c}finally{yI(l)}}function vI(n,e,t,i){var s=!1,l=0,c=se.trackingDerivation,d=!e||!c;Hn();var m=se.allowStateChanges;d&&(Rs(),m=Wg(!0));var g=Jg(!0),v={runAsAction_:d,prevDerivation_:c,prevAllowStateChanges_:m,prevAllowStateReads_:g,notifySpy_:s,startTime_:l,actionId_:pI++,parentActionId_:gh};return gh=v.actionId_,v}function yI(n){gh!==n.actionId_&&ze(30),gh=n.parentActionId_,n.error_!==void 0&&(se.suppressReactionErrors=!0),Zg(n.prevAllowStateChanges_),Nu(n.prevAllowStateReads_),qn(),n.runAsAction_&&pi(n.prevDerivation_),se.suppressReactionErrors=!1}function Wg(n){var e=se.allowStateChanges;return se.allowStateChanges=n,e}function Zg(n){se.allowStateChanges=n}var ms=function(n){function e(i,s,l,c,d){var m;return l===void 0&&(l="ObservableValue"),d===void 0&&(d=ph.default),m=n.call(this,l)||this,m.enhancer=void 0,m.name_=void 0,m.equals=void 0,m.hasUnreportedChange_=!1,m.interceptors_=void 0,m.changeListeners_=void 0,m.value_=void 0,m.dehancer=void 0,m.enhancer=s,m.name_=l,m.equals=d,m.value_=s(i,void 0,l),m}Gb(e,n);var t=e.prototype;return t.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},t.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==se.UNCHANGED&&this.setNewValue_(s)},t.prepareNewValue_=function(s){if(zn(this)){var l=jn(this,{object:this,type:Rr,newValue:s});if(!l)return se.UNCHANGED;s=l.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?se.UNCHANGED:s},t.setNewValue_=function(s){var l=this.value_;this.value_=s,this.reportChanged(),Wn(this)&&Zn(this,{type:Rr,object:this,newValue:s,oldValue:l})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(s){return nc(this,s)},t.observe_=function(s,l){return l&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:Rr,newValue:this.value_,oldValue:void 0}),rc(this,s)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return $b(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},e}(Sa),tr=function(){function n(t){this.dependenciesState_=He.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=He.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new vh(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=_h.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||ze(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=vs("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?ph.structural:ph.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){SI(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&ze(32,this.name_,this.derivation),se.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)ug(this)&&(this.warnAboutUntrackedRead_(),Hn(),this.value_=this.computeValue_(!1),qn());else if(lA(this),ug(this)){var i=se.trackingContext;this.keepAlive_&&!i&&(se.trackingContext=this),this.trackAndCompute()&&AI(this),se.trackingContext=i}var s=this.value_;if(Jf(s))throw s.cause;return s},e.set=function(i){if(this.setter_){this.isRunningSetter&&ze(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else ze(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,s=this.dependenciesState_===He.NOT_TRACKING_,l=this.computeValue_(!0),c=s||Jf(i)||Jf(l)||!this.equals_(i,l);return c&&(this.value_=l),c},e.computeValue_=function(i){this.isComputing=!0;var s=Wg(!1),l;if(i)l=nA(this,this.derivation,this.scope_);else if(se.disableErrorBoundaries===!0)l=this.derivation.call(this.scope_);else try{l=this.derivation.call(this.scope_)}catch(c){l=new vh(c)}return Zg(s),this.isComputing=!1,l},e.suspend_=function(){this.keepAlive_||(cg(this),this.value_=void 0)},e.observe_=function(i,s){var l=this,c=!0,d=void 0;return VI(function(){var m=l.get();if(!c||s){var g=Rs();i({observableKind:"computed",debugObjectName:l.name_,type:Rr,object:l,newValue:m,oldValue:d}),pi(g)}c=!1,d=m})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return $b(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},tl(n,[{key:"isComputing",get:function(){return bn(this.flags_,n.isComputingMask_)},set:function(i){this.flags_=An(this.flags_,n.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return bn(this.flags_,n.isRunningSetterMask_)},set:function(i){this.flags_=An(this.flags_,n.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return bn(this.flags_,n.isBeingObservedMask_)},set:function(i){this.flags_=An(this.flags_,n.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return bn(this.flags_,n.isPendingUnobservationMask_)},set:function(i){this.flags_=An(this.flags_,n.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return bn(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=An(this.flags_,n.diffValueMask_,i===1)}}])}();tr.isComputingMask_=1;tr.isRunningSetterMask_=2;tr.isBeingObservedMask_=4;tr.isPendingUnobservationMask_=8;tr.diffValueMask_=16;var Zh=ws("ComputedValue",tr),He;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(He||(He={}));var _h;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(_h||(_h={}));var vh=function(e){this.cause=void 0,this.cause=e};function Jf(n){return n instanceof vh}function ug(n){switch(n.dependenciesState_){case He.UP_TO_DATE_:return!1;case He.NOT_TRACKING_:case He.STALE_:return!0;case He.POSSIBLY_STALE_:{for(var e=Jg(!0),t=Rs(),i=n.observing_,s=i.length,l=0;l<s;l++){var c=i[l];if(Zh(c)){if(se.disableErrorBoundaries)c.get();else try{c.get()}catch{return pi(t),Nu(e),!0}if(n.dependenciesState_===He.STALE_)return pi(t),Nu(e),!0}}return iA(n),pi(t),Nu(e),!1}}}function nA(n,e,t){var i=Jg(!0);iA(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++se.runId;var s=se.trackingDerivation;se.trackingDerivation=n,se.inBatch++;var l;if(se.disableErrorBoundaries===!0)l=e.call(t);else try{l=e.call(t)}catch(c){l=new vh(c)}return se.inBatch--,se.trackingDerivation=s,EI(n),Nu(i),l}function EI(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,i=He.UP_TO_DATE_,s=0,l=n.unboundDepsCount_,c=0;c<l;c++){var d=t[c];d.diffValue===0&&(d.diffValue=1,s!==c&&(t[s]=d),s++),d.dependenciesState_>i&&(i=d.dependenciesState_)}for(t.length=s,n.newObserving_=null,l=e.length;l--;){var m=e[l];m.diffValue===0&&sA(m,n),m.diffValue=0}for(;s--;){var g=t[s];g.diffValue===1&&(g.diffValue=0,bI(g,n))}i!==He.UP_TO_DATE_&&(n.dependenciesState_=i,n.onBecomeStale_())}function cg(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)sA(e[t],n);n.dependenciesState_=He.NOT_TRACKING_}function rA(n){var e=Rs();try{return n()}finally{pi(e)}}function Rs(){var n=se.trackingDerivation;return se.trackingDerivation=null,n}function pi(n){se.trackingDerivation=n}function Jg(n){var e=se.allowStateReads;return se.allowStateReads=n,e}function Nu(n){se.allowStateReads=n}function iA(n){if(n.dependenciesState_!==He.UP_TO_DATE_){n.dependenciesState_=He.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=He.UP_TO_DATE_}}var eh=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},th=!0,aA=!1,se=function(){var n=Gh();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(th=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new eh().version&&(th=!1),th?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new eh):(setTimeout(function(){aA||ze(35)},1),new eh)}();function TI(){if((se.pendingReactions.length||se.inBatch||se.isRunningReactions)&&ze(36),aA=!0,th){var n=Gh();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),se=new eh}}function bI(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function sA(n,e){n.observers_.delete(e),n.observers_.size===0&&oA(n)}function oA(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,se.pendingUnobservations.push(n))}function Hn(){se.inBatch++}function qn(){if(--se.inBatch===0){cA();for(var n=se.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation=!1,t.observers_.size===0&&(t.isBeingObserved&&(t.isBeingObserved=!1,t.onBUO()),t instanceof tr&&t.suspend_())}se.pendingUnobservations=[]}}function lA(n){var e=se.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved&&se.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&se.inBatch>0&&oA(n),!1)}function uA(n){n.lowestObserverState_!==He.STALE_&&(n.lowestObserverState_=He.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===He.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=He.STALE_}))}function AI(n){n.lowestObserverState_!==He.STALE_&&(n.lowestObserverState_=He.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===He.POSSIBLY_STALE_?e.dependenciesState_=He.STALE_:e.dependenciesState_===He.UP_TO_DATE_&&(n.lowestObserverState_=He.UP_TO_DATE_)}))}function SI(n){n.lowestObserverState_===He.UP_TO_DATE_&&(n.lowestObserverState_=He.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===He.UP_TO_DATE_&&(e.dependenciesState_=He.POSSIBLY_STALE_,e.onBecomeStale_())}))}var ga=function(){function n(t,i,s,l){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=He.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=_h.NONE,this.name_=t,this.onInvalidate_=i,this.errorHandler_=s,this.requiresObservable_=l}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,se.pendingReactions.push(this),cA())},e.runReaction_=function(){if(!this.isDisposed){Hn(),this.isScheduled=!1;var i=se.trackingContext;if(se.trackingContext=this,ug(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}se.trackingContext=i,qn()}},e.track=function(i){if(!this.isDisposed){Hn(),this.isRunning=!0;var s=se.trackingContext;se.trackingContext=this;var l=nA(this,i,void 0);se.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&cg(this),Jf(l)&&this.reportExceptionInDerivation_(l.cause),qn()}},e.reportExceptionInDerivation_=function(i){var s=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(se.disableErrorBoundaries)throw i;var l="[mobx] uncaught error in '"+this+"'";se.suppressReactionErrors||console.error(l,i),se.globalReactionErrorHandlers.forEach(function(c){return c(i,s)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Hn(),cg(this),qn()))},e.getDisposer_=function(i){var s=this,l=function c(){s.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",c)};return i==null||i.addEventListener==null||i.addEventListener("abort",l),l[be]=this,l},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},tl(n,[{key:"isDisposed",get:function(){return bn(this.flags_,n.isDisposedMask_)},set:function(i){this.flags_=An(this.flags_,n.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return bn(this.flags_,n.isScheduledMask_)},set:function(i){this.flags_=An(this.flags_,n.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return bn(this.flags_,n.isTrackPendingMask_)},set:function(i){this.flags_=An(this.flags_,n.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return bn(this.flags_,n.isRunningMask_)},set:function(i){this.flags_=An(this.flags_,n.isRunningMask_,i)}},{key:"diffValue",get:function(){return bn(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=An(this.flags_,n.diffValueMask_,i===1)}}])}();ga.isDisposedMask_=1;ga.isScheduledMask_=2;ga.isTrackPendingMask_=4;ga.isRunningMask_=8;ga.diffValueMask_=16;var wI=100,fg=function(e){return e()};function cA(){se.inBatch>0||se.isRunningReactions||fg(RI)}function RI(){se.isRunningReactions=!0;for(var n=se.pendingReactions,e=0;n.length>0;){++e===wI&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),i=0,s=t.length;i<s;i++)t[i].runReaction_()}se.isRunningReactions=!1}var yh=ws("Reaction",ga);function CI(n){var e=fg;fg=function(i){return n(function(){return e(i)})}}function Mu(){return!1}function OI(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var fA="action",II="action.bound",hA="autoAction",DI="autoAction.bound",NI="<unnamed action>",hg=tc(fA),MI=tc(II,{bound:!0}),dg=tc(hA,{autoAction:!0}),PI=tc(DI,{autoAction:!0,bound:!0});function dA(n){var e=function(i,s){if(er(i))return vs(i.name||NI,i,n);if(er(s))return vs(i,s,n);if(ec(s))return(n?dg:hg).decorate_20223_(i,s);if(ps(s))return Ju(i,s,n?dg:hg);if(ps(i))return wr(tc(n?hA:fA,{name:i,autoAction:n}))};return e}var Po=dA(!1);Object.assign(Po,hg);var Bu=dA(!0);Object.assign(Bu,dg);Po.bound=wr(MI);Bu.bound=wr(PI);function zu(n){return er(n)&&n.isMobxAction===!0}function VI(n,e){var t,i,s,l;e===void 0&&(e=Bb);var c=(t=(i=e)==null?void 0:i.name)!=null?t:"Autorun",d=!e.scheduler&&!e.delay,m;if(d)m=new ga(c,function(){this.track(T)},e.onError,e.requiresObservable);else{var g=kI(e),v=!1;m=new ga(c,function(){v||(v=!0,g(function(){v=!1,m.isDisposed||m.track(T)}))},e.onError,e.requiresObservable)}function T(){n(m)}return(s=e)!=null&&(s=s.signal)!=null&&s.aborted||m.schedule_(),m.getDisposer_((l=e)==null?void 0:l.signal)}var xI=function(e){return e()};function kI(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:xI}var LI="onBO",UI="onBUO";function BI(n,e,t){return pA(LI,n,e,t)}function mA(n,e,t){return pA(UI,n,e,t)}function pA(n,e,t,i){var s=mg(e),l=er(i)?i:t,c=n+"L";return s[c]?s[c].add(l):s[c]=new Set([l]),function(){var d=s[c];d&&(d.delete(l),d.size===0&&delete s[c])}}var zI="never",qf="always",jI="observed";function HI(n){n.isolateGlobalState===!0&&TI();var e=n.useProxies,t=n.enforceActions;if(e!==void 0&&(se.useProxies=e===qf?!0:e===zI?!1:typeof Proxy<"u"),e==="ifavailable"&&(se.verifyProxies=!0),t!==void 0){var i=t===qf?qf:t===jI;se.enforceActions=i,se.allowStateChanges=!(i===!0||i===qf)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in n&&(se[s]=!!n[s])}),se.allowStateReads=!se.observableRequiresReaction,n.reactionScheduler&&CI(n.reactionScheduler)}function gA(n,e,t,i){var s=SO(e);return wa(function(){var l=Os(n,i)[be];Bo(s).forEach(function(c){l.extend_(c,s[c],t&&c in t?t[c]:!0)})}),n}var qI=0;function _A(){this.message="FLOW_CANCELLED"}_A.prototype=Object.create(Error.prototype);var Vp=Yb("flow"),FI=Yb("flow.bound",{bound:!0}),zo=Object.assign(function(e,t){if(ec(t))return Vp.decorate_20223_(e,t);if(ps(t))return Ju(e,t,Vp);var i=e,s=i.name||"<unnamed flow>",l=function(){var d=this,m=arguments,g=++qI,v=Po(s+" - runid: "+g+" - init",i).apply(d,m),T,S=void 0,O=new Promise(function(D,H){var k=0;T=H;function F(ae){S=void 0;var oe;try{oe=Po(s+" - runid: "+g+" - yield "+k++,v.next).call(v,ae)}catch(de){return H(de)}ee(oe)}function Q(ae){S=void 0;var oe;try{oe=Po(s+" - runid: "+g+" - yield "+k++,v.throw).call(v,ae)}catch(de){return H(de)}ee(oe)}function ee(ae){if(er(ae==null?void 0:ae.then)){ae.then(ee,H);return}return ae.done?D(ae.value):(S=Promise.resolve(ae.value),S.then(F,Q))}F(void 0)});return O.cancel=Po(s+" - runid: "+g+" - cancel",function(){try{S&&N0(S);var D=v.return(void 0),H=Promise.resolve(D.value);H.then(No,No),N0(H),T(new _A)}catch(k){T(k)}}),O};return l.isMobXFlow=!0,l},Vp);zo.bound=wr(FI);function N0(n){er(n.cancel)&&n.cancel()}function ju(n){return(n==null?void 0:n.isMobXFlow)===!0}function $I(n,e){return n?ed(n)||!!n[be]||Yg(n)||yh(n)||Zh(n):!1}function vA(n){return $I(n)}function ui(n,e){e===void 0&&(e=void 0),Hn();try{return n.apply(e)}finally{qn()}}function Ro(n){return n[be]}var GI={has:function(e,t){return Ro(e).has_(t)},get:function(e,t){return Ro(e).get_(t)},set:function(e,t,i){var s;return ps(t)?(s=Ro(e).set_(t,i,!0))!=null?s:!0:!1},deleteProperty:function(e,t){var i;return ps(t)?(i=Ro(e).delete_(t,!0))!=null?i:!0:!1},defineProperty:function(e,t,i){var s;return(s=Ro(e).defineProperty_(t,i))!=null?s:!0},ownKeys:function(e){return Ro(e).ownKeys_()},preventExtensions:function(e){ze(13)}};function KI(n,e){var t,i;return zb(),n=Os(n,e),(i=(t=n[be]).proxy_)!=null?i:t.proxy_=new Proxy(n,GI)}function zn(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function nc(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),jb(function(){var i=t.indexOf(e);i!==-1&&t.splice(i,1)})}function jn(n,e){var t=Rs();try{for(var i=[].concat(n.interceptors_||[]),s=0,l=i.length;s<l&&(e=i[s](e),e&&!e.type&&ze(14),!!e);s++);return e}finally{pi(t)}}function Wn(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function rc(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),jb(function(){var i=t.indexOf(e);i!==-1&&t.splice(i,1)})}function Zn(n,e){var t=Rs(),i=n.changeListeners_;if(i){i=i.slice();for(var s=0,l=i.length;s<l;s++)i[s](e);pi(t)}}function QI(n,e,t){return wa(function(){var i,s=Os(n,t)[be];(i=e)!=null||(e=IO(n)),Bo(e).forEach(function(l){return s.make_(l,e[l])})}),n}var xp=Symbol("mobx-keys");function YI(n,e,t){return vi(n)?gA(n,n,e,t):(wa(function(){var i=Os(n,t)[be];if(!n[xp]){var s=Object.getPrototypeOf(n),l=new Set([].concat(Bo(n),Bo(s)));l.delete("constructor"),l.delete(be),Zu(s,xp,l)}n[xp].forEach(function(c){return i.make_(c,e&&c in e?e[c]:!0)})}),n)}var M0="splice",Rr="update",XI=1e4,WI={get:function(e,t){var i=e[be];return t===be?i:t==="length"?i.getArrayLength_():typeof t=="string"&&!isNaN(t)?i.get_(parseInt(t)):mi(Eh,t)?Eh[t]:e[t]},set:function(e,t,i){var s=e[be];return t==="length"&&s.setArrayLength_(i),typeof t=="symbol"||isNaN(t)?e[t]=i:s.set_(parseInt(t),i),!0},preventExtensions:function(){ze(15)}},e_=function(){function n(t,i,s,l){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=l,this.atom_=new Sa(t),this.enhancer_=function(c,d){return i(c,d,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return nc(this,i)},e.observe_=function(i,s){return s===void 0&&(s=!1),s&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),rc(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&ze("Out of range: "+i);var s=this.values_.length;if(i!==s)if(i>s){for(var l=new Array(i-s),c=0;c<i-s;c++)l[c]=void 0;this.spliceWithArray_(s,0,l)}else this.spliceWithArray_(i,s-i)},e.updateArrayLength_=function(i,s){i!==this.lastKnownLength_&&ze(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&wA(i+s+1)},e.spliceWithArray_=function(i,s,l){var c=this;this.atom_;var d=this.values_.length;if(i===void 0?i=0:i>d?i=d:i<0&&(i=Math.max(0,d+i)),arguments.length===1?s=d-i:s==null?s=0:s=Math.max(0,Math.min(s,d-i)),l===void 0&&(l=ag),zn(this)){var m=jn(this,{object:this.proxy_,type:M0,index:i,removedCount:s,added:l});if(!m)return ag;s=m.removedCount,l=m.added}if(l=l.length===0?l:l.map(function(T){return c.enhancer_(T,void 0)}),this.legacyMode_){var g=l.length-s;this.updateArrayLength_(d,g)}var v=this.spliceItemsIntoValues_(i,s,l);return(s!==0||l.length!==0)&&this.notifyArraySplice_(i,l,v),this.dehanceValues_(v)},e.spliceItemsIntoValues_=function(i,s,l){if(l.length<XI){var c;return(c=this.values_).splice.apply(c,[i,s].concat(l))}else{var d=this.values_.slice(i,i+s),m=this.values_.slice(i+s);this.values_.length+=l.length-s;for(var g=0;g<l.length;g++)this.values_[i+g]=l[g];for(var v=0;v<m.length;v++)this.values_[i+l.length+v]=m[v];return d}},e.notifyArrayChildUpdate_=function(i,s,l){var c=!this.owned_&&Mu(),d=Wn(this),m=d||c?{observableKind:"array",object:this.proxy_,type:Rr,debugObjectName:this.atom_.name_,index:i,newValue:s,oldValue:l}:null;this.atom_.reportChanged(),d&&Zn(this,m)},e.notifyArraySplice_=function(i,s,l){var c=!this.owned_&&Mu(),d=Wn(this),m=d||c?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:M0,index:i,removed:l,added:s,removedCount:l.length,addedCount:s.length}:null;this.atom_.reportChanged(),d&&Zn(this,m)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,s){var l=this.values_;if(this.legacyMode_&&i>l.length&&ze(17,i,l.length),i<l.length){this.atom_;var c=l[i];if(zn(this)){var d=jn(this,{type:Rr,object:this.proxy_,index:i,newValue:s});if(!d)return;s=d.newValue}s=this.enhancer_(s,c);var m=s!==c;m&&(l[i]=s,this.notifyArrayChildUpdate_(i,s,c))}else{for(var g=new Array(i+1-l.length),v=0;v<g.length-1;v++)g[v]=void 0;g[g.length-1]=s,this.spliceWithArray_(l.length,0,g)}},n}();function ZI(n,e,t,i){return t===void 0&&(t="ObservableArray"),i===void 0&&(i=!1),zb(),wa(function(){var s=new e_(t,e,i,!1);qb(s.values_,be,s);var l=new Proxy(s.values_,WI);return s.proxy_=l,n&&n.length&&s.spliceWithArray_(0,0,n),l})}var Eh={clear:function(){return this.splice(0)},replace:function(e){var t=this[be];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var i=arguments.length,s=new Array(i>2?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];var c=this[be];switch(arguments.length){case 0:return[];case 1:return c.spliceWithArray_(e);case 2:return c.spliceWithArray_(e,t)}return c.spliceWithArray_(e,t,s)},spliceWithArray:function(e,t,i){return this[be].spliceWithArray_(e,t,i)},push:function(){for(var e=this[be],t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[be].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[be],t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return se.trackingDerivation&&ze(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){se.trackingDerivation&&ze(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[be],i=t.dehanceValues_(t.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};rt("at",Rn);rt("concat",Rn);rt("flat",Rn);rt("includes",Rn);rt("indexOf",Rn);rt("join",Rn);rt("lastIndexOf",Rn);rt("slice",Rn);rt("toString",Rn);rt("toLocaleString",Rn);rt("toSorted",Rn);rt("toSpliced",Rn);rt("with",Rn);rt("every",rr);rt("filter",rr);rt("find",rr);rt("findIndex",rr);rt("findLast",rr);rt("findLastIndex",rr);rt("flatMap",rr);rt("forEach",rr);rt("map",rr);rt("some",rr);rt("toReversed",rr);rt("reduce",yA);rt("reduceRight",yA);function rt(n,e){typeof Array.prototype[n]=="function"&&(Eh[n]=e(n))}function Rn(n){return function(){var e=this[be];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function rr(n){return function(e,t){var i=this,s=this[be];s.atom_.reportObserved();var l=s.dehanceValues_(s.values_);return l[n](function(c,d){return e.call(t,c,d,i)})}}function yA(n){return function(){var e=this,t=this[be];t.atom_.reportObserved();var i=t.dehanceValues_(t.values_),s=arguments[0];return arguments[0]=function(l,c,d){return s(l,c,d,e)},i[n].apply(i,arguments)}}var JI=ws("ObservableArrayAdministration",e_);function Jh(n){return Qh(n)&&JI(n[be])}var eD={},la="add",Th="delete",EA=function(){function n(t,i,s){var l=this;i===void 0&&(i=_s),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[be]=eD,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=s,er(Map)||ze(18),wa(function(){l.keysAtom_=Kb("ObservableMap.keys()"),l.data_=new Map,l.hasMap_=new Map,t&&l.merge(t)})}var e=n.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var s=this;if(!se.trackingDerivation)return this.has_(i);var l=this.hasMap_.get(i);if(!l){var c=l=new ms(this.has_(i),Yh,"ObservableMap.key?",!1);this.hasMap_.set(i,c),mA(c,function(){return s.hasMap_.delete(i)})}return l.get()},e.set=function(i,s){var l=this.has_(i);if(zn(this)){var c=jn(this,{type:l?Rr:la,object:this,newValue:s,name:i});if(!c)return this;s=c.newValue}return l?this.updateValue_(i,s):this.addValue_(i,s),this},e.delete=function(i){var s=this;if(this.keysAtom_,zn(this)){var l=jn(this,{type:Th,object:this,name:i});if(!l)return!1}if(this.has_(i)){var c=Mu(),d=Wn(this),m=d||c?{observableKind:"map",debugObjectName:this.name_,type:Th,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return ui(function(){var g;s.keysAtom_.reportChanged(),(g=s.hasMap_.get(i))==null||g.setNewValue_(!1);var v=s.data_.get(i);v.setNewValue_(void 0),s.data_.delete(i)}),d&&Zn(this,m),!0}return!1},e.updateValue_=function(i,s){var l=this.data_.get(i);if(s=l.prepareNewValue_(s),s!==se.UNCHANGED){var c=Mu(),d=Wn(this),m=d||c?{observableKind:"map",debugObjectName:this.name_,type:Rr,object:this,oldValue:l.value_,name:i,newValue:s}:null;l.setNewValue_(s),d&&Zn(this,m)}},e.addValue_=function(i,s){var l=this;this.keysAtom_,ui(function(){var g,v=new ms(s,l.enhancer_,"ObservableMap.key",!1);l.data_.set(i,v),s=v.value_,(g=l.hasMap_.get(i))==null||g.setNewValue_(!0),l.keysAtom_.reportChanged()});var c=Mu(),d=Wn(this),m=d||c?{observableKind:"map",debugObjectName:this.name_,type:la,object:this,name:i,newValue:s}:null;d&&Zn(this,m)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,s=this.keys();return P0({next:function(){var c=s.next(),d=c.done,m=c.value;return{done:d,value:d?void 0:i.get(m)}}})},e.entries=function(){var i=this,s=this.keys();return P0({next:function(){var c=s.next(),d=c.done,m=c.value;return{done:d,value:d?void 0:[m,i.get(m)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,s){for(var l=Mo(this),c;!(c=l()).done;){var d=c.value,m=d[0],g=d[1];i.call(s,g,m,this)}},e.merge=function(i){var s=this;return Cs(i)&&(i=new Map(i)),ui(function(){vi(i)?AO(i).forEach(function(l){return s.set(l,i[l])}):Array.isArray(i)?i.forEach(function(l){var c=l[0],d=l[1];return s.set(c,d)}):el(i)?(bO(i)||ze(19,i),i.forEach(function(l,c){return s.set(c,l)})):i!=null&&ze(20,i)}),this},e.clear=function(){var i=this;ui(function(){rA(function(){for(var s=Mo(i.keys()),l;!(l=s()).done;){var c=l.value;i.delete(c)}})})},e.replace=function(i){var s=this;return ui(function(){for(var l=tD(i),c=new Map,d=!1,m=Mo(s.data_.keys()),g;!(g=m()).done;){var v=g.value;if(!l.has(v)){var T=s.delete(v);if(T)d=!0;else{var S=s.data_.get(v);c.set(v,S)}}}for(var O=Mo(l.entries()),D;!(D=O()).done;){var H=D.value,k=H[0],F=H[1],Q=s.data_.has(k);if(s.set(k,F),s.data_.has(k)){var ee=s.data_.get(k);c.set(k,ee),Q||(d=!0)}}if(!d)if(s.data_.size!==c.size)s.keysAtom_.reportChanged();else for(var ae=s.data_.keys(),oe=c.keys(),de=ae.next(),P=oe.next();!de.done;){if(de.value!==P.value){s.keysAtom_.reportChanged();break}de=ae.next(),P=oe.next()}s.data_=c}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,s){return rc(this,i)},e.intercept_=function(i){return nc(this,i)},tl(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Cs=ws("ObservableMap",EA);function P0(n){return n[Symbol.toStringTag]="MapIterator",n_(n)}function tD(n){if(el(n)||Cs(n))return n;if(Array.isArray(n))return new Map(n);if(vi(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return ze(21,n)}var nD={},TA=function(){function n(t,i,s){var l=this;i===void 0&&(i=_s),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[be]=nD,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,er(Set)||ze(22),this.enhancer_=function(c,d){return i(c,d,s)},wa(function(){l.atom_=Kb(l.name_),t&&l.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;ui(function(){rA(function(){for(var s=Mo(i.data_.values()),l;!(l=s()).done;){var c=l.value;i.delete(c)}})})},e.forEach=function(i,s){for(var l=Mo(this),c;!(c=l()).done;){var d=c.value;i.call(s,d,d,this)}},e.add=function(i){var s=this;if(this.atom_,zn(this)){var l=jn(this,{type:la,object:this,newValue:i});if(!l)return this;i=l.newValue}if(!this.has(i)){ui(function(){s.data_.add(s.enhancer_(i,void 0)),s.atom_.reportChanged()});var c=!1,d=Wn(this),m=d||c?{observableKind:"set",debugObjectName:this.name_,type:la,object:this,newValue:i}:null;d&&Zn(this,m)}return this},e.delete=function(i){var s=this;if(zn(this)){var l=jn(this,{type:Th,object:this,oldValue:i});if(!l)return!1}if(this.has(i)){var c=!1,d=Wn(this),m=d||c?{observableKind:"set",debugObjectName:this.name_,type:Th,object:this,oldValue:i}:null;return ui(function(){s.atom_.reportChanged(),s.data_.delete(i)}),d&&Zn(this,m),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=this.values();return V0({next:function(){var l=i.next(),c=l.value,d=l.done;return d?{value:void 0,done:d}:{value:[c,c],done:d}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,s=this.data_.values();return V0({next:function(){var c=s.next(),d=c.value,m=c.done;return m?{value:void 0,done:m}:{value:i.dehanceValue_(d),done:m}}})},e.intersection=function(i){if(li(i)&&!br(i))return i.intersection(this);var s=new Set(this);return s.intersection(i)},e.union=function(i){if(li(i)&&!br(i))return i.union(this);var s=new Set(this);return s.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(li(i)&&!br(i))return i.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(li(i)&&!br(i))return i.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(i)},e.replace=function(i){var s=this;return br(i)&&(i=new Set(i)),ui(function(){Array.isArray(i)?(s.clear(),i.forEach(function(l){return s.add(l)})):li(i)?(s.clear(),i.forEach(function(l){return s.add(l)})):i!=null&&ze("Cannot initialize set from "+i)}),this},e.observe_=function(i,s){return rc(this,i)},e.intercept_=function(i){return nc(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},tl(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),br=ws("ObservableSet",TA);function V0(n){return n[Symbol.toStringTag]="SetIterator",n_(n)}var x0=Object.create(null),k0="remove",bA=function(){function n(t,i,s,l){i===void 0&&(i=new Map),l===void 0&&(l=JO),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=i,this.name_=s,this.defaultAnnotation_=l,this.keysAtom_=new Sa("ObservableObject.keys"),this.isPlainObject_=vi(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,s){var l=this.values_.get(i);if(l instanceof tr)return l.set(s),!0;if(zn(this)){var c=jn(this,{type:Rr,object:this.proxy_||this.target_,name:i,newValue:s});if(!c)return null;s=c.newValue}if(s=l.prepareNewValue_(s),s!==se.UNCHANGED){var d=Wn(this),m=!1,g=d||m?{type:Rr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:l.value_,name:i,newValue:s}:null;l.setNewValue_(s),d&&Zn(this,g)}return!0},e.get_=function(i){return se.trackingDerivation&&!mi(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,s,l){return l===void 0&&(l=!1),mi(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,s):l?Reflect.set(this.target_,i,s):(this.target_[i]=s,!0):this.extend_(i,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,l)},e.has_=function(i){if(!se.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(i);return s||(s=new ms(i in this.target_,Yh,"ObservableObject.key?",!1),this.pendingKeys_.set(i,s)),s.get()},e.make_=function(i,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(i in this.target_)){var l;if((l=this.target_[Ar])!=null&&l[i])return;ze(1,s.annotationType_,this.name_+"."+i.toString())}for(var c=this.target_;c&&c!==Kh;){var d=mh(c,i);if(d){var m=s.make_(this,i,d,c);if(m===0)return;if(m===1)break}c=Object.getPrototypeOf(c)}U0(this,s,i)}},e.extend_=function(i,s,l,c){if(c===void 0&&(c=!1),l===!0&&(l=this.defaultAnnotation_),l===!1)return this.defineProperty_(i,s,c);var d=l.extend_(this,i,s,c);return d&&U0(this,l,i),d},e.defineProperty_=function(i,s,l){l===void 0&&(l=!1),this.keysAtom_;try{Hn();var c=this.delete_(i);if(!c)return c;if(zn(this)){var d=jn(this,{object:this.proxy_||this.target_,name:i,type:la,newValue:s.value});if(!d)return null;var m=d.newValue;s.value!==m&&(s=gs({},s,{value:m}))}if(l){if(!Reflect.defineProperty(this.target_,i,s))return!1}else Sr(this.target_,i,s);this.notifyPropertyAddition_(i,s.value)}finally{qn()}return!0},e.defineObservableProperty_=function(i,s,l,c){c===void 0&&(c=!1),this.keysAtom_;try{Hn();var d=this.delete_(i);if(!d)return d;if(zn(this)){var m=jn(this,{object:this.proxy_||this.target_,name:i,type:la,newValue:s});if(!m)return null;s=m.newValue}var g=L0(i),v={configurable:se.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:g.get,set:g.set};if(c){if(!Reflect.defineProperty(this.target_,i,v))return!1}else Sr(this.target_,i,v);var T=new ms(s,l,"ObservableObject.key",!1);this.values_.set(i,T),this.notifyPropertyAddition_(i,T.value_)}finally{qn()}return!0},e.defineComputedProperty_=function(i,s,l){l===void 0&&(l=!1),this.keysAtom_;try{Hn();var c=this.delete_(i);if(!c)return c;if(zn(this)){var d=jn(this,{object:this.proxy_||this.target_,name:i,type:la,newValue:void 0});if(!d)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var m=L0(i),g={configurable:se.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:m.get,set:m.set};if(l){if(!Reflect.defineProperty(this.target_,i,g))return!1}else Sr(this.target_,i,g);this.values_.set(i,new tr(s)),this.notifyPropertyAddition_(i,void 0)}finally{qn()}return!0},e.delete_=function(i,s){if(s===void 0&&(s=!1),this.keysAtom_,!mi(this.target_,i))return!0;if(zn(this)){var l=jn(this,{object:this.proxy_||this.target_,name:i,type:k0});if(!l)return null}try{var c;Hn();var d=Wn(this),m=!1,g=this.values_.get(i),v=void 0;if(!g&&(d||m)){var T;v=(T=mh(this.target_,i))==null?void 0:T.value}if(s){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(g&&(this.values_.delete(i),g instanceof ms&&(v=g.value_),uA(g)),this.keysAtom_.reportChanged(),(c=this.pendingKeys_)==null||(c=c.get(i))==null||c.set(i in this.target_),d||m){var S={type:k0,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:v,name:i};d&&Zn(this,S)}}finally{qn()}return!0},e.observe_=function(i,s){return rc(this,i)},e.intercept_=function(i){return nc(this,i)},e.notifyPropertyAddition_=function(i,s){var l,c=Wn(this),d=!1;if(c||d){var m=c||d?{type:la,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:s}:null;c&&Zn(this,m)}(l=this.pendingKeys_)==null||(l=l.get(i))==null||l.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Bo(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function Os(n,e){var t;if(mi(n,be))return n;var i=(t=e==null?void 0:e.name)!=null?t:"ObservableObject",s=new bA(n,new Map,String(i),cI(e));return Zu(n,be,s),n}var rD=ws("ObservableObjectAdministration",bA);function L0(n){return x0[n]||(x0[n]={get:function(){return this[be].getObservablePropValue_(n)},set:function(t){return this[be].setObservablePropValue_(n,t)}})}function ed(n){return Qh(n)?rD(n[be]):!1}function U0(n,e,t){var i;(i=n.target_[Ar])==null||delete i[t]}var iD=SA(0),aD=function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,n===!1}(),kp=0,AA=function(){};function sD(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}sD(AA,Array.prototype);var t_=function(n){function e(i,s,l,c){var d;return l===void 0&&(l="ObservableArray"),c===void 0&&(c=!1),d=n.call(this)||this,wa(function(){var m=new e_(l,s,c,!0);m.proxy_=d,qb(d,be,m),i&&i.length&&d.spliceWithArray(0,0,i),aD&&Object.defineProperty(d,"0",iD)}),d}Gb(e,n);var t=e.prototype;return t.concat=function(){this[be].atom_.reportObserved();for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return Array.prototype.concat.apply(this.slice(),l.map(function(d){return Jh(d)?d.slice():d}))},t[Symbol.iterator]=function(){var i=this,s=0;return n_({next:function(){return s<i.length?{value:i[s++],done:!1}:{done:!0,value:void 0}}})},tl(e,[{key:"length",get:function(){return this[be].getArrayLength_()},set:function(s){this[be].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(AA);Object.entries(Eh).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&Zu(t_.prototype,e,t)});function SA(n){return{enumerable:!1,configurable:!0,get:function(){return this[be].get_(n)},set:function(t){this[be].set_(n,t)}}}function oD(n){Sr(t_.prototype,""+n,SA(n))}function wA(n){if(n>kp){for(var e=kp;e<n+100;e++)oD(e);kp=n}}wA(1e3);function lD(n,e,t){return new t_(n,e,t)}function mg(n,e){if(typeof n=="object"&&n!==null){if(Jh(n))return e!==void 0&&ze(23),n[be].atom_;if(br(n))return n.atom_;if(Cs(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||ze(25,e,pg(n)),t}if(ed(n)){if(!e)return ze(26);var i=n[be].values_.get(e);return i||ze(27,e,pg(n)),i}if(Yg(n)||Zh(n)||yh(n))return n}else if(er(n)&&yh(n[be]))return n[be];ze(28)}function uD(n,e){if(n||ze(29),Yg(n)||Zh(n)||yh(n)||Cs(n)||br(n))return n;if(n[be])return n[be];ze(24,n)}function pg(n,e){var t;if(e!==void 0)t=mg(n,e);else{if(zu(n))return n.name;ed(n)||Cs(n)||br(n)?t=uD(n):t=mg(n)}return t.name_}function wa(n){var e=Rs(),t=Wg(!0);Hn();try{return n()}finally{qn(),Zg(t),pi(e)}}var B0=Kh.toString;function RA(n,e,t){return t===void 0&&(t=-1),gg(n,e,t)}function gg(n,e,t,i,s){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var l=typeof n;if(l!=="function"&&l!=="object"&&typeof e!="object")return!1;var c=B0.call(n);if(c!==B0.call(e))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=z0(n),e=z0(e);var d=c==="[object Array]";if(!d){if(typeof n!="object"||typeof e!="object")return!1;var m=n.constructor,g=e.constructor;if(m!==g&&!(er(m)&&m instanceof m&&er(g)&&g instanceof g)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),i=i||[],s=s||[];for(var v=i.length;v--;)if(i[v]===n)return s[v]===e;if(i.push(n),s.push(e),d){if(v=n.length,v!==e.length)return!1;for(;v--;)if(!gg(n[v],e[v],t-1,i,s))return!1}else{var T=Object.keys(n),S=T.length;if(Object.keys(e).length!==S)return!1;for(var O=0;O<S;O++){var D=T[O];if(!(mi(e,D)&&gg(n[D],e[D],t-1,i,s)))return!1}}return i.pop(),s.pop(),!0}function z0(n){return Jh(n)?n.slice():el(n)||Cs(n)||li(n)||br(n)?Array.from(n.entries()):n}var j0,cD=((j0=Gh().Iterator)==null?void 0:j0.prototype)||{};function n_(n){return n[Symbol.iterator]=fD,Object.assign(Object.create(cD),n)}function fD(){return this}["Symbol","Map","Set"].forEach(function(n){var e=Gh();typeof e[n]>"u"&&ze("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:OI,extras:{getDebugName:pg},$mobx:be});if(!M.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!QI)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function hD(n){n()}function dD(n){n||(n=hD),HI({reactionScheduler:n})}var mD=1e4,pD=1e4,gD=function(){function n(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=mD),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var s=Date.now();t.registrations.forEach(function(l,c){s-l.registeredAt>=i&&(t.finalize(l.value),t.registrations.delete(c))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.registrations.set(i,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,pD))}}),n}(),_D=typeof FinalizationRegistry<"u"?FinalizationRegistry:gD,vD=new _D(function(n){var e;(e=n.reaction)===null||e===void 0||e.dispose(),n.reaction=null}),Lp={exports:{}},Up={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function yD(){if(H0)return Up;H0=1;var n=Hh();function e(T,S){return T===S&&(T!==0||1/T===1/S)||T!==T&&S!==S}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,s=n.useEffect,l=n.useLayoutEffect,c=n.useDebugValue;function d(T,S){var O=S(),D=i({inst:{value:O,getSnapshot:S}}),H=D[0].inst,k=D[1];return l(function(){H.value=O,H.getSnapshot=S,m(H)&&k({inst:H})},[T,O,S]),s(function(){return m(H)&&k({inst:H}),T(function(){m(H)&&k({inst:H})})},[T]),c(O),O}function m(T){var S=T.getSnapshot;T=T.value;try{var O=S();return!t(T,O)}catch{return!0}}function g(T,S){return S()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return Up.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:v,Up}var q0;function ED(){return q0||(q0=1,Lp.exports=yD()),Lp.exports}ED();var Bp,zp,CA=typeof Symbol=="function"&&Symbol.for;zp=(Bp=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Bp===void 0?void 0:Bp.configurable;CA?Symbol.for("react.forward_ref"):typeof M.forwardRef=="function"&&M.forwardRef(function(n){return null}).$$typeof;CA?Symbol.for("react.memo"):typeof M.memo=="function"&&M.memo(function(n){return null}).$$typeof;var jp;dD(vO.unstable_batchedUpdates);jp=vD.finalizeAllImmediately;function _g(){return _g=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_g.apply(null,arguments)}function TD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var bD=["children"],F0=Du.createContext({});function OA(n){var e=n.children,t=TD(n,bD),i=Du.useContext(F0),s=Du.useRef(_g({},i,t)),l=s.current;return Du.createElement(F0.Provider,{value:l},e)}OA.displayName="MobXProvider";Du.version.split(".")[0];if(!M.Component)throw new Error("mobx-react requires React to be available");if(!Ut)throw new Error("mobx-react requires mobx to be available");const AD=()=>{};var $0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},SD=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},DA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,m=s+2<n.length,g=m?n[s+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,O=g&63;m||(O=64,c||(S=64)),i.push(t[v],t[T],t[S],t[O])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(IA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):SD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const T=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||g==null||T==null)throw new wD;const S=l<<2|d>>4;if(i.push(S),g!==64){const O=d<<4&240|g>>2;if(i.push(O),T!==64){const D=g<<6&192|T;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RD=function(n){const e=IA(n);return DA.encodeByteArray(e,!0)},bh=function(n){return RD(n).replace(/\./g,"")},NA=function(n){try{return DA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=()=>CD().__FIREBASE_DEFAULTS__,ID=()=>{if(typeof process>"u"||typeof $0>"u")return;const n=$0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&NA(n[1]);return e&&JSON.parse(e)},td=()=>{try{return AD()||OD()||ID()||DD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},MA=n=>{var e,t;return(t=(e=td())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ND=n=>{const e=MA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},PA=()=>{var n;return(n=td())===null||n===void 0?void 0:n.config},VA=n=>{var e;return(e=td())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bh(JSON.stringify(t)),bh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function xD(){var n;const e=(n=td())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BD(){const n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zD(){return!xD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jD(){try{return typeof indexedDB=="object"}catch{return!1}}function HD(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="FirebaseError";class Ri extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=qD,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?FD(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Ri(s,d,i)}}function FD(n,e){return n.replace($D,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const $D=/\{\$([^}]+)}/g;function GD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yi(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(G0(l)&&G0(c)){if(!yi(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function G0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Su(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function KD(n,e){const t=new QD(n,e);return t.subscribe.bind(t)}class QD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");YD(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Hp),s.error===void 0&&(s.error=Hp),s.complete===void 0&&(s.complete=Hp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(n){return n&&n._delegate?n._delegate:n}class ys{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new MD;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZD(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:WD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WD(n){return n===hs?void 0:n}function ZD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const e2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},t2=Ve.INFO,n2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},r2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=n2[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class r_{constructor(e){this.name=e,this._logLevel=t2,this._logHandler=r2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const i2=(n,e)=>e.some(t=>n instanceof t);let K0,Q0;function a2(){return K0||(K0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s2(){return Q0||(Q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xA=new WeakMap,vg=new WeakMap,kA=new WeakMap,qp=new WeakMap,i_=new WeakMap;function o2(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ca(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&xA.set(t,n)}).catch(()=>{}),i_.set(e,n),e}function l2(n){if(vg.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});vg.set(n,e)}let yg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ca(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function u2(n){yg=n(yg)}function c2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Fp(this),e,...t);return kA.set(i,e.sort?e.sort():[e]),ca(i)}:s2().includes(n)?function(...e){return n.apply(Fp(this),e),ca(xA.get(this))}:function(...e){return ca(n.apply(Fp(this),e))}}function f2(n){return typeof n=="function"?c2(n):(n instanceof IDBTransaction&&l2(n),i2(n,a2())?new Proxy(n,yg):n)}function ca(n){if(n instanceof IDBRequest)return o2(n);if(qp.has(n))return qp.get(n);const e=f2(n);return e!==n&&(qp.set(n,e),i_.set(e,n)),e}const Fp=n=>i_.get(n);function h2(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=ca(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ca(c.result),m.oldVersion,m.newVersion,ca(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const d2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],$p=new Map;function Y0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($p.get(e))return $p.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=m2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||d2.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&m.done]))[0]};return $p.set(e,l),l}u2(n=>({...n,get:(e,t,i)=>Y0(e,t)||n.get(e,t,i),has:(e,t)=>!!Y0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(g2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function g2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eg="@firebase/app",X0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new r_("@firebase/app"),_2="@firebase/app-compat",v2="@firebase/analytics-compat",y2="@firebase/analytics",E2="@firebase/app-check-compat",T2="@firebase/app-check",b2="@firebase/auth",A2="@firebase/auth-compat",S2="@firebase/database",w2="@firebase/data-connect",R2="@firebase/database-compat",C2="@firebase/functions",O2="@firebase/functions-compat",I2="@firebase/installations",D2="@firebase/installations-compat",N2="@firebase/messaging",M2="@firebase/messaging-compat",P2="@firebase/performance",V2="@firebase/performance-compat",x2="@firebase/remote-config",k2="@firebase/remote-config-compat",L2="@firebase/storage",U2="@firebase/storage-compat",B2="@firebase/firestore",z2="@firebase/vertexai",j2="@firebase/firestore-compat",H2="firebase",q2="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",F2={[Eg]:"fire-core",[_2]:"fire-core-compat",[y2]:"fire-analytics",[v2]:"fire-analytics-compat",[T2]:"fire-app-check",[E2]:"fire-app-check-compat",[b2]:"fire-auth",[A2]:"fire-auth-compat",[S2]:"fire-rtdb",[w2]:"fire-data-connect",[R2]:"fire-rtdb-compat",[C2]:"fire-fn",[O2]:"fire-fn-compat",[I2]:"fire-iid",[D2]:"fire-iid-compat",[N2]:"fire-fcm",[M2]:"fire-fcm-compat",[P2]:"fire-perf",[V2]:"fire-perf-compat",[x2]:"fire-rc",[k2]:"fire-rc-compat",[L2]:"fire-gcs",[U2]:"fire-gcs-compat",[B2]:"fire-fst",[j2]:"fire-fst-compat",[z2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,$2=new Map,bg=new Map;function W0(n,e){try{n.container.addComponent(e)}catch(t){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jo(n){const e=n.name;if(bg.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,n);for(const t of Ah.values())W0(t,n);for(const t of $2.values())W0(t,n);return!0}function a_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new ic("app","Firebase",G2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=q2;function LA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Tg,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw fa.create("bad-app-name",{appName:String(s)});if(t||(t=PA()),!t)throw fa.create("no-options");const l=Ah.get(s);if(l){if(yi(t,l.options)&&yi(i,l.config))return l;throw fa.create("duplicate-app",{appName:s})}const c=new JD(s);for(const m of bg.values())c.addComponent(m);const d=new K2(t,i,c);return Ah.set(s,d),d}function UA(n=Tg){const e=Ah.get(n);if(!e&&n===Tg&&PA())return LA();if(!e)throw fa.create("no-app",{appName:n});return e}function ha(n,e,t){var i;let s=(i=F2[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(d.join(" "));return}jo(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="firebase-heartbeat-database",Y2=1,Hu="firebase-heartbeat-store";let Gp=null;function BA(){return Gp||(Gp=h2(Q2,Y2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hu)}catch(t){console.warn(t)}}}}).catch(n=>{throw fa.create("idb-open",{originalErrorMessage:n.message})})),Gp}async function X2(n){try{const t=(await BA()).transaction(Hu),i=await t.objectStore(Hu).get(zA(n));return await t.done,i}catch(e){if(e instanceof Ri)Ei.warn(e.message);else{const t=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(t.message)}}}async function Z0(n,e){try{const i=(await BA()).transaction(Hu,"readwrite");await i.objectStore(Hu).put(e,zA(n)),await i.done}catch(t){if(t instanceof Ri)Ei.warn(t.message);else{const i=fa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ei.warn(i.message)}}}function zA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=1024,Z2=30;class J2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=J0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>Z2){const c=nN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ei.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J0(),{heartbeatsToSend:i,unsentEntries:s}=eN(this._heartbeatsCache.heartbeats),l=bh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ei.warn(t),""}}}function J0(){return new Date().toISOString().substring(0,10)}function eN(n,e=W2){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),eT(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),eT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class tN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jD()?HD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await X2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eT(n){return bh(JSON.stringify({version:2,heartbeats:n})).length}function nN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(n){jo(new ys("platform-logger",e=>new p2(e),"PRIVATE")),jo(new ys("heartbeat",e=>new J2(e),"PRIVATE")),ha(Eg,X0,n),ha(Eg,X0,"esm2017"),ha("fire-js","")}rN("");var iN="firebase",aN="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ha(iN,aN,"app");var tT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,jA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,w){function R(){}R.prototype=w.prototype,P.D=w.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(N,L,B){for(var I=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)I[Bt-2]=arguments[Bt];return w.prototype[L].apply(N,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,w,R){R||(R=0);var N=Array(16);if(typeof w=="string")for(var L=0;16>L;++L)N[L]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(L=0;16>L;++L)N[L]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=P.g[0],R=P.g[1],L=P.g[2];var B=P.g[3],I=w+(B^R&(L^B))+N[0]+3614090360&4294967295;w=R+(I<<7&4294967295|I>>>25),I=B+(L^w&(R^L))+N[1]+3905402710&4294967295,B=w+(I<<12&4294967295|I>>>20),I=L+(R^B&(w^R))+N[2]+606105819&4294967295,L=B+(I<<17&4294967295|I>>>15),I=R+(w^L&(B^w))+N[3]+3250441966&4294967295,R=L+(I<<22&4294967295|I>>>10),I=w+(B^R&(L^B))+N[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=B+(L^w&(R^L))+N[5]+1200080426&4294967295,B=w+(I<<12&4294967295|I>>>20),I=L+(R^B&(w^R))+N[6]+2821735955&4294967295,L=B+(I<<17&4294967295|I>>>15),I=R+(w^L&(B^w))+N[7]+4249261313&4294967295,R=L+(I<<22&4294967295|I>>>10),I=w+(B^R&(L^B))+N[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=B+(L^w&(R^L))+N[9]+2336552879&4294967295,B=w+(I<<12&4294967295|I>>>20),I=L+(R^B&(w^R))+N[10]+4294925233&4294967295,L=B+(I<<17&4294967295|I>>>15),I=R+(w^L&(B^w))+N[11]+2304563134&4294967295,R=L+(I<<22&4294967295|I>>>10),I=w+(B^R&(L^B))+N[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=B+(L^w&(R^L))+N[13]+4254626195&4294967295,B=w+(I<<12&4294967295|I>>>20),I=L+(R^B&(w^R))+N[14]+2792965006&4294967295,L=B+(I<<17&4294967295|I>>>15),I=R+(w^L&(B^w))+N[15]+1236535329&4294967295,R=L+(I<<22&4294967295|I>>>10),I=w+(L^B&(R^L))+N[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=B+(R^L&(w^R))+N[6]+3225465664&4294967295,B=w+(I<<9&4294967295|I>>>23),I=L+(w^R&(B^w))+N[11]+643717713&4294967295,L=B+(I<<14&4294967295|I>>>18),I=R+(B^w&(L^B))+N[0]+3921069994&4294967295,R=L+(I<<20&4294967295|I>>>12),I=w+(L^B&(R^L))+N[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=B+(R^L&(w^R))+N[10]+38016083&4294967295,B=w+(I<<9&4294967295|I>>>23),I=L+(w^R&(B^w))+N[15]+3634488961&4294967295,L=B+(I<<14&4294967295|I>>>18),I=R+(B^w&(L^B))+N[4]+3889429448&4294967295,R=L+(I<<20&4294967295|I>>>12),I=w+(L^B&(R^L))+N[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=B+(R^L&(w^R))+N[14]+3275163606&4294967295,B=w+(I<<9&4294967295|I>>>23),I=L+(w^R&(B^w))+N[3]+4107603335&4294967295,L=B+(I<<14&4294967295|I>>>18),I=R+(B^w&(L^B))+N[8]+1163531501&4294967295,R=L+(I<<20&4294967295|I>>>12),I=w+(L^B&(R^L))+N[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=B+(R^L&(w^R))+N[2]+4243563512&4294967295,B=w+(I<<9&4294967295|I>>>23),I=L+(w^R&(B^w))+N[7]+1735328473&4294967295,L=B+(I<<14&4294967295|I>>>18),I=R+(B^w&(L^B))+N[12]+2368359562&4294967295,R=L+(I<<20&4294967295|I>>>12),I=w+(R^L^B)+N[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=B+(w^R^L)+N[8]+2272392833&4294967295,B=w+(I<<11&4294967295|I>>>21),I=L+(B^w^R)+N[11]+1839030562&4294967295,L=B+(I<<16&4294967295|I>>>16),I=R+(L^B^w)+N[14]+4259657740&4294967295,R=L+(I<<23&4294967295|I>>>9),I=w+(R^L^B)+N[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=B+(w^R^L)+N[4]+1272893353&4294967295,B=w+(I<<11&4294967295|I>>>21),I=L+(B^w^R)+N[7]+4139469664&4294967295,L=B+(I<<16&4294967295|I>>>16),I=R+(L^B^w)+N[10]+3200236656&4294967295,R=L+(I<<23&4294967295|I>>>9),I=w+(R^L^B)+N[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=B+(w^R^L)+N[0]+3936430074&4294967295,B=w+(I<<11&4294967295|I>>>21),I=L+(B^w^R)+N[3]+3572445317&4294967295,L=B+(I<<16&4294967295|I>>>16),I=R+(L^B^w)+N[6]+76029189&4294967295,R=L+(I<<23&4294967295|I>>>9),I=w+(R^L^B)+N[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=B+(w^R^L)+N[12]+3873151461&4294967295,B=w+(I<<11&4294967295|I>>>21),I=L+(B^w^R)+N[15]+530742520&4294967295,L=B+(I<<16&4294967295|I>>>16),I=R+(L^B^w)+N[2]+3299628645&4294967295,R=L+(I<<23&4294967295|I>>>9),I=w+(L^(R|~B))+N[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=B+(R^(w|~L))+N[7]+1126891415&4294967295,B=w+(I<<10&4294967295|I>>>22),I=L+(w^(B|~R))+N[14]+2878612391&4294967295,L=B+(I<<15&4294967295|I>>>17),I=R+(B^(L|~w))+N[5]+4237533241&4294967295,R=L+(I<<21&4294967295|I>>>11),I=w+(L^(R|~B))+N[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=B+(R^(w|~L))+N[3]+2399980690&4294967295,B=w+(I<<10&4294967295|I>>>22),I=L+(w^(B|~R))+N[10]+4293915773&4294967295,L=B+(I<<15&4294967295|I>>>17),I=R+(B^(L|~w))+N[1]+2240044497&4294967295,R=L+(I<<21&4294967295|I>>>11),I=w+(L^(R|~B))+N[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=B+(R^(w|~L))+N[15]+4264355552&4294967295,B=w+(I<<10&4294967295|I>>>22),I=L+(w^(B|~R))+N[6]+2734768916&4294967295,L=B+(I<<15&4294967295|I>>>17),I=R+(B^(L|~w))+N[13]+1309151649&4294967295,R=L+(I<<21&4294967295|I>>>11),I=w+(L^(R|~B))+N[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=B+(R^(w|~L))+N[11]+3174756917&4294967295,B=w+(I<<10&4294967295|I>>>22),I=L+(w^(B|~R))+N[2]+718787259&4294967295,L=B+(I<<15&4294967295|I>>>17),I=R+(B^(L|~w))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+w&4294967295,P.g[1]=P.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+B&4294967295}i.prototype.u=function(P,w){w===void 0&&(w=P.length);for(var R=w-this.blockSize,N=this.B,L=this.h,B=0;B<w;){if(L==0)for(;B<=R;)s(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<w;)if(N[L++]=P.charCodeAt(B++),L==this.blockSize){s(this,N),L=0;break}}else for(;B<w;)if(N[L++]=P[B++],L==this.blockSize){s(this,N),L=0;break}}this.h=L,this.o+=w},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var w=1;w<P.length-8;++w)P[w]=0;var R=8*this.o;for(w=P.length-8;w<P.length;++w)P[w]=R&255,R/=256;for(this.u(P),P=Array(16),w=R=0;4>w;++w)for(var N=0;32>N;N+=8)P[R++]=this.g[w]>>>N&255;return P};function l(P,w){var R=d;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=w(P)}function c(P,w){this.h=w;for(var R=[],N=!0,L=P.length-1;0<=L;L--){var B=P[L]|0;N&&B==w||(R[L]=B,N=!1)}this.g=R}var d={};function m(P){return-128<=P&&128>P?l(P,function(w){return new c([w|0],0>w?-1:0)}):new c([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return k(g(-P));for(var w=[],R=1,N=0;P>=R;N++)w[N]=P/R|0,R*=4294967296;return new c(w,0)}function v(P,w){if(P.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(P.charAt(0)=="-")return k(v(P.substring(1),w));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),N=T,L=0;L<P.length;L+=8){var B=Math.min(8,P.length-L),I=parseInt(P.substring(L,L+B),w);8>B?(B=g(Math.pow(w,B)),N=N.j(B).add(g(I))):(N=N.j(R),N=N.add(g(I)))}return N}var T=m(0),S=m(1),O=m(16777216);n=c.prototype,n.m=function(){if(H(this))return-k(this).m();for(var P=0,w=1,R=0;R<this.g.length;R++){var N=this.i(R);P+=(0<=N?N:4294967296+N)*w,w*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D(this))return"0";if(H(this))return"-"+k(this).toString(P);for(var w=g(Math.pow(P,6)),R=this,N="";;){var L=ae(R,w).g;R=F(R,L.j(w));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=L,D(R))return B+N;for(;6>B.length;)B="0"+B;N=B+N}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function D(P){if(P.h!=0)return!1;for(var w=0;w<P.g.length;w++)if(P.g[w]!=0)return!1;return!0}function H(P){return P.h==-1}n.l=function(P){return P=F(this,P),H(P)?-1:D(P)?0:1};function k(P){for(var w=P.g.length,R=[],N=0;N<w;N++)R[N]=~P.g[N];return new c(R,~P.h).add(S)}n.abs=function(){return H(this)?k(this):this},n.add=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],N=0,L=0;L<=w;L++){var B=N+(this.i(L)&65535)+(P.i(L)&65535),I=(B>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);N=I>>>16,B&=65535,I&=65535,R[L]=I<<16|B}return new c(R,R[R.length-1]&-2147483648?-1:0)};function F(P,w){return P.add(k(w))}n.j=function(P){if(D(this)||D(P))return T;if(H(this))return H(P)?k(this).j(k(P)):k(k(this).j(P));if(H(P))return k(this.j(k(P)));if(0>this.l(O)&&0>P.l(O))return g(this.m()*P.m());for(var w=this.g.length+P.g.length,R=[],N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<P.g.length;L++){var B=this.i(N)>>>16,I=this.i(N)&65535,Bt=P.i(L)>>>16,lt=P.i(L)&65535;R[2*N+2*L]+=I*lt,Q(R,2*N+2*L),R[2*N+2*L+1]+=B*lt,Q(R,2*N+2*L+1),R[2*N+2*L+1]+=I*Bt,Q(R,2*N+2*L+1),R[2*N+2*L+2]+=B*Bt,Q(R,2*N+2*L+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new c(R,0)};function Q(P,w){for(;(P[w]&65535)!=P[w];)P[w+1]+=P[w]>>>16,P[w]&=65535,w++}function ee(P,w){this.g=P,this.h=w}function ae(P,w){if(D(w))throw Error("division by zero");if(D(P))return new ee(T,T);if(H(P))return w=ae(k(P),w),new ee(k(w.g),k(w.h));if(H(w))return w=ae(P,k(w)),new ee(k(w.g),w.h);if(30<P.g.length){if(H(P)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=w;0>=N.l(P);)R=oe(R),N=oe(N);var L=de(R,1),B=de(N,1);for(N=de(N,2),R=de(R,2);!D(N);){var I=B.add(N);0>=I.l(P)&&(L=L.add(R),B=I),N=de(N,1),R=de(R,1)}return w=F(P,L.j(w)),new ee(L,w)}for(L=T;0<=P.l(w);){for(R=Math.max(1,Math.floor(P.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),B=g(R),I=B.j(w);H(I)||0<I.l(P);)R-=N,B=g(R),I=B.j(w);D(B)&&(B=S),L=L.add(B),P=F(P,I)}return new ee(L,P)}n.A=function(P){return ae(this,P).h},n.and=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)&P.i(N);return new c(R,this.h&P.h)},n.or=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)|P.i(N);return new c(R,this.h|P.h)},n.xor=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)^P.i(N);return new c(R,this.h^P.h)};function oe(P){for(var w=P.g.length+1,R=[],N=0;N<w;N++)R[N]=P.i(N)<<1|P.i(N-1)>>>31;return new c(R,P.h)}function de(P,w){var R=w>>5;w%=32;for(var N=P.g.length-R,L=[],B=0;B<N;B++)L[B]=0<w?P.i(B+R)>>>w|P.i(B+R+1)<<32-w:P.i(B+R);return new c(L,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,jA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,da=c}).apply(typeof tT<"u"?tT:typeof self<"u"?self:typeof window<"u"?window:{});var Ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HA,Ru,qA,nh,Ag,FA,$A,GA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,y){return f==Array.prototype||f==Object.prototype||(f[_]=y.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ff=="object"&&Ff];for(var _=0;_<f.length;++_){var y=f[_];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function s(f,_){if(_)e:{var y=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var z=f[A];if(!(z in y))break e;y=y[z]}f=f[f.length-1],A=y[f],_=_(A),_!=A&&_!=null&&e(y,f,{configurable:!0,writable:!0,value:_})}}function l(f,_){f instanceof String&&(f+="");var y=0,A=!1,z={next:function(){if(!A&&y<f.length){var K=y++;return{value:_(K,f[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(f){return f||function(){return l(this,function(_,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function g(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function v(f,_,y){return f.call.apply(f.bind,arguments)}function T(f,_,y){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),f.apply(_,z)}}return function(){return f.apply(_,arguments)}}function S(f,_,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function O(f,_){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function D(f,_){function y(){}y.prototype=_.prototype,f.aa=_.prototype,f.prototype=new y,f.prototype.constructor=f,f.Qb=function(A,z,K){for(var ie=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ie[ke-2]=arguments[ke];return _.prototype[z].apply(A,ie)}}function H(f){const _=f.length;if(0<_){const y=Array(_);for(let A=0;A<_;A++)y[A]=f[A];return y}return[]}function k(f,_){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(m(A)){const z=f.length||0,K=A.length||0;f.length=z+K;for(let ie=0;ie<K;ie++)f[z+ie]=A[ie]}else f.push(A)}}class F{constructor(_,y){this.i=_,this.j=y,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function Q(f){return/^[\s\xa0]*$/.test(f)}function ee(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function ae(f){return ae[" "](f),f}ae[" "]=function(){};var oe=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function de(f,_,y){for(const A in f)_.call(y,f[A],A,f)}function P(f,_){for(const y in f)_.call(void 0,f[y],y,f)}function w(f){const _={};for(const y in f)_[y]=f[y];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,_){let y,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(y in A)f[y]=A[y];for(let K=0;K<R.length;K++)y=R[K],Object.prototype.hasOwnProperty.call(A,y)&&(f[y]=A[y])}}function L(f){var _=1;f=f.split(":");const y=[];for(;0<_&&f.length;)y.push(f.shift()),_--;return f.length&&y.push(f.join(":")),y}function B(f){d.setTimeout(()=>{throw f},0)}function I(){var f=qe;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class Bt{constructor(){this.h=this.g=null}add(_,y){const A=lt.get();A.set(_,y),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new F(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,y){this.h=_,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,qe=new Bt,V=()=>{const f=d.Promise.resolve(void 0);le=()=>{f.then(te)}};var te=()=>{for(var f;f=I();){try{f.h.call(f.g)}catch(y){B(y)}var _=lt;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const y=()=>{};d.addEventListener("test",y,_),d.removeEventListener("test",y,_)}catch{}return f}();function De(f,_){if(re.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var y=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(oe){e:{try{ae(_.nodeName);var z=!0;break e}catch{}z=!1}z||(_=null)}}else y=="mouseover"?_=f.fromElement:y=="mouseout"&&(_=f.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Se[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&De.aa.h.call(this)}}D(De,re);var Se={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function ir(f,_,y,A,z){this.listener=f,this.proxy=null,this.src=_,this.type=y,this.capture=!!A,this.ha=z,this.key=++tt,this.da=this.fa=!1}function Oi(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function kr(f){this.src=f,this.g={},this.h=0}kr.prototype.add=function(f,_,y,A,z){var K=f.toString();f=this.g[K],f||(f=this.g[K]=[],this.h++);var ie=Da(f,_,A,z);return-1<ie?(_=f[ie],y||(_.fa=!1)):(_=new ir(_,this.src,K,!!A,z),_.fa=y,f.push(_)),_};function Ia(f,_){var y=_.type;if(y in f.g){var A=f.g[y],z=Array.prototype.indexOf.call(A,_,void 0),K;(K=0<=z)&&Array.prototype.splice.call(A,z,1),K&&(Oi(_),f.g[y].length==0&&(delete f.g[y],f.h--))}}function Da(f,_,y,A){for(var z=0;z<f.length;++z){var K=f[z];if(!K.da&&K.listener==_&&K.capture==!!y&&K.ha==A)return z}return-1}var Na="closure_lm_"+(1e6*Math.random()|0),fl={};function pc(f,_,y,A,z){if(Array.isArray(_)){for(var K=0;K<_.length;K++)pc(f,_[K],y,A,z);return null}return y=gc(y),f&&f[Nt]?f.K(_,y,g(A)?!!A.capture:!1,z):Cn(f,_,y,!1,A,z)}function Cn(f,_,y,A,z,K){if(!_)throw Error("Invalid event type");var ie=g(z)?!!z.capture:!!z,ke=Vs(f);if(ke||(f[Na]=ke=new kr(f)),y=ke.add(_,y,A,ie,K),y.proxy)return y;if(A=wd(),y.proxy=A,A.src=f,A.listener=y,f.addEventListener)pe||(z=ie),z===void 0&&(z=!1),f.addEventListener(_.toString(),A,z);else if(f.attachEvent)f.attachEvent(Ma(_.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function wd(){function f(y){return _.call(f.src,f.listener,y)}const _=Rd;return f}function hl(f,_,y,A,z){if(Array.isArray(_))for(var K=0;K<_.length;K++)hl(f,_[K],y,A,z);else A=g(A)?!!A.capture:!!A,y=gc(y),f&&f[Nt]?(f=f.i,_=String(_).toString(),_ in f.g&&(K=f.g[_],y=Da(K,y,A,z),-1<y&&(Oi(K[y]),Array.prototype.splice.call(K,y,1),K.length==0&&(delete f.g[_],f.h--)))):f&&(f=Vs(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Da(_,y,A,z)),(y=-1<f?_[f]:null)&&Ps(y))}function Ps(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Nt])Ia(_.i,f);else{var y=f.type,A=f.proxy;_.removeEventListener?_.removeEventListener(y,A,f.capture):_.detachEvent?_.detachEvent(Ma(y),A):_.addListener&&_.removeListener&&_.removeListener(A),(y=Vs(_))?(Ia(y,f),y.h==0&&(y.src=null,_[Na]=null)):Oi(f)}}}function Ma(f){return f in fl?fl[f]:fl[f]="on"+f}function Rd(f,_){if(f.da)f=!0;else{_=new De(_,this);var y=f.listener,A=f.ha||f.src;f.fa&&Ps(f),f=y.call(A,_)}return f}function Vs(f){return f=f[Na],f instanceof kr?f:null}var dl="__closure_events_fn_"+(1e9*Math.random()>>>0);function gc(f){return typeof f=="function"?f:(f[dl]||(f[dl]=function(_){return f.handleEvent(_)}),f[dl])}function ut(){ue.call(this),this.i=new kr(this),this.M=this,this.F=null}D(ut,ue),ut.prototype[Nt]=!0,ut.prototype.removeEventListener=function(f,_,y,A){hl(this,f,_,y,A)};function Ke(f,_){var y,A=f.F;if(A)for(y=[];A;A=A.F)y.push(A);if(f=f.M,A=_.type||_,typeof _=="string")_=new re(_,f);else if(_ instanceof re)_.target=_.target||f;else{var z=_;_=new re(A,f),N(_,z)}if(z=!0,y)for(var K=y.length-1;0<=K;K--){var ie=_.g=y[K];z=dn(ie,A,!0,_)&&z}if(ie=_.g=f,z=dn(ie,A,!0,_)&&z,z=dn(ie,A,!1,_)&&z,y)for(K=0;K<y.length;K++)ie=_.g=y[K],z=dn(ie,A,!1,_)&&z}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var y=f.g[_],A=0;A<y.length;A++)Oi(y[A]);delete f.g[_],f.h--}}this.F=null},ut.prototype.K=function(f,_,y,A){return this.i.add(String(f),_,!1,y,A)},ut.prototype.L=function(f,_,y,A){return this.i.add(String(f),_,!0,y,A)};function dn(f,_,y,A){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var z=!0,K=0;K<_.length;++K){var ie=_[K];if(ie&&!ie.da&&ie.capture==y){var ke=ie.listener,At=ie.ha||ie.src;ie.fa&&Ia(f.i,ie),z=ke.call(At,A)!==!1&&z}}return z&&!A.defaultPrevented}function Yt(f,_,y){if(typeof f=="function")y&&(f=S(f,y));else if(f&&typeof f.handleEvent=="function")f=S(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(f,_||0)}function _c(f){f.g=Yt(()=>{f.g=null,f.i&&(f.i=!1,_c(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Cd extends ue{constructor(_,y){super(),this.m=_,this.l=y,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:_c(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(f){ue.call(this),this.h=f,this.g={}}D(Pa,ue);var Va=[];function xa(f){de(f.g,function(_,y){this.g.hasOwnProperty(y)&&Ps(_)},f),f.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),xa(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=d.JSON.stringify,xs=d.JSON.parse,ka=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function ml(){}ml.prototype.h=null;function pl(f){return f.h||(f.h=f.i())}function gl(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ur(){re.call(this,"d")}D(Ur,re);function _l(){re.call(this,"c")}D(_l,re);var ar={},vl=null;function Ii(){return vl=vl||new ut}ar.La="serverreachability";function ks(f){re.call(this,ar.La,f)}D(ks,re);function Di(f){const _=Ii();Ke(_,new ks(_))}ar.STAT_EVENT="statevent";function vc(f,_){re.call(this,ar.STAT_EVENT,f),this.stat=_}D(vc,re);function it(f){const _=Ii();Ke(_,new vc(_,f))}ar.Ma="timingevent";function bt(f,_){re.call(this,ar.Ma,f),this.size=_}D(bt,re);function _t(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},_)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function yl(f,_,y,A,z,K){f.info(function(){if(f.g)if(K)for(var ie="",ke=K.split("&"),At=0;At<ke.length;At++){var Le=ke[At].split("=");if(1<Le.length){var Pt=Le[0];Le=Le[1];var St=Pt.split("_");ie=2<=St.length&&St[1]=="type"?ie+(Pt+"="+Le+"&"):ie+(Pt+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+_+`
`+y+`
`+ie})}function Od(f,_,y,A,z,K,ie){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+_+`
`+y+`
`+K+" "+ie})}function Ni(f,_,y,A){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+La(f,y)+(A?" "+A:"")})}function yc(f,_){f.info(function(){return"TIMEOUT: "+_})}On.prototype.info=function(){};function La(f,_){if(!f.g)return _;if(!_)return null;try{var y=JSON.parse(_);if(y){for(f=0;f<y.length;f++)if(Array.isArray(y[f])){var A=y[f];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return Fn(y)}catch{return _}}var Mi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sr;function or(){}D(or,ml),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},sr=new or;function nn(f,_,y,A){this.j=f,this.i=_,this.l=y,this.R=A||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var El={},Ls={};function $n(f,_,y){f.L=1,f.v=Ha(mn(_)),f.m=y,f.P=!0,zr(f,null)}function zr(f,_){f.F=Date.now(),Ua(f),f.A=mn(f.v);var y=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),Rl(y.i,"t",A),f.C=0,y=f.j.J,f.h=new dt,f.g=xc(f.j,y?_:null,!f.m),0<f.O&&(f.M=new Cd(S(f.Y,f,f.g),f.O)),_=f.U,y=f.g,A=f.ca;var z="readystatechange";Array.isArray(z)||(z&&(Va[0]=z.toString()),z=Va);for(var K=0;K<z.length;K++){var ie=pc(y,z[K],A||_.handleEvent,!1,_.h||_);if(!ie)break;_.g[ie.key]=ie}_=f.H?w(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Di(),yl(f.i,f.u,f.A,f.l,f.R,f.m)}nn.prototype.ca=function(f){f=f.target;const _=this.M;_&&Mn(f)==3?_.j():this.Y(f)},nn.prototype.Y=function(f){try{if(f==this.g)e:{const St=Mn(this.g);var _=this.g.Ba();const Qr=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Cc(this.g)))){this.J||St!=4||_==7||(_==8||0>=Qr?Di(3):Di(2)),Pi(this);var y=this.g.Z();this.X=y;t:if(Ec(this)){var A=Cc(this.g);f="";var z=A.length,K=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),lr(this);var ie="";break t}this.h.i=new d.TextDecoder}for(_=0;_<z;_++)this.h.h=!0,f+=this.h.i.decode(A[_],{stream:!(K&&_==z-1)});A.length=0,this.h.g+=f,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,Od(this.i,this.u,this.A,this.l,this.R,St,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,At=this.g;if((ke=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(ke)){var Le=ke;break t}}Le=null}if(y=Le)Ni(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ba(this,y);else{this.o=!1,this.s=3,it(12),zt(this),lr(this);break e}}if(this.P){y=!0;let jt;for(;!this.J&&this.C<ie.length;)if(jt=Tc(this,ie),jt==Ls){St==4&&(this.s=4,it(14),y=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==El){this.s=4,it(15),Ni(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else Ni(this.i,this.l,jt,null),Ba(this,jt);if(Ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ie.length!=0||this.h.h||(this.s=1,it(16),y=!1),this.o=this.o&&y,!y)Ni(this.i,this.l,ie,"[Invalid Chunked Response]"),zt(this),lr(this);else if(0<ie.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Xa(Pt),Pt.M=!0,it(11))}}else Ni(this.i,this.l,ie,null),Ba(this,ie);St==4&&zt(this),this.o&&!this.J&&(St==4?Mc(this.j,this):(this.o=!1,Ua(this)))}else Pd(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),zt(this),lr(this)}}}catch{}finally{}};function Ec(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Tc(f,_){var y=f.C,A=_.indexOf(`
`,y);return A==-1?Ls:(y=Number(_.substring(y,A)),isNaN(y)?El:(A+=1,A+y>_.length?Ls:(_=_.slice(A,A+y),f.C=A+y,_)))}nn.prototype.cancel=function(){this.J=!0,zt(this)};function Ua(f){f.S=Date.now()+f.I,bc(f,f.I)}function bc(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=_t(S(f.ba,f),_)}function Pi(f){f.B&&(d.clearTimeout(f.B),f.B=null)}nn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(yc(this.i,this.A),this.L!=2&&(Di(),it(17)),zt(this),this.s=2,lr(this)):bc(this,this.S-f)};function lr(f){f.j.G==0||f.J||Mc(f.j,f)}function zt(f){Pi(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,xa(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function Ba(f,_){try{var y=f.j;if(y.G!=0&&(y.g==f||Tl(y.h,f))){if(!f.K&&Tl(y.h,f)&&y.G==3){try{var A=y.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<f.F)Ys(y),Ks(y);else break e;Nl(y),it(18)}}else y.za=z[1],0<y.za-y.T&&37500>z[2]&&y.F&&y.v==0&&!y.C&&(y.C=_t(S(y.Za,y),6e3));if(1>=Bs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Kr(y,11)}else if((f.K||y.g==f)&&Ys(y),!Q(_))for(z=y.Da.g.parse(_),_=0;_<z.length;_++){let Le=z[_];if(y.T=Le[0],Le=Le[1],y.G==2)if(Le[0]=="c"){y.K=Le[1],y.ia=Le[2];const Pt=Le[3];Pt!=null&&(y.la=Pt,y.j.info("VER="+y.la));const St=Le[4];St!=null&&(y.Aa=St,y.j.info("SVER="+y.Aa));const Qr=Le[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(A=1.5*Qr,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const jt=f.g;if(jt){const pr=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var K=A.h;K.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(zs(K,K.h),K.h=null))}if(A.D){const Pl=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Pl&&(A.ya=Pl,Xe(A.I,A.D,Pl))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-f.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var ie=f;if(A.qa=Vc(A,A.J?A.ia:null,A.W),ie.K){rn(A.h,ie);var ke=ie,At=A.L;At&&(ke.I=At),ke.B&&(Pi(ke),Ua(ke)),A.g=ie}else Dc(A);0<y.i.length&&Qs(y)}else Le[0]!="stop"&&Le[0]!="close"||Kr(y,7);else y.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Kr(y,7):Il(y):Le[0]!="noop"&&y.l&&y.l.ta(Le),y.v=0)}}Di(4)}catch{}}var Ac=class{constructor(f,_){this.g=f,this.map=_}};function jr(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Us(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Bs(f){return f.h?1:f.g?f.g.size:0}function Tl(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function zs(f,_){f.g?f.g.add(_):f.h=_}function rn(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}jr.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function bl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const y of f.g.values())_=_.concat(y.D);return _}return H(f.i)}function Id(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var _=[],y=f.length,A=0;A<y;A++)_.push(f[A]);return _}_=[],y=0;for(A in f)_[y++]=f[A];return _}function js(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var _=[];f=f.length;for(var y=0;y<f;y++)_.push(y);return _}_=[],y=0;for(const A in f)_[y++]=A;return _}}}function Al(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var y=js(f),A=Id(f),z=A.length,K=0;K<z;K++)_.call(void 0,A[K],y&&y[K],f)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dd(f,_){if(f){f=f.split("&");for(var y=0;y<f.length;y++){var A=f[y].indexOf("="),z=null;if(0<=A){var K=f[y].substring(0,A);z=f[y].substring(A+1)}else K=f[y];_(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function vt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof vt){this.h=f.h,ja(this,f.j),this.o=f.o,this.g=f.g,Vi(this,f.s),this.l=f.l;var _=f.i,y=new qr;y.i=_.i,_.g&&(y.g=new Map(_.g),y.h=_.h),Hr(this,y),this.m=f.m}else f&&(_=String(f).match(za))?(this.h=!1,ja(this,_[1]||"",!0),this.o=In(_[2]||""),this.g=In(_[3]||"",!0),Vi(this,_[4]),this.l=In(_[5]||"",!0),Hr(this,_[6]||"",!0),this.m=In(_[7]||"")):(this.h=!1,this.i=new qr(null,this.h))}vt.prototype.toString=function(){var f=[],_=this.j;_&&f.push(qa(_,Sl,!0),":");var y=this.g;return(y||_=="file")&&(f.push("//"),(_=this.o)&&f.push(qa(_,Sl,!0),"@"),f.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&f.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&f.push("/"),f.push(qa(y,y.charAt(0)=="/"?Nd:wl,!0))),(y=this.i.toString())&&f.push("?",y),(y=this.m)&&f.push("#",qa(y,Hs)),f.join("")};function mn(f){return new vt(f)}function ja(f,_,y){f.j=y?In(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Vi(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Hr(f,_,y){_ instanceof qr?(f.i=_,wc(f.i,f.h)):(y||(_=qa(_,Md)),f.i=new qr(_,f.h))}function Xe(f,_,y){f.i.set(_,y)}function Ha(f){return Xe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function In(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qa(f,_,y){return typeof f=="string"?(f=encodeURI(f).replace(_,Sc),y&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Sc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Sl=/[#\/\?@]/g,wl=/[#\?:]/g,Nd=/[#\?]/g,Md=/[#\?@]/g,Hs=/#/g;function qr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Dn(f){f.g||(f.g=new Map,f.h=0,f.i&&Dd(f.i,function(_,y){f.add(decodeURIComponent(_.replace(/\+/g," ")),y)}))}n=qr.prototype,n.add=function(f,_){Dn(this),this.i=null,f=ur(this,f);var y=this.g.get(f);return y||this.g.set(f,y=[]),y.push(_),this.h+=1,this};function Fr(f,_){Dn(f),_=ur(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function $r(f,_){return Dn(f),_=ur(f,_),f.g.has(_)}n.forEach=function(f,_){Dn(this),this.g.forEach(function(y,A){y.forEach(function(z){f.call(_,z,A,this)},this)},this)},n.na=function(){Dn(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),y=[];for(let A=0;A<_.length;A++){const z=f[A];for(let K=0;K<z.length;K++)y.push(_[A])}return y},n.V=function(f){Dn(this);let _=[];if(typeof f=="string")$r(this,f)&&(_=_.concat(this.g.get(ur(this,f))));else{f=Array.from(this.g.values());for(let y=0;y<f.length;y++)_=_.concat(f[y])}return _},n.set=function(f,_){return Dn(this),this.i=null,f=ur(this,f),$r(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Rl(f,_,y){Fr(f,_),0<y.length&&(f.i=null,f.g.set(ur(f,_),H(y)),f.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var y=0;y<_.length;y++){var A=_[y];const K=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var z=K;ie[A]!==""&&(z+="="+encodeURIComponent(String(ie[A]))),f.push(z)}}return this.i=f.join("&")};function ur(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function wc(f,_){_&&!f.j&&(Dn(f),f.i=null,f.g.forEach(function(y,A){var z=A.toLowerCase();A!=z&&(Fr(this,A),Rl(this,z,y))},f)),f.j=_}function Fa(f,_){const y=new On;if(d.Image){const A=new Image;A.onload=O(Nn,y,"TestLoadImage: loaded",!0,_,A),A.onerror=O(Nn,y,"TestLoadImage: error",!1,_,A),A.onabort=O(Nn,y,"TestLoadImage: abort",!1,_,A),A.ontimeout=O(Nn,y,"TestLoadImage: timeout",!1,_,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else _(!1)}function Gn(f,_){const y=new On,A=new AbortController,z=setTimeout(()=>{A.abort(),Nn(y,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:A.signal}).then(K=>{clearTimeout(z),K.ok?Nn(y,"TestPingServer: ok",!0,_):Nn(y,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),Nn(y,"TestPingServer: error",!1,_)})}function Nn(f,_,y,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(y)}catch{}}function $a(){this.g=new ka}function cr(f,_,y){const A=y||"";try{Al(f,function(z,K){let ie=z;g(z)&&(ie=Fn(z)),_.push(A+K+"="+encodeURIComponent(ie))})}catch(z){throw _.push(A+"type="+encodeURIComponent("_badmap")),z}}function xi(f){this.l=f.Ub||null,this.j=f.eb||!1}D(xi,ml),xi.prototype.g=function(){return new Gr(this.l,this.j)},xi.prototype.i=function(f){return function(){return f}}({});function Gr(f,_){ut.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Gr,ut),n=Gr.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,hr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?fr(this):hr(this),this.readyState==3&&Cl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,fr(this))},n.Qa=function(f){this.g&&(this.response=f,fr(this))},n.ga=function(){this.g&&fr(this)};function fr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,hr(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var y=_.next();!y.done;)y=y.value,f.push(y[0]+": "+y[1]),y=_.next();return f.join(`\r
`)};function hr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ol(f){let _="";return de(f,function(y,A){_+=A,_+=":",_+=y,_+=`\r
`}),_}function Mt(f,_,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=Ol(y),typeof f=="string"?y!=null&&encodeURIComponent(String(y)):Xe(f,_,y))}function $e(f){ut.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D($e,ut);var qs=/^https?$/i,Ga=["POST","PUT"];n=$e.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sr.g(),this.v=this.o?pl(this.o):pl(sr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(K){Rc(this,K);return}if(f=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)y.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())y.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(K=>K.toLowerCase()=="content-type"),z=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ga,_,void 0))||A||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of y)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ka(this),this.u=!0,this.g.send(f),this.u=!1}catch(K){Rc(this,K)}};function Rc(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Fs(f),dr(f)}function Fs(f){f.A||(f.A=!0,Ke(f,"complete"),Ke(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ke(this,"complete"),Ke(this,"abort"),dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),$e.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$s(this):this.bb())},n.bb=function(){$s(this)};function $s(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Mn(f)!=4||f.Z()!=2)){if(f.u&&Mn(f)==4)Yt(f.Ea,0,f);else if(Ke(f,"readystatechange"),Mn(f)==4){f.h=!1;try{const ie=f.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var y;if(!(y=_)){var A;if(A=ie===0){var z=String(f.D).match(za)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),A=!qs.test(z?z.toLowerCase():"")}y=A}if(y)Ke(f,"complete"),Ke(f,"success");else{f.m=6;try{var K=2<Mn(f)?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.Z()+"]",Fs(f)}}finally{dr(f)}}}}function dr(f,_){if(f.g){Ka(f);const y=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Ke(f,"ready");try{y.onreadystatechange=A}catch{}}}function Ka(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Mn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),xs(_)}};function Cc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Pd(f){const _={};f=(f.g&&2<=Mn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(Q(f[A]))continue;var y=L(f[A]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const K=_[z]||[];_[z]=K,K.push(y)}P(_,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(f,_,y){return y&&y.internalChannelParams&&y.internalChannelParams[f]||_}function Gs(f){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,f),this.cb=Qa("retryDelaySeedMs",1e4,f),this.Wa=Qa("forwardChannelMaxRetries",2,f),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new jr(f&&f.concurrentRequestLimit),this.Da=new $a,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Gs.prototype,n.la=8,n.G=1,n.connect=function(f,_,y,A){it(0),this.W=f,this.H=_||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=Vc(this,null,this.W),Qs(this)};function Il(f){if(Oc(f),f.G==3){var _=f.U++,y=mn(f.I);if(Xe(y,"SID",f.K),Xe(y,"RID",_),Xe(y,"TYPE","terminate"),Ya(f,y),_=new nn(f,f.j,_),_.L=2,_.v=Ha(mn(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=_.v,y=!0),y||(_.g=xc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ua(_)}Pc(f)}function Ks(f){f.g&&(Xa(f),f.g.cancel(),f.g=null)}function Oc(f){Ks(f),f.u&&(d.clearTimeout(f.u),f.u=null),Ys(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Qs(f){if(!Us(f.h)&&!f.s){f.s=!0;var _=f.Ga;le||V(),me||(le(),me=!0),qe.add(_,f),f.B=0}}function Vd(f,_){return Bs(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=_t(S(f.Ga,f,_),Ml(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const z=new nn(this,this.j,f);let K=this.o;if(this.S&&(K?(K=w(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var _=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=y;break e}if(_===4096||y===this.i.length-1){_=y+1;break e}}_=1e3}else _=1e3;_=Ic(this,z,_),y=mn(this.I),Xe(y,"RID",f),Xe(y,"CVER",22),this.D&&Xe(y,"X-HTTP-Session-Id",this.D),Ya(this,y),K&&(this.O?_="headers="+encodeURIComponent(String(Ol(K)))+"&"+_:this.m&&Mt(y,this.m,K)),zs(this.h,z),this.Ua&&Xe(y,"TYPE","init"),this.P?(Xe(y,"$req",_),Xe(y,"SID","null"),z.T=!0,$n(z,y,null)):$n(z,y,_),this.G=2}}else this.G==3&&(f?Dl(this,f):this.i.length==0||Us(this.h)||Dl(this))};function Dl(f,_){var y;_?y=_.l:y=f.U++;const A=mn(f.I);Xe(A,"SID",f.K),Xe(A,"RID",y),Xe(A,"AID",f.T),Ya(f,A),f.m&&f.o&&Mt(A,f.m,f.o),y=new nn(f,f.j,y,f.B+1),f.m===null&&(y.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Ic(f,y,1e3),y.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),zs(f.h,y),$n(y,A,_)}function Ya(f,_){f.H&&de(f.H,function(y,A){Xe(_,A,y)}),f.l&&Al({},function(y,A){Xe(_,A,y)})}function Ic(f,_,y){y=Math.min(f.i.length,y);var A=f.l?S(f.l.Na,f.l,f):null;e:{var z=f.i;let K=-1;for(;;){const ie=["count="+y];K==-1?0<y?(K=z[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let ke=!0;for(let At=0;At<y;At++){let Le=z[At].g;const Pt=z[At].map;if(Le-=K,0>Le)K=Math.max(0,z[At].g-100),ke=!1;else try{cr(Pt,ie,"req"+Le+"_")}catch{A&&A(Pt)}}if(ke){A=ie.join("&");break e}}}return f=f.i.splice(0,y),_.D=f,A}function Dc(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;le||V(),me||(le(),me=!0),qe.add(_,f),f.v=0}}function Nl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=_t(S(f.Fa,f),Ml(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=_t(S(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Ks(this),Nc(this))};function Xa(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Nc(f){f.g=new nn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=mn(f.qa);Xe(_,"RID","rpc"),Xe(_,"SID",f.K),Xe(_,"AID",f.T),Xe(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Xe(_,"TO",f.ja),Xe(_,"TYPE","xmlhttp"),Ya(f,_),f.m&&f.o&&Mt(_,f.m,f.o),f.L&&(f.g.I=f.L);var y=f.g;f=f.ia,y.L=1,y.v=Ha(mn(_)),y.m=null,y.P=!0,zr(y,f)}n.Za=function(){this.C!=null&&(this.C=null,Ks(this),Nl(this),it(19))};function Ys(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Mc(f,_){var y=null;if(f.g==_){Ys(f),Xa(f),f.g=null;var A=2}else if(Tl(f.h,_))y=_.D,rn(f.h,_),A=1;else return;if(f.G!=0){if(_.o)if(A==1){y=_.m?_.m.length:0,_=Date.now()-_.F;var z=f.B;A=Ii(),Ke(A,new bt(A,y)),Qs(f)}else Dc(f);else if(z=_.s,z==3||z==0&&0<_.X||!(A==1&&Vd(f,_)||A==2&&Nl(f)))switch(y&&0<y.length&&(_=f.h,_.i=_.i.concat(y)),z){case 1:Kr(f,5);break;case 4:Kr(f,10);break;case 3:Kr(f,6);break;default:Kr(f,2)}}}function Ml(f,_){let y=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(y*=2),y*_}function Kr(f,_){if(f.j.info("Error code "+_),_==2){var y=S(f.fb,f),A=f.Xa;const z=!A;A=new vt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ja(A,"https"),Ha(A),z?Fa(A.toString(),y):Gn(A.toString(),y)}else it(2);f.G=0,f.l&&f.l.sa(_),Pc(f),Oc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Pc(f){if(f.G=0,f.ka=[],f.l){const _=bl(f.h);(_.length!=0||f.i.length!=0)&&(k(f.ka,_),k(f.ka,f.i),f.h.i.length=0,H(f.i),f.i.length=0),f.l.ra()}}function Vc(f,_,y){var A=y instanceof vt?mn(y):new vt(y);if(A.g!="")_&&(A.g=_+"."+A.g),Vi(A,A.s);else{var z=d.location;A=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;var K=new vt(null);A&&ja(K,A),_&&(K.g=_),z&&Vi(K,z),y&&(K.l=y),A=K}return y=f.D,_=f.ya,y&&_&&Xe(A,y,_),Xe(A,"VER",f.la),Ya(f,A),A}function xc(f,_,y){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new $e(new xi({eb:y})):new $e(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}n=kc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xs(){}Xs.prototype.g=function(f,_){return new an(f,_)};function an(f,_){ut.call(this),this.g=new Gs(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!Q(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!Q(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new mr(this)}D(an,ut),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Il(this.g)},an.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var y={};y.__data__=f,f=y}else this.u&&(y={},y.__data__=Fn(f),f=y);_.i.push(new Ac(_.Ya++,f)),_.G==3&&Qs(_)},an.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,an.aa.N.call(this)};function Lc(f){Ur.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const y in _){f=y;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}D(Lc,Ur);function Uc(){_l.call(this),this.status=1}D(Uc,_l);function mr(f){this.g=f}D(mr,kc),mr.prototype.ua=function(){Ke(this.g,"a")},mr.prototype.ta=function(f){Ke(this.g,new Lc(f))},mr.prototype.sa=function(f){Ke(this.g,new Uc)},mr.prototype.ra=function(){Ke(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,GA=function(){return new Xs},$A=function(){return Ii()},FA=ar,Ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mi.NO_ERROR=0,Mi.TIMEOUT=8,Mi.HTTP_ERROR=6,nh=Mi,Br.COMPLETE="complete",qA=Br,gl.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Ru=gl,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,HA=$e}).apply(typeof Ff<"u"?Ff:typeof self<"u"?self:typeof window<"u"?window:{});const nT="@firebase/firestore",rT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new r_("@firebase/firestore");function Co(){return Es.logLevel}function ce(n,...e){if(Es.logLevel<=Ve.DEBUG){const t=e.map(s_);Es.debug(`Firestore (${rl}): ${n}`,...t)}}function Ti(n,...e){if(Es.logLevel<=Ve.ERROR){const t=e.map(s_);Es.error(`Firestore (${rl}): ${n}`,...t)}}function Ho(n,...e){if(Es.logLevel<=Ve.WARN){const t=e.map(s_);Es.warn(`Firestore (${rl}): ${n}`,...t)}}function s_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: `+n;throw Ti(e),new Error(e)}function Ge(n,e){n||Ae()}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class oN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let i=this.i;const s=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ma,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},d=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ma)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string"),new KA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Jt(e)}}class uN{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cN{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new uN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0);const i=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new iT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new iT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=hN(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function Ie(n,e){return n<e?-1:n>e?1:0}function Sg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Ie(i,s);{const l=QA(),c=dN(l.encode(aT(n,t)),l.encode(aT(e,t)));return c!==0?c:Ie(i,s)}}t+=i>65535?2:1}return Ie(n.length,e.length)}function aT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function dN(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ie(n[t],e[t]);return Ie(n.length,e.length)}function qo(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=-62135596800,oT=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*oT);return new It(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sT)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oT}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new It(0,0))}static max(){return new we(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="__name__";class Tr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(),i===void 0?i=e.length-t:i>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=Tr.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Ie(e.length,t.length)}static compareSegments(e,t){const i=Tr.isNumericId(e),s=Tr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):Sg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class ht extends Tr{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const mN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Tr{construct(e,t,i){return new Gt(e,t,i)}static isValidIdentifier(e){return mN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lT}static keyField(){return new Gt([lT])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ht.fromString(e))}static fromName(e){return new ve(ht.fromString(e).popFirst(5))}static empty(){return new ve(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function pN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=we.fromTimestamp(i===1e9?new It(t+1,0):new It(t,i));return new _a(s,ve.empty(),e)}function gN(n){return new _a(n.readTime,n.key,qu)}class _a{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _a(we.min(),ve.empty(),qu)}static max(){return new _a(we.max(),ve.empty(),qu)}}function _N(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ie(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==vN)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,i)=>{t(e)})}static reject(e){return new J((t,i)=>{i(e)})}static waitFor(e){return new J((t,i)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&t()},m=>i(m))}),c=!0,l===s&&t()})}static or(e){let t=J.resolve(!1);for(const i of e)t=t.next(s=>s?J.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new J((i,s)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(v=>{c[g]=v,++d,d===l&&i(c)},v=>s(v))}})}static doWhile(e,t){return new J((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function EN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function al(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}nd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-1;function rd(n){return n==null}function Sh(n){return n===0&&1/n==-1/0}function TN(n){return typeof n=="number"&&Number.isInteger(n)&&!Sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="";function bN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uT(e)),e=AN(n.get(t),e);return uT(e)}function AN(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case XA:t+="";break;default:t+=l}}return t}function uT(n){return n+XA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ra(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $f(this.root,e,this.comparator,!1)}getReverseIterator(){return new $f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $f(this.root,e,this.comparator,!0)}}class $f{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??$t.RED,this.left=s??$t.EMPTY,this.right=l??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new $t(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,i,s,l){return this}insert(e,t,i){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fT(this.data.getIterator())}getIteratorFrom(e){return new fT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class fT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new Dt(Gt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ZA("Invalid base64 string: "+l):l}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const SN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(n){if(Ge(!!n),typeof n=="string"){let e=0;const t=SN.exec(n);if(Ge(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ya(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="server_timestamp",eS="__type__",tS="__previous_value__",nS="__local_write_time__";function l_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[eS])===null||t===void 0?void 0:t.stringValue)===JA}function id(n){const e=n.mapValue.fields[tS];return l_(e)?id(e):e}function Fu(n){const e=va(n.mapValue.fields[nS].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t,i,s,l,c,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const wh="(default)";class $u{constructor(e,t){this.projectId=e,this.database=t||wh}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="__type__",RN="__max__",Gf={mapValue:{}},iS="__vector__",Rh="value";function Ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?l_(n)?4:ON(n)?9007199254740991:CN(n)?10:11:Ae()}function Mr(n,e){if(n===e)return!0;const t=Ea(n);if(t!==Ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fu(n).isEqual(Fu(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=va(s.timestampValue),d=va(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return ya(s.bytesValue).isEqual(ya(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return gt(s.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(s.geoPointValue.longitude)===gt(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return gt(s.integerValue)===gt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=gt(s.doubleValue),d=gt(l.doubleValue);return c===d?Sh(c)===Sh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return qo(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(cT(c)!==cT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Mr(c[m],d[m])))return!1;return!0}(n,e);default:return Ae()}}function Gu(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function Fo(n,e){if(n===e)return 0;const t=Ea(n),i=Ea(e);if(t!==i)return Ie(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=gt(l.integerValue||l.doubleValue),m=gt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return hT(n.timestampValue,e.timestampValue);case 4:return hT(Fu(n),Fu(e));case 5:return Sg(n.stringValue,e.stringValue);case 6:return function(l,c){const d=ya(l),m=ya(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Ie(d[g],m[g]);if(v!==0)return v}return Ie(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ie(gt(l.latitude),gt(c.latitude));return d!==0?d:Ie(gt(l.longitude),gt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return dT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,v;const T=l.fields||{},S=c.fields||{},O=(d=T[Rh])===null||d===void 0?void 0:d.arrayValue,D=(m=S[Rh])===null||m===void 0?void 0:m.arrayValue,H=Ie(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return H!==0?H:dT(O,D)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Gf.mapValue&&c===Gf.mapValue)return 0;if(l===Gf.mapValue)return 1;if(c===Gf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const S=Sg(m[T],v[T]);if(S!==0)return S;const O=Fo(d[m[T]],g[v[T]]);if(O!==0)return O}return Ie(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function hT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ie(n,e);const t=va(n),i=va(e),s=Ie(t.seconds,i.seconds);return s!==0?s:Ie(t.nanos,i.nanos)}function dT(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=Fo(t[s],i[s]);if(l)return l}return Ie(t.length,i.length)}function $o(n){return wg(n)}function wg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=va(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ya(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=wg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${wg(t.fields[c])}`;return s+"}"}(n.mapValue):Ae()}function rh(n){switch(Ea(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=id(n);return e?16+rh(e):16;case 5:return 2*n.stringValue.length;case 6:return ya(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+rh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Ra(i.fields,(l,c)=>{s+=l.length+rh(c)}),s}(n.mapValue);default:throw Ae()}}function Rg(n){return!!n&&"integerValue"in n}function u_(n){return!!n&&"arrayValue"in n}function mT(n){return!!n&&"nullValue"in n}function pT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ih(n){return!!n&&"mapValue"in n}function CN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rS])===null||t===void 0?void 0:t.stringValue)===iS}function Pu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ra(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Pu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ON(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(t)}setAll(e){let t=Gt.emptyPath(),i={},s=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,s),i={},s=[],t=d.popLast()}c?i[d.lastSegment()]=Pu(c):s.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];ih(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Ra(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new hn(Pu(this.value))}}function aS(n){const e=[];return Ra(n.fields,(t,i)=>{const s=new Gt([t]);if(ih(i)){const l=aS(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,i,s,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),hn.empty(),0)}static newFoundDocument(e,t,i,s){return new en(e,1,t,we.min(),i,s,0)}static newNoDocument(e,t){return new en(e,2,t,we.min(),we.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,we.min(),we.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t){this.position=e,this.inclusive=t}}function gT(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=Fo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function _T(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t="asc"){this.field=e,this.dir=t}}function IN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class Ct extends sS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new NN(e,t,i):t==="array-contains"?new VN(e,i):t==="in"?new xN(e,i):t==="not-in"?new kN(e,i):t==="array-contains-any"?new LN(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new MN(e,i):new PN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Fo(t,this.value)):t!==null&&Ea(this.value)===Ea(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends sS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Pr(e,t)}matches(e){return oS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function oS(n){return n.op==="and"}function lS(n){return DN(n)&&oS(n)}function DN(n){for(const e of n.filters)if(e instanceof Pr)return!1;return!0}function Cg(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(lS(n))return n.filters.map(e=>Cg(e)).join(",");{const e=n.filters.map(t=>Cg(t)).join(",");return`${n.op}(${e})`}}function uS(n,e){return n instanceof Ct?function(i,s){return s instanceof Ct&&i.op===s.op&&i.field.isEqual(s.field)&&Mr(i.value,s.value)}(n,e):n instanceof Pr?function(i,s){return s instanceof Pr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,d)=>l&&uS(c,s.filters[d]),!0):!1}(n,e):void Ae()}function cS(n){return n instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`}(n):n instanceof Pr?function(t){return t.op.toString()+" {"+t.getFilters().map(cS).join(" ,")+"}"}(n):"Filter"}class NN extends Ct{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class MN extends Ct{constructor(e,t){super(e,"in",t),this.keys=fS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PN extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=fS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class VN extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return u_(t)&&Gu(t.arrayValue,this.value)}}class xN extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gu(this.value.arrayValue,t)}}class kN extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Gu(this.value.arrayValue,t)}}class LN extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!u_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Gu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t=null,i=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function vT(n,e=null,t=[],i=[],s=null,l=null,c=null){return new UN(n,e,t,i,s,l,c)}function c_(n){const e=Re(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Cg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>$o(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>$o(i)).join(",")),e.le=t}return e.le}function f_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_T(n.startAt,e.startAt)&&_T(n.endAt,e.endAt)}function Og(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t=null,i=[],s=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function BN(n,e,t,i,s,l,c,d){return new ad(n,e,t,i,s,l,c,d)}function h_(n){return new ad(n)}function yT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zN(n){return n.collectionGroup!==null}function Vu(n){const e=Re(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Dt(Gt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Oh(l,i))}),t.has(Gt.keyField().canonicalString())||e.he.push(new Oh(Gt.keyField(),i))}return e.he}function Cr(n){const e=Re(n);return e.Pe||(e.Pe=jN(e,Vu(n))),e.Pe}function jN(n,e){if(n.limitType==="F")return vT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Oh(s.field,l)});const t=n.endAt?new Ch(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ch(n.startAt.position,n.startAt.inclusive):null;return vT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Ig(n,e,t){return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sd(n,e){return f_(Cr(n),Cr(e))&&n.limitType===e.limitType}function hS(n){return`${c_(Cr(n))}|lt:${n.limitType}`}function Oo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>cS(s)).join(", ")}]`),rd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>$o(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>$o(s)).join(",")),`Target(${i})`}(Cr(n))}; limitType=${n.limitType})`}function od(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of Vu(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,d,m){const g=gT(c,d,m);return c.inclusive?g<=0:g<0}(i.startAt,Vu(i),s)||i.endAt&&!function(c,d,m){const g=gT(c,d,m);return c.inclusive?g>=0:g>0}(i.endAt,Vu(i),s))}(n,e)}function HN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dS(n){return(e,t)=>{let i=!1;for(const s of Vu(n)){const l=qN(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function qN(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Fo(m,g):Ae()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return WA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new ot(ve.comparator);function bi(){return FN}const mS=new ot(ve.comparator);function Cu(...n){let e=mS;for(const t of n)e=e.insert(t.key,t);return e}function pS(n){let e=mS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ds(){return xu()}function gS(){return xu()}function xu(){return new Is(n=>n.toString(),(n,e)=>n.isEqual(e))}const $N=new ot(ve.comparator),GN=new Dt(ve.comparator);function xe(...n){let e=GN;for(const t of n)e=e.add(t);return e}const KN=new Dt(Ie);function QN(){return KN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function _S(n){return{integerValue:""+n}}function YN(n,e){return TN(e)?_S(e):d_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function XN(n,e,t){return n instanceof Ih?function(s,l){const c={fields:{[eS]:{stringValue:JA},[nS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&l_(l)&&(l=id(l)),l&&(c.fields[tS]=l),{mapValue:c}}(t,e):n instanceof Go?yS(n,e):n instanceof Ko?ES(n,e):function(s,l){const c=vS(s,l),d=ET(c)+ET(s.Ie);return Rg(c)&&Rg(s.Ie)?_S(d):d_(s.serializer,d)}(n,e)}function WN(n,e,t){return n instanceof Go?yS(n,e):n instanceof Ko?ES(n,e):t}function vS(n,e){return n instanceof Dh?function(i){return Rg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Ih extends ld{}class Go extends ld{constructor(e){super(),this.elements=e}}function yS(n,e){const t=TS(e);for(const i of n.elements)t.some(s=>Mr(s,i))||t.push(i);return{arrayValue:{values:t}}}class Ko extends ld{constructor(e){super(),this.elements=e}}function ES(n,e){let t=TS(e);for(const i of n.elements)t=t.filter(s=>!Mr(s,i));return{arrayValue:{values:t}}}class Dh extends ld{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ET(n){return gt(n.integerValue||n.doubleValue)}function TS(n){return u_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t){this.field=e,this.transform=t}}function ZN(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Go&&s instanceof Go||i instanceof Ko&&s instanceof Ko?qo(i.elements,s.elements,Mr):i instanceof Dh&&s instanceof Dh?Mr(i.Ie,s.Ie):i instanceof Ih&&s instanceof Ih}(n.transform,e.transform)}class JN{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ud{}function AS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wS(n.key,Or.none()):new sc(n.key,n.data,Or.none());{const t=n.data,i=hn.empty();let s=new Dt(Gt.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new Ca(n.key,i,new Sn(s.toArray()),Or.none())}}function eM(n,e,t){n instanceof sc?function(s,l,c){const d=s.value.clone(),m=bT(s.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ca?function(s,l,c){if(!ah(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=bT(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(SS(s)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ku(n,e,t,i){return n instanceof sc?function(l,c,d,m){if(!ah(l.precondition,c))return d;const g=l.value.clone(),v=AT(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ca?function(l,c,d,m){if(!ah(l.precondition,c))return d;const g=AT(l.fieldTransforms,m,c),v=c.data;return v.setAll(SS(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return ah(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function tM(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=vS(i.transform,s||null);l!=null&&(t===null&&(t=hn.empty()),t.set(i.field,l))}return t||null}function TT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&qo(i,s,(l,c)=>ZN(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sc extends ud{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ca extends ud{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function bT(n,e,t){const i=new Map;Ge(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);i.set(l.field,WN(c,d,t[s]))}return i}function AT(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,XN(l,c,e))}return i}class wS extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nM extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&eM(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ku(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ku(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=gS();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const m=AS(c,d);m!==null&&i.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(we.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(t,i)=>TT(t,i))&&qo(this.baseMutations,e.baseMutations,(t,i)=>TT(t,i))}}class m_{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ge(e.mutations.length===i.length);let s=function(){return $N}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new m_(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Be;function sM(n){switch(n){case ne.OK:return Ae();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae()}}function RS(n){if(n===void 0)return Ti("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Tt.OK:return ne.OK;case Tt.CANCELLED:return ne.CANCELLED;case Tt.UNKNOWN:return ne.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ne.INTERNAL;case Tt.UNAVAILABLE:return ne.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ne.NOT_FOUND;case Tt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Tt.ABORTED:return ne.ABORTED;case Tt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Tt.DATA_LOSS:return ne.DATA_LOSS;default:return Ae()}}(Be=Tt||(Tt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new da([4294967295,4294967295],0);function ST(n){const e=QA().encode(n),t=new jA;return t.update(e),new Uint8Array(t.digest())}function wT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new da([t,i],0),new da([s,l],0)]}class p_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(i<0)throw new Ou(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=da.fromNumber(this.Ee)}Ae(e,t,i){let s=e.add(t.multiply(da.fromNumber(i)));return s.compare(oM)===1&&(s=new da([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=ST(e),[i,s]=wT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,s,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new p_(l,s,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=ST(e),[i,s]=wT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,s,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new cd(we.min(),s,new ot(Ie),bi(),xe())}}class oc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new oc(i,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t,i,s){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=s}}class CS{constructor(e,t){this.targetId=e,this.ge=t}}class OS{constructor(e,t,i=Qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class RT{constructor(){this.pe=0,this.ye=CT(),this.we=Qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=xe(),t=xe(),i=xe();return this.ye.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Ae()}}),new oc(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=CT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class lM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=bi(),this.$e=Kf(),this.Ue=Kf(),this.Ke=new ot(Ie)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,i=e.ge.count,s=this.Xe(t);if(s){const l=s.target;if(Og(l))if(i===0){const c=new ve(l.path);this.ze(t,c,en.newNoDocument(c,we.min()))}else Ge(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),m=d?this.nt(d,e,c):1;if(m!==0){this.Ye(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=ya(i).toUint8Array()}catch(m){if(m instanceof ZA)return Ho("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new p_(c,s,l)}catch(m){return Ho(m instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Og(d.target)){const m=new ve(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,en.newNoDocument(m,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=xe();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const s=new cd(e,t,this.Ke,this.Qe,i);return this.Qe=bi(),this.$e=Kf(),this.Ue=Kf(),this.Ke=new ot(Ie),s}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new RT,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Dt(Ie),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dt(Ie),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new RT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Kf(){return new ot(ve.comparator)}function CT(){return new ot(ve.comparator)}const uM={asc:"ASCENDING",desc:"DESCENDING"},cM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fM={and:"AND",or:"OR"};class hM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dg(n,e){return n.useProto3Json||rd(e)?e:{value:e}}function Nh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dM(n,e){return Nh(n,e.toTimestamp())}function Ir(n){return Ge(!!n),we.fromTimestamp(function(t){const i=va(t);return new It(i.seconds,i.nanos)}(n))}function g_(n,e){return Ng(n,e).canonicalString()}function Ng(n,e){const t=function(s){return new ht(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function DS(n){const e=ht.fromString(n);return Ge(xS(e)),e}function Mg(n,e){return g_(n.databaseId,e.path)}function Kp(n,e){const t=DS(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(MS(t))}function NS(n,e){return g_(n.databaseId,e)}function mM(n){const e=DS(n);return e.length===4?ht.emptyPath():MS(e)}function Pg(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MS(n){return Ge(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function OT(n,e,t){return{name:Mg(n,e),fields:t.value.mapValue.fields}}function pM(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Ge(v===void 0||typeof v=="string"),Qt.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Qt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?ne.UNKNOWN:RS(g.code);return new ge(v,g.message||"")}(c);t=new OS(i,s,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Kp(n,i.document.name),l=Ir(i.document.updateTime),c=i.document.createTime?Ir(i.document.createTime):we.min(),d=new hn({mapValue:{fields:i.document.fields}}),m=en.newFoundDocument(s,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new sh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Kp(n,i.document),l=i.readTime?Ir(i.readTime):we.min(),c=en.newNoDocument(s,l),d=i.removedTargetIds||[];t=new sh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Kp(n,i.document),l=i.removedTargetIds||[];t=new sh([],l,s,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new aM(s,l),d=i.targetId;t=new CS(d,c)}}return t}function gM(n,e){let t;if(e instanceof sc)t={update:OT(n,e.key,e.value)};else if(e instanceof wS)t={delete:Mg(n,e.key)};else if(e instanceof Ca)t={update:OT(n,e.key,e.data),updateMask:wM(e.fieldMask)};else{if(!(e instanceof nM))return Ae();t={verify:Mg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Ih)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Go)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ko)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Dh)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Ae()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:dM(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae()}(n,e.precondition)),t}function _M(n,e){return n&&n.length>0?(Ge(e!==void 0),n.map(t=>function(s,l){let c=s.updateTime?Ir(s.updateTime):Ir(l);return c.isEqual(we.min())&&(c=Ir(l)),new JN(c,s.transformResults||[])}(t,e))):[]}function vM(n,e){return{documents:[NS(n,e.path)]}}function yM(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=NS(n,s);const l=function(g){if(g.length!==0)return VS(Pr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:Io(S.field),direction:bM(S.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Dg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:s}}function EM(n){let e=mM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ge(i===1);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const S=PS(T);return S instanceof Pr&&lS(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(S=>function(D){return new Oh(Do(D.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,rd(S)?null:S}(t.limit));let m=null;t.startAt&&(m=function(T){const S=!!T.before,O=T.values||[];return new Ch(O,S)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const S=!T.before,O=T.values||[];return new Ch(O,S)}(t.endAt)),BN(e,s,c,l,d,"F",m,g)}function TM(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Do(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Do(t.unaryFilter.field);return Ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Do(t.unaryFilter.field);return Ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Do(t.unaryFilter.field);return Ct.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return Ct.create(Do(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pr.create(t.compositeFilter.filters.map(i=>PS(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function bM(n){return uM[n]}function AM(n){return cM[n]}function SM(n){return fM[n]}function Io(n){return{fieldPath:n.canonicalString()}}function Do(n){return Gt.fromServerFormat(n.fieldPath)}function VS(n){return n instanceof Ct?function(t){if(t.op==="=="){if(pT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(mT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(mT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:AM(t.op),value:t.value}}}(n):n instanceof Pr?function(t){const i=t.getFilters().map(s=>VS(s));return i.length===1?i[0]:{compositeFilter:{op:SM(t.op),filters:i}}}(n):Ae()}function wM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t,i,s,l=we.min(),c=we.min(),d=Qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.Tt=e}}function CM(n){const e=EM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.Tn=new IM}addToCollectionParentIndex(e,t){return this.Tn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(_a.min())}updateCollectionGroup(e,t,i){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class IM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Dt(ht.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Dt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kS=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(kS,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Qo(0)}static Kn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="LruGarbageCollector",DM=1048576;function NT([n,e],[t,i]){const s=Ie(n,t);return s===0?Ie(e,i):s}class NM{constructor(e){this.Hn=e,this.buffer=new Dt(NT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();NT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(DT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){al(t)?ce(DT,"Ignoring IndexedDB error during garbage collection: ",t):await il(t)}await this.er(3e5)})}}class PM{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return J.resolve(nd.ae);const i=new NM(t);return this.tr.forEachTarget(e,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(IT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,s,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,c=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(g=Date.now(),Co()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:T})))}}function VM(n,e){return new PM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.changes=new Is(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?J.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&ku(i.mutation,s,Sn.empty(),It.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xe()){const s=ds();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=Cu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ds();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xe()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,s){let l=bi();const c=xu(),d=function(){return xu()}();return t.forEach((m,g)=>{const v=i.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof Ca)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),ku(v.mutation,g,v.mutation.getFieldMask(),It.now())):c.set(g.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var T;return d.set(g,new kM(v,(T=c.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=xu();let s=new ot((c,d)=>c-d),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let v=i.get(m)||Sn.empty();v=d.applyToLocalView(g,v),i.set(m,v);const T=(s.get(d.batchId)||xe()).add(m);s=s.insert(d.batchId,T)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,T=gS();v.forEach(S=>{if(!l.has(S)){const O=AS(t.get(S),i.get(S));O!==null&&T.set(S,O),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return J.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):J.resolve(ds());let d=qu,m=l;return c.next(g=>J.forEach(g,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?J.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{m=m.insert(v,S)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,xe())).next(v=>({batchId:d,changes:pS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let s=Cu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,l).next(d=>J.forEach(d,m=>{const g=function(T,S){return new ad(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next(v=>{v.forEach((T,S)=>{c=c.insert(T,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,en.newInvalidDocument(v)))});let d=Cu();return c.forEach((m,g)=>{const v=l.get(m);v!==void 0&&ku(v.mutation,g,Sn.empty(),It.now()),od(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return J.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:CM(s.bundledQuery),readTime:Ir(s.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.overlays=new ot(ve.comparator),this.Rr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ds();return J.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.Et(e,t,l)}),J.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),J.resolve()}getOverlaysForCollection(e,t,i){const s=ds(),l=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&s.set(m.getKey(),m)}return J.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new ot((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=ds(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ds(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=s)););return J.resolve(d)}Et(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new iM(t,i));let l=this.Rr.get(t);l===void 0&&(l=xe(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.Vr=new Dt(Lt.mr),this.gr=new Dt(Lt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Lt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Lt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new ve(new ht([])),i=new Lt(t,e),s=new Lt(t,e+1),l=[];return this.gr.forEachInRange([i,s],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new ht([])),i=new Lt(t,e),s=new Lt(t,e+1);let l=xe();return this.gr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Lt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Lt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||Ie(e.Cr,t.Cr)}static pr(e,t){return Ie(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Lt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rM(l,t,i,s);this.mutationQueue.push(c);for(const d of s)this.Mr=this.Mr.add(new Lt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(c)}lookupMutationBatch(e,t){return J.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Nr(i),l=s<0?0:s;return J.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?o_:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Lt(t,0),s=new Lt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,s],c=>{const d=this.Or(c.Cr);l.push(d)}),J.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dt(Ie);return t.forEach(s=>{const l=new Lt(s,0),c=new Lt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),J.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new Lt(new ve(l),0);let d=new Dt(Ie);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(d=d.add(m.Cr)),!0)},c),J.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const s=this.Or(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ge(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return J.forEach(t.mutations,s=>{const l=new Lt(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Lt(t,0),s=this.Mr.firstAfterOrEqual(i);return J.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.kr=e,this.docs=function(){return new ot(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return J.resolve(i?i.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let i=bi();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():en.newInvalidDocument(s))}),J.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=bi();const c=t.path,d=new ve(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||_N(gN(v),i)<=0||(s.has(v.key)||od(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return J.resolve(l)}getAllFromCollectionGroup(e,t,i,s){Ae()}qr(e,t){return J.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new qM(this)}getSize(e){return J.resolve(this.size)}}class qM extends xM{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(i)}),J.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.persistence=e,this.Qr=new Is(t=>c_(t),f_),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Ur=new __,this.targetCount=0,this.Kr=Qo.Un()}forEachTarget(e,t){return this.Qr.forEach((i,s)=>t(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),J.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Qo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.zn(t),J.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),J.waitFor(l).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return J.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),J.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),J.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),J.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return J.resolve(i)}containsKey(e,t){return J.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new nd(0),this.zr=!1,this.zr=!0,this.jr=new zM,this.referenceDelegate=e(this),this.Hr=new FM(this),this.indexManager=new OM,this.remoteDocumentCache=function(s){return new HM(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new RM(t),this.Yr=new UM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new jM(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const s=new $M(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(l=>this.referenceDelegate.Xr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}ei(e,t){return J.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class $M extends yN{constructor(e){super(),this.currentSequenceNumber=e}}class v_{constructor(e){this.persistence=e,this.ti=new __,this.ni=null}static ri(e){return new v_(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),J.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),J.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,i=>{const s=ve.fromPath(i);return this.si(e,s).next(l=>{l||t.removeEntry(s,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return J.or([()=>J.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Mh{constructor(e,t){this.persistence=e,this.oi=new Is(i=>bN(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=VM(this,t)}static ri(e,t){return new Mh(e,t)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return J.forEach(this.oi,(i,s)=>this.ar(e,i,s).next(l=>l?J.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,we.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rh(e.data.value)),t}ar(e,t,i){return J.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return J.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=s}static Yi(e,t){let i=xe(),s=xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new y_(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zD()?8:EN(tn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new GM;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,s){return i.documentReadCount<this.es?(Co()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Co()<=Ve.DEBUG&&ce("QueryEngine","Query:",Oo(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(Co()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(t))):J.resolve())}rs(e,t){if(yT(t))return J.resolve(null);let i=Cr(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Ig(t,null,"F"),i=Cr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=xe(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.cs(t,d);return this.ls(t,g,c,m.readTime)?this.rs(e,Ig(t,null,"F")):this.hs(e,g,t,m)}))})))}ss(e,t,i,s){return yT(t)||s.isEqual(we.min())?J.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,s)?J.resolve(null):(Co()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Oo(t)),this.hs(e,c,t,pN(s,qu)).next(d=>d))})}cs(e,t){let i=new Dt(dS(e));return t.forEach((s,l)=>{od(e,l)&&(i=i.add(l))}),i}ls(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}_s(e,t,i){return Co()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Oo(t)),this.ns.getDocumentsMatchingQuery(e,t,_a.min(),i)}hs(e,t,i,s){return this.ns.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LocalStore",QM=3e8;class YM{constructor(e,t,i,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new ot(Ie),this.Is=new Is(l=>c_(l),f_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function XM(n,e,t,i){return new YM(n,e,t,i)}async function US(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=xe();for(const g of s){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function WM(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const T=g.batch,S=T.keys();let O=J.resolve();return S.forEach(D=>{O=O.next(()=>v.getEntry(m,D)).next(H=>{const k=g.docVersions.get(D);Ge(k!==null),H.version.compareTo(k)<0&&(T.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=xe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function BS(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function ZM(n,e){const t=Re(n),i=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const d=[];e.targetChanges.forEach((v,T)=>{const S=s.get(T);if(!S)return;d.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,T)));let O=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Qt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,i)),s=s.insert(T,O),function(H,k,F){return H.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=QM?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(S,O,v)&&d.push(t.Hr.updateTargetData(l,O))});let m=bi(),g=xe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(JM(l,c,e.documentUpdates).next(v=>{m=v.Vs,g=v.fs})),!i.isEqual(we.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return J.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ts=s,l))}function JM(n,e,t){let i=xe(),s=xe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=bi();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ce(E_,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:c,fs:s}})}function eP(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=o_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function tP(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Hr.getTargetData(i,e).next(l=>l?(s=l,J.resolve(s)):t.Hr.allocateTargetId(i).next(c=>(s=new ua(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Vg(n,e,t){const i=Re(n),s=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!al(c))throw c;ce(E_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(s.target)}function MT(n,e,t){const i=Re(n);let s=we.min(),l=xe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const T=Re(m),S=T.Is.get(v);return S!==void 0?J.resolve(T.Ts.get(S)):T.Hr.getTargetData(g,v)}(i,c,Cr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?s:we.min(),t?l:xe())).next(d=>(nP(i,HN(e),d),{documents:d,gs:l})))}function nP(n,e,t){let i=n.Es.get(e)||we.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class PT{constructor(){this.activeTargetIds=QN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rP{constructor(){this.ho=new PT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new PT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="ConnectivityMonitor";class xT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(VT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(VT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function xg(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="RestConnection",aP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===wh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(e,t,i,s,l){const c=xg(),d=this.bo(e,t.toUriEncodedString());ce(Qp,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,s,l),this.vo(e,d,m,i).then(g=>(ce(Qp,`Received RPC '${e}' ${c}: `,g),g),g=>{throw Ho(Qp,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",i),g})}Co(e,t,i,s,l,c){return this.So(e,t,i,s,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}bo(e,t){const i=aP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class lP extends sP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,s){const l=xg();return new Promise((c,d)=>{const m=new HA;m.setWithCredentials(!0),m.listenOnce(qA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case nh.NO_ERROR:const v=m.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case nh.TIMEOUT:ce(Zt,`RPC '${e}' ${l} timed out`),d(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const T=m.getStatus();if(ce(Zt,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S==null?void 0:S.error;if(O&&O.status&&O.message){const D=function(k){const F=k.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(F)>=0?F:ne.UNKNOWN}(O.status);d(new ge(D,O.message))}else d(new ge(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ce(Zt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);ce(Zt,`RPC '${e}' ${l} sending request:`,s),m.send(t,"POST",g,i,15)})}Wo(e,t,i){const s=xg(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=GA(),d=$A(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");ce(Zt,`Creating RPC '${e}' stream ${s}: ${v}`,m);const T=c.createWebChannel(v,m);let S=!1,O=!1;const D=new oP({Fo:k=>{O?ce(Zt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(S||(ce(Zt,`Opening RPC '${e}' stream ${s} transport.`),T.open(),S=!0),ce(Zt,`RPC '${e}' stream ${s} sending:`,k),T.send(k))},Mo:()=>T.close()}),H=(k,F,Q)=>{k.listen(F,ee=>{try{Q(ee)}catch(ae){setTimeout(()=>{throw ae},0)}})};return H(T,Ru.EventType.OPEN,()=>{O||(ce(Zt,`RPC '${e}' stream ${s} transport opened.`),D.Qo())}),H(T,Ru.EventType.CLOSE,()=>{O||(O=!0,ce(Zt,`RPC '${e}' stream ${s} transport closed`),D.Uo())}),H(T,Ru.EventType.ERROR,k=>{O||(O=!0,Ho(Zt,`RPC '${e}' stream ${s} transport errored:`,k),D.Uo(new ge(ne.UNAVAILABLE,"The operation could not be completed")))}),H(T,Ru.EventType.MESSAGE,k=>{var F;if(!O){const Q=k.data[0];Ge(!!Q);const ee=Q,ae=(ee==null?void 0:ee.error)||((F=ee[0])===null||F===void 0?void 0:F.error);if(ae){ce(Zt,`RPC '${e}' stream ${s} received error:`,ae);const oe=ae.status;let de=function(R){const N=Tt[R];if(N!==void 0)return RS(N)}(oe),P=ae.message;de===void 0&&(de=ne.INTERNAL,P="Unknown error status: "+oe+" with message "+ae.message),O=!0,D.Uo(new ge(de,P)),T.close()}else ce(Zt,`RPC '${e}' stream ${s} received:`,Q),D.Ko(Q)}}),H(d,FA.STAT_EVENT,k=>{k.stat===Ag.PROXY?ce(Zt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Ag.NOPROXY&&ce(Zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function Yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(n){return new hM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=s,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-i);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="PersistentStream";class jS{constructor(e,t,i,s,l,c,d,m){this.Ti=e,this.n_=i,this.r_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ti(t.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===t&&this.V_(i,s)},i=>{e(()=>{const s=new ge(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(kT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(kT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uP extends jS{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=pM(this.serializer,e),i=function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?Ir(c.readTime):we.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Pg(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=Og(m)?{documents:vM(l,m)}:{query:yM(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=IS(l,c.resumeToken);const g=Dg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){d.readTime=Nh(l,c.snapshotVersion.toTimestamp());const g=Dg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=TM(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Pg(this.serializer),t.removeTarget=e,this.I_(t)}}class cP extends jS{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=_M(e.writeResults,e.commitTime),i=Ir(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Pg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>gM(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{}class hP extends fP{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Ng(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ne.UNKNOWN,l.toString())})}Co(e,t,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Ng(t,i),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ne.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class dP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ti(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="RemoteStore";class mP{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Ds(this)&&(ce(Ts,"Restarting streams for network reachability change."),await async function(m){const g=Re(m);g.W_.add(4),await lc(g),g.j_.set("Unknown"),g.W_.delete(4),await hd(g)}(this))})}),this.j_=new dP(i,s)}}async function hd(n){if(Ds(n))for(const e of n.G_)await e(!0)}async function lc(n){for(const e of n.G_)await e(!1)}function HS(n,e){const t=Re(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),S_(t)?A_(t):sl(t).c_()&&b_(t,e))}function T_(n,e){const t=Re(n),i=sl(t);t.K_.delete(e),i.c_()&&qS(t,e),t.K_.size===0&&(i.c_()?i.P_():Ds(t)&&t.j_.set("Unknown"))}function b_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sl(n).y_(e)}function qS(n,e){n.H_.Ne(e),sl(n).w_(e)}function A_(n){n.H_=new lM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),sl(n).start(),n.j_.B_()}function S_(n){return Ds(n)&&!sl(n).u_()&&n.K_.size>0}function Ds(n){return Re(n).W_.size===0}function FS(n){n.H_=void 0}async function pP(n){n.j_.set("Online")}async function gP(n){n.K_.forEach((e,t)=>{b_(n,e)})}async function _P(n,e){FS(n),S_(n)?(n.j_.q_(e),A_(n)):n.j_.set("Unknown")}async function vP(n,e,t){if(n.j_.set("Online"),e instanceof OS&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s.K_.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.K_.delete(d),s.H_.removeTarget(d))}(n,e)}catch(i){ce(Ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ph(n,i)}else if(e instanceof sh?n.H_.We(e):e instanceof CS?n.H_.Ze(e):n.H_.je(e),!t.isEqual(we.min()))try{const i=await BS(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.K_.get(g);v&&l.K_.set(g,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const v=l.K_.get(m);if(!v)return;l.K_.set(m,v.withResumeToken(Qt.EMPTY_BYTE_STRING,v.snapshotVersion)),qS(l,m);const T=new ua(v.target,m,g,v.sequenceNumber);b_(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ce(Ts,"Failed to raise snapshot:",i),await Ph(n,i)}}async function Ph(n,e,t){if(!al(e))throw e;n.W_.add(1),await lc(n),n.j_.set("Offline"),t||(t=()=>BS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Ts,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await hd(n)})}function $S(n,e){return e().catch(t=>Ph(n,t,e))}async function dd(n){const e=Re(n),t=Ta(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:o_;for(;yP(e);)try{const s=await eP(e.localStore,i);if(s===null){e.U_.length===0&&t.P_();break}i=s.batchId,EP(e,s)}catch(s){await Ph(e,s)}GS(e)&&KS(e)}function yP(n){return Ds(n)&&n.U_.length<10}function EP(n,e){n.U_.push(e);const t=Ta(n);t.c_()&&t.S_&&t.b_(e.mutations)}function GS(n){return Ds(n)&&!Ta(n).u_()&&n.U_.length>0}function KS(n){Ta(n).start()}async function TP(n){Ta(n).C_()}async function bP(n){const e=Ta(n);for(const t of n.U_)e.b_(t.mutations)}async function AP(n,e,t){const i=n.U_.shift(),s=m_.from(i,e,t);await $S(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await dd(n)}async function SP(n,e){e&&Ta(n).S_&&await async function(i,s){if(function(c){return sM(c)&&c!==ne.ABORTED}(s.code)){const l=i.U_.shift();Ta(i).h_(),await $S(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await dd(i)}}(n,e),GS(n)&&KS(n)}async function LT(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),ce(Ts,"RemoteStore received new credentials");const i=Ds(t);t.W_.add(3),await lc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await hd(t)}async function wP(n,e){const t=Re(n);e?(t.W_.delete(2),await hd(t)):e||(t.W_.add(2),await lc(t),t.j_.set("Unknown"))}function sl(n){return n.J_||(n.J_=function(t,i,s){const l=Re(t);return l.M_(),new uP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:pP.bind(null,n),No:gP.bind(null,n),Lo:_P.bind(null,n),p_:vP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),S_(n)?A_(n):n.j_.set("Unknown")):(await n.J_.stop(),FS(n))})),n.J_}function Ta(n){return n.Y_||(n.Y_=function(t,i,s){const l=Re(t);return l.M_(),new cP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:TP.bind(null,n),Lo:SP.bind(null,n),D_:bP.bind(null,n),v_:AP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await dd(n)):(await n.Y_.stop(),n.U_.length>0&&(ce(Ts,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,d=new w_(e,t,c,s,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R_(n,e){if(Ti("AsyncQueue",`${e}: ${n}`),al(n))return new ge(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Cu(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new xo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.Z_=new ot(ve.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Yo{constructor(e,t,i,s,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Yo(e,t,xo.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class CP{constructor(){this.queries=BT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const s=Re(t),l=s.queries;s.queries=BT(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(i)})})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function BT(){return new Is(n=>hS(n),sd)}async function OP(n,e){const t=Re(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.na()&&e.ra()&&(i=2):(l=new RP,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(s,!0);break;case 1:l.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=R_(c,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&C_(t)}async function IP(n,e){const t=Re(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?s=e.ra()?0:1:!l.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function DP(n,e){const t=Re(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(s)&&(i=!0);c.ea=s}}i&&C_(t)}function NP(n,e,t){const i=Re(n),s=i.queries.get(e);if(s)for(const l of s.ta)l.onError(t);i.queries.delete(e)}function C_(n){n.ia.forEach(e=>{e.next()})}var kg,zT;(zT=kg||(kg={}))._a="default",zT.Cache="cache";class MP{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Yo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class PP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xe(),this.mutatedKeys=xe(),this.ya=dS(e),this.wa=new xo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new UT,s=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,T)=>{const S=s.get(v),O=od(this.query,T)?T:null,D=!!S&&this.mutatedKeys.has(S.key),H=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;S&&O?S.data.isEqual(O.data)?D!==H&&(i.track({type:3,doc:O}),k=!0):this.va(S,O)||(i.track({type:2,doc:O}),k=!0,(m&&this.ya(O,m)>0||g&&this.ya(O,g)<0)&&(d=!0)):!S&&O?(i.track({type:0,doc:O}),k=!0):S&&!O&&(i.track({type:1,doc:S}),k=!0,(m||g)&&(d=!0)),k&&(O?(c=c.add(O),l=H?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,T)=>function(O,D){const H=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return H(O)-H(D)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(i),s=s!=null&&s;const d=t&&!s?this.Fa():[],m=this.pa.size===0&&this.current&&!s?1:0,g=m!==this.ga;return this.ga=m,c.length!==0||g?{snapshot:new Yo(this.query,e.wa,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new UT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=xe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new YS(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new QS(i))}),t}Oa(e){this.fa=e.gs,this.pa=xe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Yo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const O_="SyncEngine";class VP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class xP{constructor(e){this.key=e,this.Ba=!1}}class kP{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Is(d=>hS(d),sd),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ve.comparator),this.Ua=new Map,this.Ka=new __,this.Wa={},this.Ga=new Map,this.za=Qo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function LP(n,e,t=!0){const i=tw(n);let s;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Na()):s=await XS(i,e,t,!0),s}async function UP(n,e){const t=tw(n);await XS(t,e,!0,!1)}async function XS(n,e,t,i){const s=await tP(n.localStore,Cr(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await BP(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&HS(n.remoteStore,s),d}async function BP(n,e,t,i,s){n.Ha=(T,S,O)=>async function(H,k,F,Q){let ee=k.view.ba(F);ee.ls&&(ee=await MT(H.localStore,k.query,!1).then(({documents:P})=>k.view.ba(P,ee)));const ae=Q&&Q.targetChanges.get(k.targetId),oe=Q&&Q.targetMismatches.get(k.targetId)!=null,de=k.view.applyChanges(ee,H.isPrimaryClient,ae,oe);return HT(H,k.targetId,de.Ma),de.snapshot}(n,T,S,O);const l=await MT(n.localStore,e,!0),c=new PP(e,l.gs),d=c.ba(l.documents),m=oc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),g=c.applyChanges(d,n.isPrimaryClient,m);HT(n,t,g.Ma);const v=new VP(e,t,c);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function zP(n,e,t){const i=Re(n),s=i.ka.get(e),l=i.qa.get(s.targetId);if(l.length>1)return i.qa.set(s.targetId,l.filter(c=>!sd(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Vg(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&T_(i.remoteStore,s.targetId),Lg(i,s.targetId)}).catch(il)):(Lg(i,s.targetId),await Vg(i.localStore,s.targetId,!0))}async function jP(n,e){const t=Re(n),i=t.ka.get(e),s=t.qa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),T_(t.remoteStore,i.targetId))}async function HP(n,e,t){const i=YP(n);try{const s=await function(c,d){const m=Re(c),g=It.now(),v=d.reduce((O,D)=>O.add(D.key),xe());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let D=bi(),H=xe();return m.ds.getEntries(O,v).next(k=>{D=k,D.forEach((F,Q)=>{Q.isValidDocument()||(H=H.add(F))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,D)).next(k=>{T=k;const F=[];for(const Q of d){const ee=tM(Q,T.get(Q.key).overlayedDocument);ee!=null&&F.push(new Ca(Q.key,ee,aS(ee.value.mapValue),Or.exists(!0)))}return m.mutationQueue.addMutationBatch(O,g,F,d)}).next(k=>{S=k;const F=k.applyToLocalDocumentSet(T,H);return m.documentOverlayCache.saveOverlays(O,k.batchId,F)})}).then(()=>({batchId:S.batchId,changes:pS(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,d,m){let g=c.Wa[c.currentUser.toKey()];g||(g=new ot(Ie)),g=g.insert(d,m),c.Wa[c.currentUser.toKey()]=g}(i,s.batchId,t),await uc(i,s.changes),await dd(i.remoteStore)}catch(s){const l=R_(s,"Failed to persist write");t.reject(l)}}async function WS(n,e){const t=Re(n);try{const i=await ZM(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Ua.get(l);c&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Ba=!0:s.modifiedDocuments.size>0?Ge(c.Ba):s.removedDocuments.size>0&&(Ge(c.Ba),c.Ba=!1))}),await uc(t,i,e)}catch(i){await il(i)}}function jT(n,e,t){const i=Re(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const m=Re(c);m.onlineState=d;let g=!1;m.queries.forEach((v,T)=>{for(const S of T.ta)S.sa(d)&&(g=!0)}),g&&C_(m)}(i.eventManager,e),s.length&&i.La.p_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function qP(n,e,t){const i=Re(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ua.get(e),l=s&&s.key;if(l){let c=new ot(ve.comparator);c=c.insert(l,en.newNoDocument(l,we.min()));const d=xe().add(l),m=new cd(we.min(),new Map,new ot(Ie),c,d);await WS(i,m),i.$a=i.$a.remove(l),i.Ua.delete(e),I_(i)}else await Vg(i.localStore,e,!1).then(()=>Lg(i,e,t)).catch(il)}async function FP(n,e){const t=Re(n),i=e.batch.batchId;try{const s=await WM(t.localStore,e);JS(t,i,null),ZS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await uc(t,s)}catch(s){await il(s)}}async function $P(n,e,t){const i=Re(n);try{const s=await function(c,d){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(Ge(T!==null),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(i.localStore,e);JS(i,e,t),ZS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await uc(i,s)}catch(s){await il(s)}}function ZS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function JS(n,e,t){const i=Re(n);let s=i.Wa[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Wa[i.currentUser.toKey()]=s}}function Lg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||ew(n,i)})}function ew(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(T_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),I_(n))}function HT(n,e,t){for(const i of t)i instanceof QS?(n.Ka.addReference(i.key,e),GP(n,i)):i instanceof YS?(ce(O_,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||ew(n,i.key)):Ae()}function GP(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ce(O_,"New document in limbo: "+t),n.Qa.add(i),I_(n))}function I_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ve(ht.fromString(e)),i=n.za.next();n.Ua.set(i,new xP(t)),n.$a=n.$a.insert(t,i),HS(n.remoteStore,new ua(Cr(h_(t.path)),i,"TargetPurposeLimboResolution",nd.ae))}}async function uc(n,e,t){const i=Re(n),s=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,m)=>{c.push(i.Ha(m,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const T=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){s.push(g);const T=y_.Yi(m.targetId,g);l.push(T)}}))}),await Promise.all(c),i.La.p_(s),await async function(m,g){const v=Re(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>J.forEach(g,S=>J.forEach(S.Hi,O=>v.persistence.referenceDelegate.addReference(T,S.targetId,O)).next(()=>J.forEach(S.Ji,O=>v.persistence.referenceDelegate.removeReference(T,S.targetId,O)))))}catch(T){if(!al(T))throw T;ce(E_,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const O=v.Ts.get(S),D=O.snapshotVersion,H=O.withLastLimboFreeSnapshotVersion(D);v.Ts=v.Ts.insert(S,H)}}}(i.localStore,l))}async function KP(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){ce(O_,"User change. New user:",e.toKey());const i=await US(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new ge(ne.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await uc(t,i.Rs)}}function QP(n,e){const t=Re(n),i=t.Ua.get(e);if(i&&i.Ba)return xe().add(i.key);{let s=xe();const l=t.qa.get(e);if(!l)return s;for(const c of l){const d=t.ka.get(c);s=s.unionWith(d.view.Sa)}return s}}function tw(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qP.bind(null,e),e.La.p_=DP.bind(null,e.eventManager),e.La.Ja=NP.bind(null,e.eventManager),e}function YP(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$P.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return XM(this.persistence,new KM,e.initialUser,this.serializer)}Xa(e){return new LS(v_.ri,this.serializer)}Za(e){return new rP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class XP extends Vh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ge(this.persistence.referenceDelegate instanceof Mh);const i=this.persistence.referenceDelegate.garbageCollector;return new MM(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new LS(i=>Mh.ri(i,t),this.serializer)}}class Ug{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KP.bind(null,this.syncEngine),await wP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CP}()}createDatastore(e){const t=fd(e.databaseInfo.databaseId),i=function(l){return new lP(l)}(e.databaseInfo);return function(l,c,d,m){return new hP(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,d){return new mP(i,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>jT(this.syncEngine,t,0),function(){return xT.D()?new xT:new iP}())}createSyncEngine(e,t){return function(s,l,c,d,m,g,v){const T=new kP(s,l,c,d,m,g);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Re(s);ce(Ts,"RemoteStore shutting down."),l.W_.add(5),await lc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ug.provider={build:()=>new Ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class ZP{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Jt.UNAUTHENTICATED,this.clientId=YA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ce(ba,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ce(ba,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=R_(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Xp(n,e){n.asyncQueue.verifyOperationInProgress(),ce(ba,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await US(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function qT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await JP(n);ce(ba,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>LT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>LT(e.remoteStore,s)),n._onlineComponents=e}async function JP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(ba,"Using user provided OfflineComponentProvider");try{await Xp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Ho("Error using user provided cache. Falling back to memory cache: "+t),await Xp(n,new Vh)}}else ce(ba,"Using default OfflineComponentProvider"),await Xp(n,new XP(void 0));return n._offlineComponents}async function nw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(ba,"Using user provided OnlineComponentProvider"),await qT(n,n._uninitializedComponentsProvider._online)):(ce(ba,"Using default OnlineComponentProvider"),await qT(n,new Ug))),n._onlineComponents}function eV(n){return nw(n).then(e=>e.syncEngine)}async function tV(n){const e=await nw(n),t=e.eventManager;return t.onListen=LP.bind(null,e.syncEngine),t.onUnlisten=zP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jP.bind(null,e.syncEngine),t}function nV(n,e,t={}){const i=new ma;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new WP({next:S=>{v.su(),c.enqueueAndForget(()=>IP(l,T));const O=S.docs.has(d);!O&&S.fromCache?g.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&m&&m.source==="server"?g.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new MP(h_(d.path),v,{includeMetadataChanges:!0,Ta:!0});return OP(l,T)}(await tV(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(n,e,t){if(!t)throw new ge(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iV(n,e,t,i){if(e===!0&&i===!0)throw new ge(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $T(n){if(!ve.isDocumentKey(n))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function D_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function bs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=D_(n);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="firestore.googleapis.com",GT=!0;class KT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iw,this.ssl=GT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:GT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DM)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class N_{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new sN;switch(i.type){case"firstParty":return new cN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=FT.get(t);i&&(ce("ComponentProvider","Removing Datastore"),FT.delete(t),i.terminate())}(this),Promise.resolve()}}function aV(n,e,t,i={}){var s;const l=(n=bs(n,N_))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==iw&&l.host!==d&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!yi(m,c)&&(n._setSettings(m),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=Jt.MOCK_USER;else{g=PD(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Jt(T)}n._authCredentials=new oN(new KA(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new M_(this.firestore,e,this._query)}}class wn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Ku extends M_{constructor(e,t,i){super(e,t,h_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ve(e))}withConverter(e){return new Ku(this.firestore,e,this._path)}}function Wp(n,e,...t){if(n=on(n),arguments.length===1&&(e=YA.newId()),rV("doc","path",e),n instanceof N_){const i=ht.fromString(e,...t);return $T(i),new wn(n,null,new ve(i))}{if(!(n instanceof wn||n instanceof Ku))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return $T(i),new wn(n.firestore,n instanceof Ku?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="AsyncQueue";class YT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zS(this,"async_queue_retry"),this.Su=()=>{const i=Yp();i&&ce(QT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Yp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Yp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ma;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!al(e))throw e;ce(QT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const s=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Ti("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=w_.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(s),s}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class md extends N_{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new YT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YT(e),this._firestoreClient=void 0,await e}}}function sV(n,e){const t=typeof n=="object"?n:UA(),i=typeof n=="string"?n:wh,s=a_(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=ND("firestore");l&&aV(s,...l)}return s}function aw(n){if(n._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||oV(n),n._firestoreClient}function oV(n){var e,t,i;const s=n._freezeSettings(),l=function(d,m,g,v){return new wN(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,rw(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new ZP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(Qt.fromBase64String(e))}catch(t){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xo(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=/^__.*__$/;class uV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new sc(e,this.data,t,this.fieldTransforms)}}class sw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ca(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ow(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class gd{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.$u(e),s}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return xh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ow(this.Lu)&&lV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class cV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||fd(e)}ju(e,t,i,s=!1){return new gd({Lu:e,methodName:t,zu:i,path:Gt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lw(n){const e=n._freezeSettings(),t=fd(n._databaseId);return new cV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fV(n,e,t,i,s,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,s);L_("Data must be an object, but it was:",c,i);const d=cw(i,c);let m,g;if(l.merge)m=new Sn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const S=Bg(e,T,t);if(!c.contains(S))throw new ge(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);hw(v,S)||v.push(S)}m=new Sn(v),g=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=c.fieldTransforms;return new uV(new hn(d),m,g)}class _d extends cc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _d}}function uw(n,e,t){return new gd({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class x_ extends cc{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=uw(this,e,!0),i=this.Hu.map(l=>ol(l,t)),s=new Go(i);return new bS(e.path,s)}isEqual(e){return e instanceof x_&&yi(this.Hu,e.Hu)}}class k_ extends cc{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=uw(this,e,!0),i=this.Hu.map(l=>ol(l,t)),s=new Ko(i);return new bS(e.path,s)}isEqual(e){return e instanceof k_&&yi(this.Hu,e.Hu)}}function hV(n,e,t,i){const s=n.ju(1,e,t);L_("Data must be an object, but it was:",s,i);const l=[],c=hn.empty();Ra(i,(m,g)=>{const v=U_(e,m,t);g=on(g);const T=s.Uu(v);if(g instanceof _d)l.push(v);else{const S=ol(g,T);S!=null&&(l.push(v),c.set(v,S))}});const d=new Sn(l);return new sw(c,d,s.fieldTransforms)}function dV(n,e,t,i,s,l){const c=n.ju(1,e,t),d=[Bg(e,i,t)],m=[s];if(l.length%2!=0)throw new ge(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(Bg(e,l[S])),m.push(l[S+1]);const g=[],v=hn.empty();for(let S=d.length-1;S>=0;--S)if(!hw(g,d[S])){const O=d[S];let D=m[S];D=on(D);const H=c.Uu(O);if(D instanceof _d)g.push(O);else{const k=ol(D,H);k!=null&&(g.push(O),v.set(O,k))}}const T=new Sn(g);return new sw(v,T,c.fieldTransforms)}function ol(n,e){if(fw(n=on(n)))return L_("Unsupported field value:",e,n),cw(n,e);if(n instanceof cc)return function(i,s){if(!ow(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const d of i){let m=ol(d,s.Ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=on(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return YN(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=It.fromDate(i);return{timestampValue:Nh(s.serializer,l)}}if(i instanceof It){const l=new It(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nh(s.serializer,l)}}if(i instanceof P_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xo)return{bytesValue:IS(s.serializer,i._byteString)};if(i instanceof wn){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:g_(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof V_)return function(c,d){return{mapValue:{fields:{[rS]:{stringValue:iS},[Rh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return d_(d.serializer,g)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${D_(i)}`)}(n,e)}function cw(n,e){const t={};return WA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(n,(i,s)=>{const l=ol(s,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function fw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof P_||n instanceof Xo||n instanceof wn||n instanceof cc||n instanceof V_)}function L_(n,e,t){if(!fw(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=D_(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Bg(n,e,t){if((e=on(e))instanceof pd)return e._internalPath;if(typeof e=="string")return U_(n,e);throw xh("Field path arguments must be of type string or ",n,!1,void 0,t)}const mV=new RegExp("[~\\*/\\[\\]]");function U_(n,e,t){if(e.search(mV)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pd(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xh(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${s}`),m+=")"),new ge(ne.INVALID_ARGUMENT,d+n+m)}function hw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class pV extends dw{data(){return super.data()}}function mw(n,e){return typeof e=="string"?U_(n,e):e instanceof pd?e._internalPath:e._delegate._internalPath}class gV{convertValue(e,t="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ra(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Rh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>gt(c.doubleValue));return new V_(l)}convertGeoPoint(e){return new P_(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=id(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const t=va(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);Ge(xS(i));const s=new $u(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return s.isEqual(t)||Ti(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pw extends dw{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(mw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class yV extends pw{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(n){n=bs(n,wn);const e=bs(n.firestore,md);return nV(aw(e),n._key).then(t=>AV(e,n,t))}class TV extends gV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function bV(n,e,t){n=bs(n,wn);const i=bs(n.firestore,md),s=_V(n.converter,e);return gw(i,[fV(lw(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Or.none())])}function XT(n,e,t,...i){n=bs(n,wn);const s=bs(n.firestore,md),l=lw(s);let c;return c=typeof(e=on(e))=="string"||e instanceof pd?dV(l,"updateDoc",n._key,e,t,i):hV(l,"updateDoc",n._key,e),gw(s,[c.toMutation(n._key,Or.exists(!0))])}function gw(n,e){return function(i,s){const l=new ma;return i.asyncQueue.enqueueAndForget(async()=>HP(await eV(i),s,l)),l.promise}(aw(n),e)}function AV(n,e,t){const i=t.docs.get(e._key),s=new TV(n);return new pw(n,s,e._key,i,new vV(t.hasPendingWrites,t.fromCache),e.converter)}function SV(...n){return new x_("arrayUnion",n)}function wV(...n){return new k_("arrayRemove",n)}(function(e,t=!0){(function(s){rl=s})(nl),jo(new ys("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new md(new lN(i.getProvider("auth-internal")),new fN(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(g.options.projectId,v)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ha(nT,rT,e),ha(nT,rT,"esm2017")})();function B_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function _w(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RV=_w,vw=new ic("auth","Firebase",_w());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new r_("@firebase/auth");function CV(n,...e){kh.logLevel<=Ve.WARN&&kh.warn(`Auth (${nl}): ${n}`,...e)}function oh(n,...e){kh.logLevel<=Ve.ERROR&&kh.error(`Auth (${nl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,...e){throw z_(n,...e)}function Dr(n,...e){return z_(n,...e)}function yw(n,e,t){const i=Object.assign(Object.assign({},RV()),{[e]:t});return new ic("auth","Firebase",i).create(e,{appName:n.name})}function pa(n){return yw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return vw.create(n,...e)}function Ee(n,e,...t){if(!n)throw z_(e,...t)}function ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw oh(e),new Error(e)}function Ai(n,e){n||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OV(){return WT()==="http:"||WT()==="https:"}function WT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OV()||LD()||"connection"in navigator)?navigator.onLine:!0}function DV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ai(t>e,"Short delay should be less than long delay!"),this.isMobile=VD()||UD()}get(){return IV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n,e){Ai(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=new fc(3e4,6e4);function Ns(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Oa(n,e,t,i,s={}){return Tw(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=ac(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return kD()||(g.referrerPolicy="no-referrer"),Ew.fetch()(bw(n,n.config.apiHost,t,d),g)})}async function Tw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},NV),e);try{const s=new VV(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Yf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Yf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Yf(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw yw(n,v,g);nr(n,v)}}catch(s){if(s instanceof Ri)throw s;nr(n,"network-request-failed",{message:String(s)})}}async function vd(n,e,t,i,s={}){const l=await Oa(n,e,t,i,s);return"mfaPendingCredential"in l&&nr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function bw(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?j_(n.config,s):`${n.config.apiScheme}://${s}`}function PV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Dr(this.auth,"network-request-failed")),MV.get())})}}function Yf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Dr(n,e,i);return s.customData._tokenResponse=t,s}function ZT(n){return n!==void 0&&n.enterprise!==void 0}class xV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return PV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kV(n,e){return Oa(n,"GET","/v2/recaptchaConfig",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(n,e){return Oa(n,"POST","/v1/accounts:delete",e)}async function Aw(n,e){return Oa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UV(n,e=!1){const t=on(n),i=await t.getIdToken(e),s=H_(i);Ee(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:Lu(Zp(s.auth_time)),issuedAtTime:Lu(Zp(s.iat)),expirationTime:Lu(Zp(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Zp(n){return Number(n)*1e3}function H_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const s=NA(t);return s?JSON.parse(s):(oh("Failed to decode base64 JWT payload"),null)}catch(s){return oh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function JT(n){const e=H_(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ri&&BV(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function BV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(n){var e;const t=n.auth,i=await n.getIdToken(),s=await Qu(n,Aw(t,{idToken:i}));Ee(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Sw(l.providerUserInfo):[],d=HV(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new jg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function jV(n){const e=on(n);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HV(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Sw(n){return n.map(e=>{var{providerId:t}=e,i=B_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(n,e){const t=await Tw(n,{},async()=>{const i=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=bw(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Ew.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FV(n,e){return Oa(n,"POST","/v2/accounts:revokeToken",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=JT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await qV(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new ko;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fi{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=B_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UV(this,e)}reload(){return jV(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Lh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await Qu(this,LV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,d,m,g,v;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(s=t.email)!==null&&s!==void 0?s:void 0,O=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,D=(c=t.photoURL)!==null&&c!==void 0?c:void 0,H=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,F=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ee,emailVerified:ae,isAnonymous:oe,providerData:de,stsTokenManager:P}=t;Ee(ee&&P,e,"internal-error");const w=ko.fromJSON(this.name,P);Ee(typeof ee=="string",e,"internal-error"),ra(T,e.name),ra(S,e.name),Ee(typeof ae=="boolean",e,"internal-error"),Ee(typeof oe=="boolean",e,"internal-error"),ra(O,e.name),ra(D,e.name),ra(H,e.name),ra(k,e.name),ra(F,e.name),ra(Q,e.name);const R=new fi({uid:ee,auth:e,email:S,emailVerified:ae,displayName:T,isAnonymous:oe,photoURL:D,phoneNumber:O,tenantId:H,stsTokenManager:w,createdAt:F,lastLoginAt:Q});return de&&Array.isArray(de)&&(R.providerData=de.map(N=>Object.assign({},N))),k&&(R._redirectEventId=k),R}static async _fromIdTokenResponse(e,t,i=!1){const s=new ko;s.updateFromServerResponse(t);const l=new fi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Lh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ee(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?Sw(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),d=new ko;d.updateFromIdToken(i);const m=new fi({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new jg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;function hi(n){Ai(n instanceof Function,"Expected a class definition");let e=eb.get(n);return e?(Ai(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ww.type="NONE";const tb=ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(n,e,t){return`firebase:${n}:${e}:${t}`}class Lo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=lh(this.userKey,s.apiKey,l),this.fullPersistenceKey=lh("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Lo(hi(tb),e,i);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||hi(tb);const c=lh(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){const T=fi._fromJSON(e,v);g!==l&&(d=T),l=g;break}}catch{}const m=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Lo(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Lo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Iw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nw(e))return"Blackberry";if(Mw(e))return"Webos";if(Cw(e))return"Safari";if((e.includes("chrome/")||Ow(e))&&!e.includes("edge/"))return"Chrome";if(Dw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Rw(n=tn()){return/firefox\//i.test(n)}function Cw(n=tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ow(n=tn()){return/crios\//i.test(n)}function Iw(n=tn()){return/iemobile/i.test(n)}function Dw(n=tn()){return/android/i.test(n)}function Nw(n=tn()){return/blackberry/i.test(n)}function Mw(n=tn()){return/webos/i.test(n)}function q_(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $V(n=tn()){var e;return q_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GV(){return BD()&&document.documentMode===10}function Pw(n=tn()){return q_(n)||Dw(n)||Mw(n)||Nw(n)||/windows phone/i.test(n)||Iw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n,e=[]){let t;switch(n){case"Browser":t=nb(tn());break;case"Worker":t=`${nb(tn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(n,e={}){return Oa(n,"GET","/v2/passwordPolicy",Ns(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=6;class XV{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:YV,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(s=m.containsLowercaseLetter)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rb(this),this.idTokenSubscription=new rb(this),this.beforeStateQueue=new KV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Aw(this,{idToken:e}),i=await fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(pa(this));const t=e?on(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QV(this),t=new XV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await FV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,s);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&CV(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ll(n){return on(n)}class rb{constructor(e){this.auth=e,this.observer=null,this.addObserver=KD(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZV(n){yd=n}function xw(n){return yd.loadJS(n)}function JV(){return yd.recaptchaEnterpriseScript}function ex(){return yd.gapiScript}function tx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class nx{constructor(){this.enterprise=new rx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ix="recaptcha-enterprise",kw="NO_RECAPTCHA";class ax{constructor(e){this.type=ix,this.auth=ll(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{kV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new xV(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function s(l,c,d){const m=window.grecaptcha;ZT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(kw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nx().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&ZT(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=JV();m.length!==0&&(m+=d),xw(m).then(()=>{s(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function ib(n,e,t,i=!1,s=!1){const l=new ax(n);let c;if(s)c=kw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ab(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ib(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ib(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n,e){const t=a_(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(yi(l,e??{}))return s;nr(s,"already-initialized")}return t.initialize({options:e})}function ox(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(hi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function lx(n,e,t){const i=ll(n);Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=Lw(e),{host:c,port:d}=ux(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ee(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ee(yi(g,i.config.emulator)&&yi(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,cx()}function Lw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ux(n){const e=Lw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:sb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:sb(c)}}}function sb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function cx(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,t){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function fx(n,e){return Oa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(n,e){return vd(n,"POST","/v1/accounts:signInWithPassword",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(n,e){return vd(n,"POST","/v1/accounts:signInWithEmailLink",Ns(n,e))}async function mx(n,e){return vd(n,"POST","/v1/accounts:signInWithEmailLink",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends F_{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Yu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Yu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ab(e,t,"signInWithPassword",hx);case"emailLink":return dx(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ab(e,i,"signUpPassword",fx);case"emailLink":return mx(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n,e){return vd(n,"POST","/v1/accounts:signInWithIdp",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="http://localhost";class As extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=B_(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new As(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Uo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Uo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uo(e,t)}buildRequest(){const e={requestUri:px,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ac(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _x(n){const e=Su(wu(n)).link,t=e?Su(wu(e)).deep_link_id:null,i=Su(wu(n)).deep_link_id;return(i?Su(wu(i)).link:null)||i||t||e||n}class $_{constructor(e){var t,i,s,l,c,d;const m=Su(wu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(i=m.oobCode)!==null&&i!==void 0?i:null,T=gx((s=m.mode)!==null&&s!==void 0?s:null);Ee(g&&v&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=_x(e);try{return new $_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,t){return Yu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=$_.parseLink(t);return Ee(i,"argument-error"),Yu._fromEmailAndCode(e,i.code,i.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Uw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends hc{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return As._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return aa.credential(t,i)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends hc{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com";sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends hc{constructor(){super("twitter.com")}static credential(e,t){return As._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return oa.credential(t,i)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await fi._fromIdTokenResponse(e,i,s),c=ob(i);return new Wo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=ob(i);return new Wo({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function ob(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Ri{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Uh(e,t,i,s)}}function Bw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(n,l,e,i):l})}async function vx(n,e,t=!1){const i=await Qu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Wo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(n,e,t=!1){const{auth:i}=n;if(Xn(i.app))return Promise.reject(pa(i));const s="reauthenticate";try{const l=await Qu(n,Bw(i,s,e,n),t);Ee(l.idToken,i,"internal-error");const c=H_(l.idToken);Ee(c,i,"internal-error");const{sub:d}=c;return Ee(n.uid===d,i,"user-mismatch"),Wo._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&nr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(n,e,t=!1){if(Xn(n.app))return Promise.reject(pa(n));const i="signIn",s=await Bw(n,i,e),l=await Wo._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function Ex(n,e){return zw(ll(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(n){const e=ll(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function bx(n,e,t){return Xn(n.app)?Promise.reject(pa(n)):Ex(on(n),ul.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Tx(n),i})}function Ax(n,e,t,i){return on(n).onIdTokenChanged(e,t,i)}function Sx(n,e,t){return on(n).beforeAuthStateChanged(e,t)}function wx(n,e,t,i){return on(n).onAuthStateChanged(e,t,i)}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=1e3,Cx=10;class Hw extends jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);GV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Cx):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Rx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hw.type="LOCAL";const Ox=Hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qw.type="SESSION";const Fw=qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Ed(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await Ix(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=G_("",20);s.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function Nx(n){Nr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function Mx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Px(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Vx(){return $w()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firebaseLocalStorageDb",xx=1,zh="firebaseLocalStorage",Kw="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Td(n,e){return n.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function kx(){const n=indexedDB.deleteDatabase(Gw);return new dc(n).toPromise()}function Hg(){const n=indexedDB.open(Gw,xx);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(zh,{keyPath:Kw})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(zh)?e(i):(i.close(),await kx(),e(await Hg()))})})}async function lb(n,e,t){const i=Td(n,!0).put({[Kw]:e,value:t});return new dc(i).toPromise()}async function Lx(n,e){const t=Td(n,!1).get(e),i=await new dc(t).toPromise();return i===void 0?null:i.value}function ub(n,e){const t=Td(n,!0).delete(e);return new dc(t).toPromise()}const Ux=800,Bx=3;class Qw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Bx)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $w()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(Vx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Mx(),!this.activeServiceWorker)return;this.sender=new Dx(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Px()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hg();return await lb(e,Bh,"1"),await ub(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>lb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Lx(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ub(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Td(s,!1).getAll();return new dc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ux)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qw.type="LOCAL";const zx=Qw;new fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n,e){return e?hi(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends F_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Hx(n){return zw(n.auth,new K_(n),n.bypassAuthState)}function qx(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),yx(t,new K_(n),n.bypassAuthState)}async function Fx(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),vx(t,new K_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hx;case"linkViaPopup":case"linkViaRedirect":return Fx;case"reauthViaPopup":case"reauthViaRedirect":return qx;default:nr(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new fc(2e3,1e4);class Vo extends Yw{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=G_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$x.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="pendingRedirect",uh=new Map;class Kx extends Yw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const i=await Qx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qx(n,e){const t=Wx(e),i=Xx(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function Yx(n,e){uh.set(n._key(),e)}function Xx(n){return hi(n._redirectPersistence)}function Wx(n){return lh(Gx,n.config.apiKey,n.name)}async function Zx(n,e,t=!1){if(Xn(n.app))return Promise.reject(pa(n));const i=ll(n),s=jx(i,e),c=await new Kx(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=10*60*1e3;class ek{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Xw(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Dr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jx&&this.cachedEventUids.clear(),this.cachedEventUids.has(cb(e))}saveEventToCache(e){this.cachedEventUids.add(cb(e)),this.lastProcessedEventTime=Date.now()}}function cb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Xw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(n,e={}){return Oa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ik=/^https?/;async function ak(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nk(n);for(const t of e)try{if(sk(t))return}catch{}nr(n,"unauthorized-domain")}function sk(n){const e=zg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!ik.test(t))return!1;if(rk.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new fc(3e4,6e4);function fb(){const n=Nr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lk(n){return new Promise((e,t)=>{var i,s,l;function c(){fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fb(),t(Dr(n,"network-request-failed"))},timeout:ok.get()})}if(!((s=(i=Nr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Nr().gapi)===null||l===void 0)&&l.load)c();else{const d=tx("iframefcb");return Nr()[d]=()=>{gapi.load?c():t(Dr(n,"network-request-failed"))},xw(`${ex()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw ch=null,e})}let ch=null;function uk(n){return ch=ch||lk(n),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new fc(5e3,15e3),fk="__/auth/iframe",hk="emulator/auth/iframe",dk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pk(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?j_(e,hk):`https://${n.config.authDomain}/${fk}`,i={apiKey:e.apiKey,appName:n.name,v:nl},s=mk.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${ac(i).slice(1)}`}async function gk(n){const e=await uk(n),t=Nr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:pk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dk,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Dr(n,"network-request-failed"),d=Nr().setTimeout(()=>{l(c)},ck.get());function m(){Nr().clearTimeout(d),s(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vk=500,yk=600,Ek="_blank",Tk="http://localhost";class hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bk(n,e,t,i=vk,s=yk){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},_k),{width:i.toString(),height:s.toString(),top:l,left:c}),g=tn().toLowerCase();t&&(d=Ow(g)?Ek:t),Rw(g)&&(e=e||Tk,m.scrollbars="yes");const v=Object.entries(m).reduce((S,[O,D])=>`${S}${O}=${D},`,"");if($V(g)&&d!=="_self")return Ak(e||"",d),new hb(null);const T=window.open(e||"",d,v);Ee(T,n,"popup-blocked");try{T.focus()}catch{}return new hb(T)}function Ak(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="__/auth/handler",wk="emulator/auth/handler",Rk=encodeURIComponent("fac");async function db(n,e,t,i,s,l){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:nl,eventId:s};if(e instanceof Uw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",GD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof hc){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),g=m?`#${Rk}=${encodeURIComponent(m)}`:"";return`${Ck(n)}?${ac(d).slice(1)}${g}`}function Ck({config:n}){return n.emulator?j_(n,wk):`https://${n.authDomain}/${Sk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="webStorageSupport";class Ok{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fw,this._completeRedirectFn=Zx,this._overrideRedirectResult=Yx}async _openPopup(e,t,i,s){var l;Ai((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await db(e,t,i,zg(),s);return bk(e,c,G_())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await db(e,t,i,zg(),s);return Nx(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Ai(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await gk(e),i=new ek(e);return t.register("authEvent",s=>(Ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jp,{type:Jp},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[Jp];c!==void 0&&t(!!c),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ak(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Pw()||Cw()||q_()}}const Ik=Ok;var mb="@firebase/auth",pb="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mk(n){jo(new ys("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vw(n)},g=new WV(i,s,l,m);return ox(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),jo(new ys("auth-internal",e=>{const t=ll(e.getProvider("auth").getImmediate());return(i=>new Dk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ha(mb,pb,Nk(n)),ha(mb,pb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=5*60,Vk=VA("authIdTokenMaxAge")||Pk;let gb=null;const xk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Vk)return;const s=t==null?void 0:t.token;gb!==s&&(gb=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kk(n=UA()){const e=a_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=sx(n,{popupRedirectResolver:Ik,persistence:[zx,Ox,Fw]}),i=VA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=xk(l.toString());Sx(t,c,()=>c(t.currentUser)),Ax(t,d=>c(d))}}const s=MA("auth");return s&&lx(t,`http://${s}`),t}function Lk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=Dr("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",Lk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mk("Browser");const Uk={apiKey:"AIzaSyCikTYhNEpkHoyrWkPvqb01EaU8gIiLs1A",authDomain:"kts-frontend-project.firebaseapp.com",projectId:"kts-frontend-project",storageBucket:"kts-frontend-project.firebasestorage.app",messagingSenderId:"368221037168",appId:"1:368221037168:web:5d9998beac2fc4f3530ab5"},Ww=LA(Uk),eg=kk(Ww),tg=sV(Ww);class Bk{constructor(){wp(this,"user",null);wp(this,"cart",[]);YI(this),this.init()}init(){wx(eg,async e=>{this.user=e,e?await this.loadCart():this.cart=[]})}setUser(e){this.user=e}async login(e,t){const i=await bx(eg,e,t);return this.user=i.user,i}logout(){eg.signOut(),this.user=null}async loadCart(){if(!this.user)return;const e=Wp(tg,"carts",this.user.uid),t=await EV(e);t.exists()?this.cart=t.data().items||[]:this.cart=[]}async addToCart(e){if(!this.user)throw new Error("User not logged in");const t=Wp(tg,"carts",this.user.uid);await XT(t,{items:SV(e)}).catch(async i=>{i.code==="not-found"&&await bV(t,{items:[e]})}),this.cart.push(e)}async removeFromCart(e){if(!this.user)throw new Error("User not logged in");const t=Wp(tg,"carts",this.user.uid);await XT(t,{items:wV(e)}),this.cart=this.cart.filter(i=>i!==e)}}const zk=new Bk;/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Si(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qg({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Q_(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Zw(n,e,t="/"){return jk(n,e,t,!1)}function jk(n,e,t,i){let s=typeof e=="string"?Q_(e):e,l=Aa(s.pathname||"/",t);if(l==null)return null;let c=Jw(n);Hk(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=Jk(l);d=Wk(c[m],g,i)}return d}function Jw(n,e=[],t=[],i=""){let s=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Kt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=gi([i,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(Kt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Jw(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:Yk(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let m of eR(l.path))s(l,c,m)}),e}function eR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=eR(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function Hk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Xk(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var qk=/^:[\w-]+$/,Fk=3,$k=2,Gk=1,Kk=10,Qk=-2,_b=n=>n==="*";function Yk(n,e){let t=n.split("/"),i=t.length;return t.some(_b)&&(i+=Qk),e&&(i+=$k),t.filter(s=>!_b(s)).reduce((s,l)=>s+(qk.test(l)?Fk:l===""?Gk:Kk),i)}function Xk(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function Wk(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=jh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),S=m.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=jh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(s,T.params),c.push({params:s,pathname:gi([l,T.pathname]),pathnameBase:rL(gi([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=gi([l,T.pathnameBase]))}return c}function jh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Zk(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let D=d[S]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const O=d[S];return T&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function Zk(n,e=!1,t=!0){Si(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function Jk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Aa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function eL(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Q_(n):n;return{pathname:t?t.startsWith("/")?t:tL(t,e):e,search:iL(i),hash:aL(s)}}function tL(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ng(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nL(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tR(n){let e=nL(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function nR(n,e,t,i=!1){let s;typeof n=="string"?s=Q_(n):(s={...n},Kt(!s.pathname||!s.pathname.includes("?"),ng("?","pathname","search",s)),Kt(!s.pathname||!s.pathname.includes("#"),ng("#","pathname","hash",s)),Kt(!s.search||!s.search.includes("#"),ng("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;s.pathname=S.join("/")}d=T>=0?e[T]:"/"}let m=eL(s,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var gi=n=>n.join("/").replace(/\/\/+/g,"/"),rL=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),iL=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sL(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rR=["POST","PUT","PATCH","DELETE"];new Set(rR);var oL=["GET",...rR];new Set(oL);var cl=M.createContext(null);cl.displayName="DataRouter";var bd=M.createContext(null);bd.displayName="DataRouterState";var iR=M.createContext({isTransitioning:!1});iR.displayName="ViewTransition";var lL=M.createContext(new Map);lL.displayName="Fetchers";var uL=M.createContext(null);uL.displayName="Await";var Ci=M.createContext(null);Ci.displayName="Navigation";var Y_=M.createContext(null);Y_.displayName="Location";var xr=M.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var X_=M.createContext(null);X_.displayName="RouteError";function cL(n,{relative:e}={}){Kt(Ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=M.useContext(Ci),{hash:s,pathname:l,search:c}=mc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:gi([t,l])),i.createHref({pathname:d,search:c,hash:s})}function Ad(){return M.useContext(Y_)!=null}function Ms(){return Kt(Ad(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Y_).location}var aR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sR(n){M.useContext(Ci).static||M.useLayoutEffect(n)}function fL(){let{isDataRoute:n}=M.useContext(xr);return n?RL():hL()}function hL(){Kt(Ad(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(cl),{basename:e,navigator:t}=M.useContext(Ci),{matches:i}=M.useContext(xr),{pathname:s}=Ms(),l=JSON.stringify(tR(i)),c=M.useRef(!1);return sR(()=>{c.current=!0}),M.useCallback((m,g={})=>{if(Si(c.current,aR),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=nR(m,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:gi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,s,n])}var dL=M.createContext(null);function mL(n){let e=M.useContext(xr).outlet;return e&&M.createElement(dL.Provider,{value:n},e)}function mc(n,{relative:e}={}){let{matches:t}=M.useContext(xr),{pathname:i}=Ms(),s=JSON.stringify(tR(t));return M.useMemo(()=>nR(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function pL(n,e,t,i){Kt(Ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=M.useContext(Ci),{matches:c}=M.useContext(xr),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let Q=T&&T.path||"";oR(g,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=Ms(),O;O=S;let D=O.pathname||"/",H=D;if(v!=="/"){let Q=v.replace(/^\//,"").split("/");H="/"+D.replace(/^\//,"").split("/").slice(Q.length).join("/")}let k=!l&&t&&t.matches&&t.matches.length>0?t.matches:Zw(n,{pathname:H});return Si(T||k!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Si(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),EL(k&&k.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:gi([v,s.encodeLocation?s.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?v:gi([v,s.encodeLocation?s.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),c,t,i)}function gL(){let n=wL(),e=sL(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:s},t):null,c)}var _L=M.createElement(gL,null),vL=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(xr.Provider,{value:this.props.routeContext},M.createElement(X_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yL({routeContext:n,match:e,children:t}){let i=M.useContext(cl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(xr.Provider,{value:n},t)}function EL(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let m=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Kt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:T}=t,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||S){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,g,v)=>{let T,S=!1,O=null,D=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,O=g.route.errorElement||_L,c&&(d<0&&v===0?(oR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,D=null):d===v&&(S=!0,D=g.route.hydrateFallbackElement||null)));let H=e.concat(s.slice(0,v+1)),k=()=>{let F;return T?F=O:S?F=D:g.route.Component?F=M.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=m,M.createElement(yL,{match:g,routeContext:{outlet:m,matches:H,isDataRoute:t!=null},children:F})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?M.createElement(vL,{location:t.location,revalidation:t.revalidation,component:O,error:T,children:k(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):k()},null)}function W_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TL(n){let e=M.useContext(cl);return Kt(e,W_(n)),e}function bL(n){let e=M.useContext(bd);return Kt(e,W_(n)),e}function AL(n){let e=M.useContext(xr);return Kt(e,W_(n)),e}function Z_(n){let e=AL(n),t=e.matches[e.matches.length-1];return Kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function SL(){return Z_("useRouteId")}function wL(){var i;let n=M.useContext(X_),e=bL("useRouteError"),t=Z_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function RL(){let{router:n}=TL("useNavigate"),e=Z_("useNavigate"),t=M.useRef(!1);return sR(()=>{t.current=!0}),M.useCallback(async(s,l={})=>{Si(t.current,aR),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var vb={};function oR(n,e,t){!e&&!vb[n]&&(vb[n]=!0,Si(!1,t))}M.memo(CL);function CL({routes:n,future:e,state:t}){return pL(n,void 0,t,e)}function OL(n){return mL(n.context)}var fh="get",hh="application/x-www-form-urlencoded";function Sd(n){return n!=null&&typeof n.tagName=="string"}function IL(n){return Sd(n)&&n.tagName.toLowerCase()==="button"}function DL(n){return Sd(n)&&n.tagName.toLowerCase()==="form"}function NL(n){return Sd(n)&&n.tagName.toLowerCase()==="input"}function ML(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function PL(n,e){return n.button===0&&(!e||e==="_self")&&!ML(n)}var Xf=null;function VL(){if(Xf===null)try{new FormData(document.createElement("form"),0),Xf=!1}catch{Xf=!0}return Xf}var xL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rg(n){return n!=null&&!xL.has(n)?(Si(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):n}function kL(n,e){let t,i,s,l,c;if(DL(n)){let d=n.getAttribute("action");i=d?Aa(d,e):null,t=n.getAttribute("method")||fh,s=rg(n.getAttribute("enctype"))||hh,l=new FormData(n)}else if(IL(n)||NL(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?Aa(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||fh,s=rg(n.getAttribute("formenctype"))||rg(d.getAttribute("enctype"))||hh,l=new FormData(d,n),!VL()){let{name:g,type:v,value:T}=n;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,T)}}else{if(Sd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fh,i=null,s=hh,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}function J_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function LL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BL(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await LL(l,t);return c.links?c.links():[]}return[]}));return qL(i.flat(1).filter(UL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function yb(n,e,t,i,s,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var v;return t[g].pathname!==m.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var T;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function zL(n,e,{includeHydrateFallback:t}={}){return jL(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function jL(n){return[...new Set(n)]}function HL(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function qL(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(HL(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}function FL(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Aa(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function lR(){let n=M.useContext(cl);return J_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $L(){let n=M.useContext(bd);return J_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ev=M.createContext(void 0);ev.displayName="FrameworkContext";function uR(){let n=M.useContext(ev);return J_(n,"You must render this element inside a <HydratedRouter> element"),n}function GL(n,e){let t=M.useContext(ev),[i,s]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,S=M.useRef(null);M.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let H=F=>{F.forEach(Q=>{c(Q.isIntersecting)})},k=new IntersectionObserver(H,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[n]),M.useEffect(()=>{if(i){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[i]);let O=()=>{s(!0)},D=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Au(d,O),onBlur:Au(m,D),onMouseEnter:Au(g,O),onMouseLeave:Au(v,D),onTouchStart:Au(T,O)}]:[!1,S,{}]}function Au(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KL({page:n,...e}){let{router:t}=lR(),i=M.useMemo(()=>Zw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?M.createElement(YL,{page:n,matches:i,...e}):null}function QL(n){let{manifest:e,routeModules:t}=uR(),[i,s]=M.useState([]);return M.useEffect(()=>{let l=!1;return BL(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function YL({page:n,matches:e,...t}){let i=Ms(),{manifest:s,routeModules:l}=uR(),{basename:c}=lR(),{loaderData:d,matches:m}=$L(),g=M.useMemo(()=>yb(n,e,m,s,i,"data"),[n,e,m,s,i]),v=M.useMemo(()=>yb(n,e,m,s,i,"assets"),[n,e,m,s,i]),T=M.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let D=new Set,H=!1;if(e.forEach(F=>{var ee;let Q=s.routes[F.route.id];!Q||!Q.hasLoader||(!g.some(ae=>ae.route.id===F.route.id)&&F.route.id in d&&((ee=l[F.route.id])!=null&&ee.shouldRevalidate)||Q.hasClientLoader?H=!0:D.add(F.route.id))}),D.size===0)return[];let k=FL(n,c);return H&&D.size>0&&k.searchParams.set("_routes",e.filter(F=>D.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[c,d,i,s,g,e,n,l]),S=M.useMemo(()=>zL(v,s),[v,s]),O=QL(v);return M.createElement(M.Fragment,null,T.map(D=>M.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),S.map(D=>M.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),O.map(({key:D,link:H})=>M.createElement("link",{key:D,...H})))}function XL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cR&&(window.__reactRouterVersion="7.4.1")}catch{}var fR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hR=M.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:T,...S},O){let{basename:D}=M.useContext(Ci),H=typeof g=="string"&&fR.test(g),k,F=!1;if(typeof g=="string"&&H&&(k=g,cR))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=Aa(N.pathname,D);N.origin===R.origin&&L!=null?g=L+N.search+N.hash:F=!0}catch{Si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=cL(g,{relative:s}),[ee,ae,oe]=GL(i,S),de=eU(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:s,viewTransition:T});function P(R){e&&e(R),R.defaultPrevented||de(R)}let w=M.createElement("a",{...S,...oe,href:k||Q,onClick:F||l?e:P,ref:XL(O,ae),target:m,"data-discover":!H&&t==="render"?"true":void 0});return ee&&!H?M.createElement(M.Fragment,null,w,M.createElement(KL,{page:Q})):w});hR.displayName="Link";var WL=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let T=mc(c,{relative:g.relative}),S=Ms(),O=M.useContext(bd),{navigator:D,basename:H}=M.useContext(Ci),k=O!=null&&aU(T)&&d===!0,F=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,Q=S.pathname,ee=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),ee=ee?ee.toLowerCase():null,F=F.toLowerCase()),ee&&H&&(ee=Aa(ee,H)||ee);const ae=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let oe=Q===F||!s&&Q.startsWith(F)&&Q.charAt(ae)==="/",de=ee!=null&&(ee===F||!s&&ee.startsWith(F)&&ee.charAt(F.length)==="/"),P={isActive:oe,isPending:de,isTransitioning:k},w=oe?e:void 0,R;typeof i=="function"?R=i(P):R=[i,oe?"active":null,de?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(P):l;return M.createElement(hR,{...g,"aria-current":w,className:R,ref:v,style:N,to:c,viewTransition:d},typeof m=="function"?m(P):m)});WL.displayName="NavLink";var ZL=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=fh,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...S},O)=>{let D=rU(),H=iU(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&fR.test(d),Q=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let ae=ee.nativeEvent.submitter,oe=(ae==null?void 0:ae.getAttribute("formmethod"))||c;D(ae||ee.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:T})};return M.createElement("form",{ref:O,method:k,action:H,onSubmit:i?m:Q,...S,"data-discover":!F&&n==="render"?"true":void 0})});ZL.displayName="Form";function JL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dR(n){let e=M.useContext(cl);return Kt(e,JL(n)),e}function eU(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=fL(),m=Ms(),g=mc(n,{relative:l});return M.useCallback(v=>{if(PL(v,e)){v.preventDefault();let T=t!==void 0?t:qg(m)===qg(g);d(n,{replace:T,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[m,d,g,t,i,e,n,s,l,c])}var tU=0,nU=()=>`__${String(++tU)}__`;function rU(){let{router:n}=dR("useSubmit"),{basename:e}=M.useContext(Ci),t=SL();return M.useCallback(async(i,s={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=kL(i,e);if(s.navigate===!1){let v=s.fetcherKey||nU();await n.fetch(v,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function iU(n,{relative:e}={}){let{basename:t}=M.useContext(Ci),i=M.useContext(xr);Kt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...mc(n||".",{relative:e})},c=Ms();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:gi([t,l.pathname])),qg(l)}function aU(n,e={}){let t=M.useContext(iR);Kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=dR("useViewTransitionState"),s=mc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Aa(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Aa(t.nextLocation.pathname,i)||t.nextLocation.pathname;return jh(s.pathname,c)!=null||jh(s.pathname,l)!=null}new TextEncoder;function sU(){return Iu.jsx("div",{className:"app",children:Iu.jsx(OL,{})})}const oU=Y1.createRoot(document.getElementById("root"));oU.render(Iu.jsx(OA,{authStore:zk,children:Iu.jsx(lO,{children:Iu.jsx(sU,{})})}));
